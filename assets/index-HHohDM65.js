function _D(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const r=Object.getOwnPropertyDescriptor(o,i);r&&Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function H0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fg={exports:{}},ll={},mg={exports:{}},_e={};var Wy;function $D(){if(Wy)return _e;Wy=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function R(L,W,ie){this.props=L,this.context=W,this.refs=y,this.updater=ie||C}R.prototype.isReactComponent={},R.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},R.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function x(){}x.prototype=R.prototype;function E(L,W,ie){this.props=L,this.context=W,this.refs=y,this.updater=ie||C}var P=E.prototype=new x;P.constructor=E,w(P,R.prototype),P.isPureReactComponent=!0;var M=Array.isArray,T=Object.prototype.hasOwnProperty,k={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function z(L,W,ie){var pe,ye={},ve=null,De=null;if(W!=null)for(pe in W.ref!==void 0&&(De=W.ref),W.key!==void 0&&(ve=""+W.key),W)T.call(W,pe)&&!I.hasOwnProperty(pe)&&(ye[pe]=W[pe]);var Ie=arguments.length-2;if(Ie===1)ye.children=ie;else if(1<Ie){for(var Pe=Array(Ie),he=0;he<Ie;he++)Pe[he]=arguments[he+2];ye.children=Pe}if(L&&L.defaultProps)for(pe in Ie=L.defaultProps,Ie)ye[pe]===void 0&&(ye[pe]=Ie[pe]);return{$$typeof:e,type:L,key:ve,ref:De,props:ye,_owner:k.current}}function _(L,W){return{$$typeof:e,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function $(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function V(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return W[ie]})}var F=/\/+/g;function B(L,W){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):W.toString(36)}function G(L,W,ie,pe,ye){var ve=typeof L;(ve==="undefined"||ve==="boolean")&&(L=null);var De=!1;if(L===null)De=!0;else switch(ve){case"string":case"number":De=!0;break;case"object":switch(L.$$typeof){case e:case t:De=!0}}if(De)return De=L,ye=ye(De),L=pe===""?"."+B(De,0):pe,M(ye)?(ie="",L!=null&&(ie=L.replace(F,"$&/")+"/"),G(ye,W,ie,"",function(he){return he})):ye!=null&&($(ye)&&(ye=_(ye,ie+(!ye.key||De&&De.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+L)),W.push(ye)),1;if(De=0,pe=pe===""?".":pe+":",M(L))for(var Ie=0;Ie<L.length;Ie++){ve=L[Ie];var Pe=pe+B(ve,Ie);De+=G(ve,W,ie,Pe,ye)}else if(Pe=m(L),typeof Pe=="function")for(L=Pe.call(L),Ie=0;!(ve=L.next()).done;)ve=ve.value,Pe=pe+B(ve,Ie++),De+=G(ve,W,ie,Pe,ye);else if(ve==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return De}function O(L,W,ie){if(L==null)return L;var pe=[],ye=0;return G(L,pe,"","",function(ve){return W.call(ie,ve,ye++)}),pe}function Y(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var ne={current:null},j={transition:null},X={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:j,ReactCurrentOwner:k};function K(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:O,forEach:function(L,W,ie){O(L,function(){W.apply(this,arguments)},ie)},count:function(L){var W=0;return O(L,function(){W++}),W},toArray:function(L){return O(L,function(W){return W})||[]},only:function(L){if(!$(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},_e.Component=R,_e.Fragment=n,_e.Profiler=i,_e.PureComponent=E,_e.StrictMode=o,_e.Suspense=u,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,_e.act=K,_e.cloneElement=function(L,W,ie){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var pe=w({},L.props),ye=L.key,ve=L.ref,De=L._owner;if(W!=null){if(W.ref!==void 0&&(ve=W.ref,De=k.current),W.key!==void 0&&(ye=""+W.key),L.type&&L.type.defaultProps)var Ie=L.type.defaultProps;for(Pe in W)T.call(W,Pe)&&!I.hasOwnProperty(Pe)&&(pe[Pe]=W[Pe]===void 0&&Ie!==void 0?Ie[Pe]:W[Pe])}var Pe=arguments.length-2;if(Pe===1)pe.children=ie;else if(1<Pe){Ie=Array(Pe);for(var he=0;he<Pe;he++)Ie[he]=arguments[he+2];pe.children=Ie}return{$$typeof:e,type:L.type,key:ye,ref:ve,props:pe,_owner:De}},_e.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:r,_context:L},L.Consumer=L},_e.createElement=z,_e.createFactory=function(L){var W=z.bind(null,L);return W.type=L,W},_e.createRef=function(){return{current:null}},_e.forwardRef=function(L){return{$$typeof:l,render:L}},_e.isValidElement=$,_e.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:Y}},_e.memo=function(L,W){return{$$typeof:d,type:L,compare:W===void 0?null:W}},_e.startTransition=function(L){var W=j.transition;j.transition={};try{L()}finally{j.transition=W}},_e.unstable_act=K,_e.useCallback=function(L,W){return ne.current.useCallback(L,W)},_e.useContext=function(L){return ne.current.useContext(L)},_e.useDebugValue=function(){},_e.useDeferredValue=function(L){return ne.current.useDeferredValue(L)},_e.useEffect=function(L,W){return ne.current.useEffect(L,W)},_e.useId=function(){return ne.current.useId()},_e.useImperativeHandle=function(L,W,ie){return ne.current.useImperativeHandle(L,W,ie)},_e.useInsertionEffect=function(L,W){return ne.current.useInsertionEffect(L,W)},_e.useLayoutEffect=function(L,W){return ne.current.useLayoutEffect(L,W)},_e.useMemo=function(L,W){return ne.current.useMemo(L,W)},_e.useReducer=function(L,W,ie){return ne.current.useReducer(L,W,ie)},_e.useRef=function(L){return ne.current.useRef(L)},_e.useState=function(L){return ne.current.useState(L)},_e.useSyncExternalStore=function(L,W,ie){return ne.current.useSyncExternalStore(L,W,ie)},_e.useTransition=function(){return ne.current.useTransition()},_e.version="18.3.1",_e}var zy;function ym(){return zy||(zy=1,mg.exports=$D()),mg.exports}var _y;function UD(){if(_y)return ll;_y=1;var e=ym(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,d){var p,g={},m=null,C=null;d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(C=u.ref);for(p in u)o.call(u,p)&&!r.hasOwnProperty(p)&&(g[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:t,type:l,key:m,ref:C,props:g,_owner:i.current}}return ll.Fragment=n,ll.jsx=s,ll.jsxs=s,ll}var $y;function jD(){return $y||($y=1,fg.exports=UD()),fg.exports}var J=jD(),b=ym();const re=H0(b),Cf=_D({__proto__:null,default:re},[b]);var xu={},Cg={exports:{}},xn={},vg={exports:{}},wg={};var Uy;function KD(){return Uy||(Uy=1,(function(e){function t(j,X){var K=j.length;j.push(X);e:for(;0<K;){var L=K-1>>>1,W=j[L];if(0<i(W,X))j[L]=X,j[K]=W,K=L;else break e}}function n(j){return j.length===0?null:j[0]}function o(j){if(j.length===0)return null;var X=j[0],K=j.pop();if(K!==X){j[0]=K;e:for(var L=0,W=j.length,ie=W>>>1;L<ie;){var pe=2*(L+1)-1,ye=j[pe],ve=pe+1,De=j[ve];if(0>i(ye,K))ve<W&&0>i(De,ye)?(j[L]=De,j[ve]=K,L=ve):(j[L]=ye,j[pe]=K,L=pe);else if(ve<W&&0>i(De,K))j[L]=De,j[ve]=K,L=ve;else break e}}return X}function i(j,X){var K=j.sortIndex-X.sortIndex;return K!==0?K:j.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],p=1,g=null,m=3,C=!1,w=!1,y=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(j){for(var X=n(d);X!==null;){if(X.callback===null)o(d);else if(X.startTime<=j)o(d),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(d)}}function M(j){if(y=!1,P(j),!w)if(n(u)!==null)w=!0,Y(T);else{var X=n(d);X!==null&&ne(M,X.startTime-j)}}function T(j,X){w=!1,y&&(y=!1,x(z),z=-1),C=!0;var K=m;try{for(P(X),g=n(u);g!==null&&(!(g.expirationTime>X)||j&&!V());){var L=g.callback;if(typeof L=="function"){g.callback=null,m=g.priorityLevel;var W=L(g.expirationTime<=X);X=e.unstable_now(),typeof W=="function"?g.callback=W:g===n(u)&&o(u),P(X)}else o(u);g=n(u)}if(g!==null)var ie=!0;else{var pe=n(d);pe!==null&&ne(M,pe.startTime-X),ie=!1}return ie}finally{g=null,m=K,C=!1}}var k=!1,I=null,z=-1,_=5,$=-1;function V(){return!(e.unstable_now()-$<_)}function F(){if(I!==null){var j=e.unstable_now();$=j;var X=!0;try{X=I(!0,j)}finally{X?B():(k=!1,I=null)}}else k=!1}var B;if(typeof E=="function")B=function(){E(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,O=G.port2;G.port1.onmessage=F,B=function(){O.postMessage(null)}}else B=function(){R(F,0)};function Y(j){I=j,k||(k=!0,B())}function ne(j,X){z=R(function(){j(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||C||(w=!0,Y(T))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var K=m;m=X;try{return j()}finally{m=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,X){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=m;m=j;try{return X()}finally{m=K}},e.unstable_scheduleCallback=function(j,X,K){var L=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?L+K:L):K=L,j){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,j={id:p++,callback:X,priorityLevel:j,startTime:K,expirationTime:W,sortIndex:-1},K>L?(j.sortIndex=K,t(d,j),n(u)===null&&j===n(d)&&(y?(x(z),z=-1):y=!0,ne(M,K-L))):(j.sortIndex=W,t(u,j),w||C||(w=!0,Y(T))),j},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(j){var X=m;return function(){var K=m;m=X;try{return j.apply(this,arguments)}finally{m=K}}}})(wg)),wg}var jy;function qD(){return jy||(jy=1,vg.exports=KD()),vg.exports}var Ky;function YD(){if(Ky)return xn;Ky=1;var e=ym(),t=qD();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function r(a,c){s(a,c),s(a+"Capture",c)}function s(a,c){for(i[a]=c,a=0;a<c.length;a++)o.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function m(a){return u.call(g,a)?!0:u.call(p,a)?!1:d.test(a)?g[a]=!0:(p[a]=!0,!1)}function C(a,c,h,f){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,c,h,f){if(c===null||typeof c>"u"||C(a,c,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function y(a,c,h,f,v,S,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=S,this.removeEmptyString=D}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){R[a]=new y(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];R[c]=new y(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){R[a]=new y(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){R[a]=new y(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){R[a]=new y(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){R[a]=new y(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){R[a]=new y(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){R[a]=new y(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){R[a]=new y(a,5,!1,a.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(x,E);R[c]=new y(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(x,E);R[c]=new y(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(x,E);R[c]=new y(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){R[a]=new y(a,1,!1,a.toLowerCase(),null,!1,!1)}),R.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){R[a]=new y(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,c,h,f){var v=R.hasOwnProperty(c)?R[c]:null;(v!==null?v.type!==0:f||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,h,v,f)&&(h=null),f||v===null?m(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):v.mustUseProperty?a[v.propertyName]=h===null?v.type===3?!1:"":h:(c=v.attributeName,f=v.attributeNamespace,h===null?a.removeAttribute(c):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,f?a.setAttributeNS(f,c,h):a.setAttribute(c,h))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),k=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),j=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var K=Object.assign,L;function W(a){if(L===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);L=c&&c[1]||""}return`
`+L+a}var ie=!1;function pe(a,c){if(!a||ie)return"";ie=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Z){var f=Z}Reflect.construct(a,[],c)}else{try{c.call()}catch(Z){f=Z}a.call(c.prototype)}else{try{throw Error()}catch(Z){f=Z}a()}}catch(Z){if(Z&&f&&typeof Z.stack=="string"){for(var v=Z.stack.split(`
`),S=f.stack.split(`
`),D=v.length-1,A=S.length-1;1<=D&&0<=A&&v[D]!==S[A];)A--;for(;1<=D&&0<=A;D--,A--)if(v[D]!==S[A]){if(D!==1||A!==1)do if(D--,A--,0>A||v[D]!==S[A]){var N=`
`+v[D].replace(" at new "," at ");return a.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",a.displayName)),N}while(1<=D&&0<=A);break}}}finally{ie=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?W(a):""}function ye(a){switch(a.tag){case 5:return W(a.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return a=pe(a.type,!1),a;case 11:return a=pe(a.type.render,!1),a;case 1:return a=pe(a.type,!0),a;default:return""}}function ve(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case k:return"Portal";case _:return"Profiler";case z:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case F:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return c=a.displayName||null,c!==null?c:ve(a.type)||"Memo";case Y:c=a._payload,a=a._init;try{return ve(a(c))}catch{}}return null}function De(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(c);case 8:return c===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ie(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Pe(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function he(a){var c=Pe(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),f=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return v.call(this)},set:function(D){f=""+D,S.call(this,D)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Be(a){a._valueTracker||(a._valueTracker=he(a))}function Ge(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),f="";return a&&(f=Pe(a)?a.checked?"true":"false":a.value),a=f,a!==h?(c.setValue(a),!0):!1}function Ue(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Te(a,c){var h=c.checked;return K({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function We(a,c){var h=c.defaultValue==null?"":c.defaultValue,f=c.checked!=null?c.checked:c.defaultChecked;h=Ie(c.value!=null?c.value:h),a._wrapperState={initialChecked:f,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function bt(a,c){c=c.checked,c!=null&&P(a,"checked",c,!1)}function Fe(a,c){bt(a,c);var h=Ie(c.value),f=c.type;if(h!=null)f==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(f==="submit"||f==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?je(a,c.type,h):c.hasOwnProperty("defaultValue")&&je(a,c.type,Ie(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Ne(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var f=c.type;if(!(f!=="submit"&&f!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function je(a,c,h){(c!=="number"||Ue(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var ze=Array.isArray;function fe(a,c,h,f){if(a=a.options,c){c={};for(var v=0;v<h.length;v++)c["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=c.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&f&&(a[h].defaultSelected=!0)}else{for(h=""+Ie(h),c=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,f&&(a[v].defaultSelected=!0);return}c!==null||a[v].disabled||(c=a[v])}c!==null&&(c.selected=!0)}}function ge(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function mt(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(ze(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:Ie(h)}}function Ke(a,c){var h=Ie(c.value),f=Ie(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),f!=null&&(a.defaultValue=""+f)}function Et(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Qt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cn(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Qt(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ye,Rt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,f,v){MSApp.execUnsafeLocalFunction(function(){return a(c,h,f,v)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Ye=Ye||document.createElement("div"),Ye.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ye.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function vn(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},io=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(a){io.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),it[c]=it[a]})});function Yo(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||it.hasOwnProperty(a)&&it[a]?(""+c).trim():c+"px"}function rs(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var f=h.indexOf("--")===0,v=Yo(h,c[h],f);h==="float"&&(h="cssFloat"),f?a.setProperty(h,v):a[h]=v}}var kh=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ss(a,c){if(c){if(kh[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ee(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rt=null;function It(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xo=null,Qo=null,as=null;function iv(a){if(a=Ka(a)){if(typeof xo!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Gc(c),xo(a.stateNode,a.type,c))}}function rv(a){Qo?as?as.push(a):as=[a]:Qo=a}function sv(){if(Qo){var a=Qo,c=as;if(as=Qo=null,iv(a),c)for(a=0;a<c.length;a++)iv(c[a])}}function av(a,c){return a(c)}function lv(){}var Ih=!1;function cv(a,c,h){if(Ih)return a(c,h);Ih=!0;try{return av(a,c,h)}finally{Ih=!1,(Qo!==null||as!==null)&&(lv(),sv())}}function Pa(a,c){var h=a.stateNode;if(h===null)return null;var f=Gc(h);if(f===null)return null;h=f[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var Ah=!1;if(l)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Ah=!1}function YP(a,c,h,f,v,S,D,A,N){var Z=Array.prototype.slice.call(arguments,3);try{c.apply(h,Z)}catch(ae){this.onError(ae)}}var Da=!1,Cc=null,vc=!1,Lh=null,QP={onError:function(a){Da=!0,Cc=a}};function XP(a,c,h,f,v,S,D,A,N){Da=!1,Cc=null,YP.apply(QP,arguments)}function ZP(a,c,h,f,v,S,D,A,N){if(XP.apply(this,arguments),Da){if(Da){var Z=Cc;Da=!1,Cc=null}else throw Error(n(198));vc||(vc=!0,Lh=Z)}}function cr(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function uv(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function dv(a){if(cr(a)!==a)throw Error(n(188))}function JP(a){var c=a.alternate;if(!c){if(c=cr(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,f=c;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(f=v.return,f!==null){h=f;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return dv(v),a;if(S===f)return dv(v),c;S=S.sibling}throw Error(n(188))}if(h.return!==f.return)h=v,f=S;else{for(var D=!1,A=v.child;A;){if(A===h){D=!0,h=v,f=S;break}if(A===f){D=!0,f=v,h=S;break}A=A.sibling}if(!D){for(A=S.child;A;){if(A===h){D=!0,h=S,f=v;break}if(A===f){D=!0,f=S,h=v;break}A=A.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==f)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function hv(a){return a=JP(a),a!==null?pv(a):null}function pv(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=pv(a);if(c!==null)return c;a=a.sibling}return null}var gv=t.unstable_scheduleCallback,fv=t.unstable_cancelCallback,eE=t.unstable_shouldYield,tE=t.unstable_requestPaint,At=t.unstable_now,nE=t.unstable_getCurrentPriorityLevel,Oh=t.unstable_ImmediatePriority,mv=t.unstable_UserBlockingPriority,wc=t.unstable_NormalPriority,oE=t.unstable_LowPriority,Cv=t.unstable_IdlePriority,yc=null,Fo=null;function iE(a){if(Fo&&typeof Fo.onCommitFiberRoot=="function")try{Fo.onCommitFiberRoot(yc,a,void 0,(a.current.flags&128)===128)}catch{}}var ro=Math.clz32?Math.clz32:aE,rE=Math.log,sE=Math.LN2;function aE(a){return a>>>=0,a===0?32:31-(rE(a)/sE|0)|0}var Sc=64,bc=4194304;function Ta(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Rc(a,c){var h=a.pendingLanes;if(h===0)return 0;var f=0,v=a.suspendedLanes,S=a.pingedLanes,D=h&268435455;if(D!==0){var A=D&~v;A!==0?f=Ta(A):(S&=D,S!==0&&(f=Ta(S)))}else D=h&~v,D!==0?f=Ta(D):S!==0&&(f=Ta(S));if(f===0)return 0;if(c!==0&&c!==f&&(c&v)===0&&(v=f&-f,S=c&-c,v>=S||v===16&&(S&4194240)!==0))return c;if((f&4)!==0&&(f|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=f;0<c;)h=31-ro(c),v=1<<h,f|=a[h],c&=~v;return f}function lE(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cE(a,c){for(var h=a.suspendedLanes,f=a.pingedLanes,v=a.expirationTimes,S=a.pendingLanes;0<S;){var D=31-ro(S),A=1<<D,N=v[D];N===-1?((A&h)===0||(A&f)!==0)&&(v[D]=lE(A,c)):N<=c&&(a.expiredLanes|=A),S&=~A}}function Nh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function vv(){var a=Sc;return Sc<<=1,(Sc&4194240)===0&&(Sc=64),a}function Bh(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function Ma(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-ro(c),a[c]=h}function uE(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var f=a.eventTimes;for(a=a.expirationTimes;0<h;){var v=31-ro(h),S=1<<v;c[v]=0,f[v]=-1,a[v]=-1,h&=~S}}function Hh(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var f=31-ro(h),v=1<<f;v&c|a[f]&c&&(a[f]|=c),h&=~v}}var st=0;function wv(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var yv,Gh,Sv,bv,Rv,Vh=!1,xc=[],xi=null,Fi=null,Pi=null,ka=new Map,Ia=new Map,Ei=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xv(a,c){switch(a){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":ka.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(c.pointerId)}}function Aa(a,c,h,f,v,S){return a===null||a.nativeEvent!==S?(a={blockedOn:c,domEventName:h,eventSystemFlags:f,nativeEvent:S,targetContainers:[v]},c!==null&&(c=Ka(c),c!==null&&Gh(c)),a):(a.eventSystemFlags|=f,c=a.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),a)}function hE(a,c,h,f,v){switch(c){case"focusin":return xi=Aa(xi,a,c,h,f,v),!0;case"dragenter":return Fi=Aa(Fi,a,c,h,f,v),!0;case"mouseover":return Pi=Aa(Pi,a,c,h,f,v),!0;case"pointerover":var S=v.pointerId;return ka.set(S,Aa(ka.get(S)||null,a,c,h,f,v)),!0;case"gotpointercapture":return S=v.pointerId,Ia.set(S,Aa(Ia.get(S)||null,a,c,h,f,v)),!0}return!1}function Fv(a){var c=ur(a.target);if(c!==null){var h=cr(c);if(h!==null){if(c=h.tag,c===13){if(c=uv(h),c!==null){a.blockedOn=c,Rv(a.priority,function(){Sv(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Fc(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=zh(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var f=new h.constructor(h.type,h);rt=f,h.target.dispatchEvent(f),rt=null}else return c=Ka(h),c!==null&&Gh(c),a.blockedOn=h,!1;c.shift()}return!0}function Pv(a,c,h){Fc(a)&&h.delete(c)}function pE(){Vh=!1,xi!==null&&Fc(xi)&&(xi=null),Fi!==null&&Fc(Fi)&&(Fi=null),Pi!==null&&Fc(Pi)&&(Pi=null),ka.forEach(Pv),Ia.forEach(Pv)}function La(a,c){a.blockedOn===c&&(a.blockedOn=null,Vh||(Vh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pE)))}function Oa(a){function c(v){return La(v,a)}if(0<xc.length){La(xc[0],a);for(var h=1;h<xc.length;h++){var f=xc[h];f.blockedOn===a&&(f.blockedOn=null)}}for(xi!==null&&La(xi,a),Fi!==null&&La(Fi,a),Pi!==null&&La(Pi,a),ka.forEach(c),Ia.forEach(c),h=0;h<Ei.length;h++)f=Ei[h],f.blockedOn===a&&(f.blockedOn=null);for(;0<Ei.length&&(h=Ei[0],h.blockedOn===null);)Fv(h),h.blockedOn===null&&Ei.shift()}var ls=M.ReactCurrentBatchConfig,Pc=!0;function gE(a,c,h,f){var v=st,S=ls.transition;ls.transition=null;try{st=1,Wh(a,c,h,f)}finally{st=v,ls.transition=S}}function fE(a,c,h,f){var v=st,S=ls.transition;ls.transition=null;try{st=4,Wh(a,c,h,f)}finally{st=v,ls.transition=S}}function Wh(a,c,h,f){if(Pc){var v=zh(a,c,h,f);if(v===null)rp(a,c,f,Ec,h),xv(a,f);else if(hE(v,a,c,h,f))f.stopPropagation();else if(xv(a,f),c&4&&-1<dE.indexOf(a)){for(;v!==null;){var S=Ka(v);if(S!==null&&yv(S),S=zh(a,c,h,f),S===null&&rp(a,c,f,Ec,h),S===v)break;v=S}v!==null&&f.stopPropagation()}else rp(a,c,f,null,h)}}var Ec=null;function zh(a,c,h,f){if(Ec=null,a=It(f),a=ur(a),a!==null)if(c=cr(a),c===null)a=null;else if(h=c.tag,h===13){if(a=uv(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Ec=a,null}function Ev(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nE()){case Oh:return 1;case mv:return 4;case wc:case oE:return 16;case Cv:return 536870912;default:return 16}default:return 16}}var Di=null,_h=null,Dc=null;function Dv(){if(Dc)return Dc;var a,c=_h,h=c.length,f,v="value"in Di?Di.value:Di.textContent,S=v.length;for(a=0;a<h&&c[a]===v[a];a++);var D=h-a;for(f=1;f<=D&&c[h-f]===v[S-f];f++);return Dc=v.slice(a,1<f?1-f:void 0)}function Tc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Mc(){return!0}function Tv(){return!1}function An(a){function c(h,f,v,S,D){this._reactName=h,this._targetInst=v,this.type=f,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(h=a[A],this[A]=h?h(S):S[A]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Mc:Tv,this.isPropagationStopped=Tv,this}return K(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),c}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$h=An(cs),Na=K({},cs,{view:0,detail:0}),mE=An(Na),Uh,jh,Ba,kc=K({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ba&&(Ba&&a.type==="mousemove"?(Uh=a.screenX-Ba.screenX,jh=a.screenY-Ba.screenY):jh=Uh=0,Ba=a),Uh)},movementY:function(a){return"movementY"in a?a.movementY:jh}}),Mv=An(kc),CE=K({},kc,{dataTransfer:0}),vE=An(CE),wE=K({},Na,{relatedTarget:0}),Kh=An(wE),yE=K({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),SE=An(yE),bE=K({},cs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),RE=An(bE),xE=K({},cs,{data:0}),kv=An(xE),FE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DE(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=EE[a])?!!c[a]:!1}function qh(){return DE}var TE=K({},Na,{key:function(a){if(a.key){var c=FE[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Tc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?PE[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qh,charCode:function(a){return a.type==="keypress"?Tc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Tc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ME=An(TE),kE=K({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=An(kE),IE=K({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qh}),AE=An(IE),LE=K({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),OE=An(LE),NE=K({},kc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),BE=An(NE),HE=[9,13,27,32],Yh=l&&"CompositionEvent"in window,Ha=null;l&&"documentMode"in document&&(Ha=document.documentMode);var GE=l&&"TextEvent"in window&&!Ha,Av=l&&(!Yh||Ha&&8<Ha&&11>=Ha),Lv=" ",Ov=!1;function Nv(a,c){switch(a){case"keyup":return HE.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var us=!1;function VE(a,c){switch(a){case"compositionend":return Bv(c);case"keypress":return c.which!==32?null:(Ov=!0,Lv);case"textInput":return a=c.data,a===Lv&&Ov?null:a;default:return null}}function WE(a,c){if(us)return a==="compositionend"||!Yh&&Nv(a,c)?(a=Dv(),Dc=_h=Di=null,us=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Av&&c.locale!=="ko"?null:c.data;default:return null}}var zE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!zE[a.type]:c==="textarea"}function Gv(a,c,h,f){rv(f),c=Nc(c,"onChange"),0<c.length&&(h=new $h("onChange","change",null,h,f),a.push({event:h,listeners:c}))}var Ga=null,Va=null;function _E(a){ow(a,0)}function Ic(a){var c=fs(a);if(Ge(c))return a}function $E(a,c){if(a==="change")return c}var Vv=!1;if(l){var Qh;if(l){var Xh="oninput"in document;if(!Xh){var Wv=document.createElement("div");Wv.setAttribute("oninput","return;"),Xh=typeof Wv.oninput=="function"}Qh=Xh}else Qh=!1;Vv=Qh&&(!document.documentMode||9<document.documentMode)}function zv(){Ga&&(Ga.detachEvent("onpropertychange",_v),Va=Ga=null)}function _v(a){if(a.propertyName==="value"&&Ic(Va)){var c=[];Gv(c,Va,a,It(a)),cv(_E,c)}}function UE(a,c,h){a==="focusin"?(zv(),Ga=c,Va=h,Ga.attachEvent("onpropertychange",_v)):a==="focusout"&&zv()}function jE(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ic(Va)}function KE(a,c){if(a==="click")return Ic(c)}function qE(a,c){if(a==="input"||a==="change")return Ic(c)}function YE(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var so=typeof Object.is=="function"?Object.is:YE;function Wa(a,c){if(so(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),f=Object.keys(c);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var v=h[f];if(!u.call(c,v)||!so(a[v],c[v]))return!1}return!0}function $v(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Uv(a,c){var h=$v(a);a=0;for(var f;h;){if(h.nodeType===3){if(f=a+h.textContent.length,a<=c&&f>=c)return{node:h,offset:c-a};a=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$v(h)}}function jv(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?jv(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Kv(){for(var a=window,c=Ue();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Ue(a.document)}return c}function Zh(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function QE(a){var c=Kv(),h=a.focusedElem,f=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&jv(h.ownerDocument.documentElement,h)){if(f!==null&&Zh(h)){if(c=f.start,a=f.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var v=h.textContent.length,S=Math.min(f.start,v);f=f.end===void 0?S:Math.min(f.end,v),!a.extend&&S>f&&(v=f,f=S,S=v),v=Uv(h,S);var D=Uv(h,f);v&&D&&(a.rangeCount!==1||a.anchorNode!==v.node||a.anchorOffset!==v.offset||a.focusNode!==D.node||a.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(v.node,v.offset),a.removeAllRanges(),S>f?(a.addRange(c),a.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var XE=l&&"documentMode"in document&&11>=document.documentMode,ds=null,Jh=null,za=null,ep=!1;function qv(a,c,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ep||ds==null||ds!==Ue(f)||(f=ds,"selectionStart"in f&&Zh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),za&&Wa(za,f)||(za=f,f=Nc(Jh,"onSelect"),0<f.length&&(c=new $h("onSelect","select",null,c,h),a.push({event:c,listeners:f}),c.target=ds)))}function Ac(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var hs={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},tp={},Yv={};l&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Lc(a){if(tp[a])return tp[a];if(!hs[a])return a;var c=hs[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in Yv)return tp[a]=c[h];return a}var Qv=Lc("animationend"),Xv=Lc("animationiteration"),Zv=Lc("animationstart"),Jv=Lc("transitionend"),ew=new Map,tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(a,c){ew.set(a,c),r(c,[a])}for(var np=0;np<tw.length;np++){var op=tw[np],ZE=op.toLowerCase(),JE=op[0].toUpperCase()+op.slice(1);Ti(ZE,"on"+JE)}Ti(Qv,"onAnimationEnd"),Ti(Xv,"onAnimationIteration"),Ti(Zv,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Jv,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eD=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function nw(a,c,h){var f=a.type||"unknown-event";a.currentTarget=h,ZP(f,c,void 0,a),a.currentTarget=null}function ow(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var f=a[h],v=f.event;f=f.listeners;e:{var S=void 0;if(c)for(var D=f.length-1;0<=D;D--){var A=f[D],N=A.instance,Z=A.currentTarget;if(A=A.listener,N!==S&&v.isPropagationStopped())break e;nw(v,A,Z),S=N}else for(D=0;D<f.length;D++){if(A=f[D],N=A.instance,Z=A.currentTarget,A=A.listener,N!==S&&v.isPropagationStopped())break e;nw(v,A,Z),S=N}}}if(vc)throw a=Lh,vc=!1,Lh=null,a}function Ct(a,c){var h=c[dp];h===void 0&&(h=c[dp]=new Set);var f=a+"__bubble";h.has(f)||(iw(c,a,2,!1),h.add(f))}function ip(a,c,h){var f=0;c&&(f|=4),iw(h,a,f,c)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function $a(a){if(!a[Oc]){a[Oc]=!0,o.forEach(function(h){h!=="selectionchange"&&(eD.has(h)||ip(h,!1,a),ip(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Oc]||(c[Oc]=!0,ip("selectionchange",!1,c))}}function iw(a,c,h,f){switch(Ev(c)){case 1:var v=gE;break;case 4:v=fE;break;default:v=Wh}h=v.bind(null,c,h,a),v=void 0,!Ah||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),f?v!==void 0?a.addEventListener(c,h,{capture:!0,passive:v}):a.addEventListener(c,h,!0):v!==void 0?a.addEventListener(c,h,{passive:v}):a.addEventListener(c,h,!1)}function rp(a,c,h,f,v){var S=f;if((c&1)===0&&(c&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var A=f.stateNode.containerInfo;if(A===v||A.nodeType===8&&A.parentNode===v)break;if(D===4)for(D=f.return;D!==null;){var N=D.tag;if((N===3||N===4)&&(N=D.stateNode.containerInfo,N===v||N.nodeType===8&&N.parentNode===v))return;D=D.return}for(;A!==null;){if(D=ur(A),D===null)return;if(N=D.tag,N===5||N===6){f=S=D;continue e}A=A.parentNode}}f=f.return}cv(function(){var Z=S,ae=It(h),le=[];e:{var se=ew.get(a);if(se!==void 0){var me=$h,Se=a;switch(a){case"keypress":if(Tc(h)===0)break e;case"keydown":case"keyup":me=ME;break;case"focusin":Se="focus",me=Kh;break;case"focusout":Se="blur",me=Kh;break;case"beforeblur":case"afterblur":me=Kh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=vE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=AE;break;case Qv:case Xv:case Zv:me=SE;break;case Jv:me=OE;break;case"scroll":me=mE;break;case"wheel":me=BE;break;case"copy":case"cut":case"paste":me=RE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Iv}var be=(c&4)!==0,Lt=!be&&a==="scroll",U=be?se!==null?se+"Capture":null:se;be=[];for(var H=Z,Q;H!==null;){Q=H;var ce=Q.stateNode;if(Q.tag===5&&ce!==null&&(Q=ce,U!==null&&(ce=Pa(H,U),ce!=null&&be.push(Ua(H,ce,Q)))),Lt)break;H=H.return}0<be.length&&(se=new me(se,Se,null,h,ae),le.push({event:se,listeners:be}))}}if((c&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",se&&h!==rt&&(Se=h.relatedTarget||h.fromElement)&&(ur(Se)||Se[Xo]))break e;if((me||se)&&(se=ae.window===ae?ae:(se=ae.ownerDocument)?se.defaultView||se.parentWindow:window,me?(Se=h.relatedTarget||h.toElement,me=Z,Se=Se?ur(Se):null,Se!==null&&(Lt=cr(Se),Se!==Lt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(me=null,Se=Z),me!==Se)){if(be=Mv,ce="onMouseLeave",U="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(be=Iv,ce="onPointerLeave",U="onPointerEnter",H="pointer"),Lt=me==null?se:fs(me),Q=Se==null?se:fs(Se),se=new be(ce,H+"leave",me,h,ae),se.target=Lt,se.relatedTarget=Q,ce=null,ur(ae)===Z&&(be=new be(U,H+"enter",Se,h,ae),be.target=Q,be.relatedTarget=Lt,ce=be),Lt=ce,me&&Se)t:{for(be=me,U=Se,H=0,Q=be;Q;Q=ps(Q))H++;for(Q=0,ce=U;ce;ce=ps(ce))Q++;for(;0<H-Q;)be=ps(be),H--;for(;0<Q-H;)U=ps(U),Q--;for(;H--;){if(be===U||U!==null&&be===U.alternate)break t;be=ps(be),U=ps(U)}be=null}else be=null;me!==null&&rw(le,se,me,be,!1),Se!==null&&Lt!==null&&rw(le,Lt,Se,be,!0)}}e:{if(se=Z?fs(Z):window,me=se.nodeName&&se.nodeName.toLowerCase(),me==="select"||me==="input"&&se.type==="file")var xe=$E;else if(Hv(se))if(Vv)xe=qE;else{xe=jE;var Ae=UE}else(me=se.nodeName)&&me.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(xe=KE);if(xe&&(xe=xe(a,Z))){Gv(le,xe,h,ae);break e}Ae&&Ae(a,se,Z),a==="focusout"&&(Ae=se._wrapperState)&&Ae.controlled&&se.type==="number"&&je(se,"number",se.value)}switch(Ae=Z?fs(Z):window,a){case"focusin":(Hv(Ae)||Ae.contentEditable==="true")&&(ds=Ae,Jh=Z,za=null);break;case"focusout":za=Jh=ds=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,qv(le,h,ae);break;case"selectionchange":if(XE)break;case"keydown":case"keyup":qv(le,h,ae)}var Le;if(Yh)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else us?Nv(a,h)&&(He="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(He="onCompositionStart");He&&(Av&&h.locale!=="ko"&&(us||He!=="onCompositionStart"?He==="onCompositionEnd"&&us&&(Le=Dv()):(Di=ae,_h="value"in Di?Di.value:Di.textContent,us=!0)),Ae=Nc(Z,He),0<Ae.length&&(He=new kv(He,a,null,h,ae),le.push({event:He,listeners:Ae}),Le?He.data=Le:(Le=Bv(h),Le!==null&&(He.data=Le)))),(Le=GE?VE(a,h):WE(a,h))&&(Z=Nc(Z,"onBeforeInput"),0<Z.length&&(ae=new kv("onBeforeInput","beforeinput",null,h,ae),le.push({event:ae,listeners:Z}),ae.data=Le))}ow(le,c)})}function Ua(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Nc(a,c){for(var h=c+"Capture",f=[];a!==null;){var v=a,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=Pa(a,h),S!=null&&f.unshift(Ua(a,S,v)),S=Pa(a,c),S!=null&&f.push(Ua(a,S,v))),a=a.return}return f}function ps(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function rw(a,c,h,f,v){for(var S=c._reactName,D=[];h!==null&&h!==f;){var A=h,N=A.alternate,Z=A.stateNode;if(N!==null&&N===f)break;A.tag===5&&Z!==null&&(A=Z,v?(N=Pa(h,S),N!=null&&D.unshift(Ua(h,N,A))):v||(N=Pa(h,S),N!=null&&D.push(Ua(h,N,A)))),h=h.return}D.length!==0&&a.push({event:c,listeners:D})}var tD=/\r\n?/g,nD=/\u0000|\uFFFD/g;function sw(a){return(typeof a=="string"?a:""+a).replace(tD,`
`).replace(nD,"")}function Bc(a,c,h){if(c=sw(c),sw(a)!==c&&h)throw Error(n(425))}function Hc(){}var sp=null,ap=null;function lp(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var cp=typeof setTimeout=="function"?setTimeout:void 0,oD=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,iD=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(a){return aw.resolve(null).then(a).catch(rD)}:cp;function rD(a){setTimeout(function(){throw a})}function up(a,c){var h=c,f=0;do{var v=h.nextSibling;if(a.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(f===0){a.removeChild(v),Oa(c);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=v}while(h);Oa(c)}function Mi(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function lw(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Po="__reactFiber$"+gs,ja="__reactProps$"+gs,Xo="__reactContainer$"+gs,dp="__reactEvents$"+gs,sD="__reactListeners$"+gs,aD="__reactHandles$"+gs;function ur(a){var c=a[Po];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Xo]||h[Po]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=lw(a);a!==null;){if(h=a[Po])return h;a=lw(a)}return c}a=h,h=a.parentNode}return null}function Ka(a){return a=a[Po]||a[Xo],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function fs(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Gc(a){return a[ja]||null}var hp=[],ms=-1;function ki(a){return{current:a}}function vt(a){0>ms||(a.current=hp[ms],hp[ms]=null,ms--)}function ft(a,c){ms++,hp[ms]=a.current,a.current=c}var Ii={},tn=ki(Ii),wn=ki(!1),dr=Ii;function Cs(a,c){var h=a.type.contextTypes;if(!h)return Ii;var f=a.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===c)return f.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in h)v[S]=c[S];return f&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=v),v}function yn(a){return a=a.childContextTypes,a!=null}function Vc(){vt(wn),vt(tn)}function cw(a,c,h){if(tn.current!==Ii)throw Error(n(168));ft(tn,c),ft(wn,h)}function uw(a,c,h){var f=a.stateNode;if(c=c.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var v in f)if(!(v in c))throw Error(n(108,De(a)||"Unknown",v));return K({},h,f)}function Wc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ii,dr=tn.current,ft(tn,a),ft(wn,wn.current),!0}function dw(a,c,h){var f=a.stateNode;if(!f)throw Error(n(169));h?(a=uw(a,c,dr),f.__reactInternalMemoizedMergedChildContext=a,vt(wn),vt(tn),ft(tn,a)):vt(wn),ft(wn,h)}var Zo=null,zc=!1,pp=!1;function hw(a){Zo===null?Zo=[a]:Zo.push(a)}function lD(a){zc=!0,hw(a)}function Ai(){if(!pp&&Zo!==null){pp=!0;var a=0,c=st;try{var h=Zo;for(st=1;a<h.length;a++){var f=h[a];do f=f(!0);while(f!==null)}Zo=null,zc=!1}catch(v){throw Zo!==null&&(Zo=Zo.slice(a+1)),gv(Oh,Ai),v}finally{st=c,pp=!1}}return null}var vs=[],ws=0,_c=null,$c=0,zn=[],_n=0,hr=null,Jo=1,ei="";function pr(a,c){vs[ws++]=$c,vs[ws++]=_c,_c=a,$c=c}function pw(a,c,h){zn[_n++]=Jo,zn[_n++]=ei,zn[_n++]=hr,hr=a;var f=Jo;a=ei;var v=32-ro(f)-1;f&=~(1<<v),h+=1;var S=32-ro(c)+v;if(30<S){var D=v-v%5;S=(f&(1<<D)-1).toString(32),f>>=D,v-=D,Jo=1<<32-ro(c)+v|h<<v|f,ei=S+a}else Jo=1<<S|h<<v|f,ei=a}function gp(a){a.return!==null&&(pr(a,1),pw(a,1,0))}function fp(a){for(;a===_c;)_c=vs[--ws],vs[ws]=null,$c=vs[--ws],vs[ws]=null;for(;a===hr;)hr=zn[--_n],zn[_n]=null,ei=zn[--_n],zn[_n]=null,Jo=zn[--_n],zn[_n]=null}var Ln=null,On=null,wt=!1,ao=null;function gw(a,c){var h=Kn(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function fw(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Ln=a,On=Mi(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Ln=a,On=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=hr!==null?{id:Jo,overflow:ei}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Kn(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,Ln=a,On=null,!0):!1;default:return!1}}function mp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Cp(a){if(wt){var c=On;if(c){var h=c;if(!fw(a,c)){if(mp(a))throw Error(n(418));c=Mi(h.nextSibling);var f=Ln;c&&fw(a,c)?gw(f,h):(a.flags=a.flags&-4097|2,wt=!1,Ln=a)}}else{if(mp(a))throw Error(n(418));a.flags=a.flags&-4097|2,wt=!1,Ln=a}}}function mw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ln=a}function Uc(a){if(a!==Ln)return!1;if(!wt)return mw(a),wt=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!lp(a.type,a.memoizedProps)),c&&(c=On)){if(mp(a))throw Cw(),Error(n(418));for(;c;)gw(a,c),c=Mi(c.nextSibling)}if(mw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){On=Mi(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}On=null}}else On=Ln?Mi(a.stateNode.nextSibling):null;return!0}function Cw(){for(var a=On;a;)a=Mi(a.nextSibling)}function ys(){On=Ln=null,wt=!1}function vp(a){ao===null?ao=[a]:ao.push(a)}var cD=M.ReactCurrentBatchConfig;function qa(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var f=h.stateNode}if(!f)throw Error(n(147,a));var v=f,S=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===S?c.ref:(c=function(D){var A=v.refs;D===null?delete A[S]:A[S]=D},c._stringRef=S,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function jc(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function vw(a){var c=a._init;return c(a._payload)}function ww(a){function c(U,H){if(a){var Q=U.deletions;Q===null?(U.deletions=[H],U.flags|=16):Q.push(H)}}function h(U,H){if(!a)return null;for(;H!==null;)c(U,H),H=H.sibling;return null}function f(U,H){for(U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function v(U,H){return U=Wi(U,H),U.index=0,U.sibling=null,U}function S(U,H,Q){return U.index=Q,a?(Q=U.alternate,Q!==null?(Q=Q.index,Q<H?(U.flags|=2,H):Q):(U.flags|=2,H)):(U.flags|=1048576,H)}function D(U){return a&&U.alternate===null&&(U.flags|=2),U}function A(U,H,Q,ce){return H===null||H.tag!==6?(H=cg(Q,U.mode,ce),H.return=U,H):(H=v(H,Q),H.return=U,H)}function N(U,H,Q,ce){var xe=Q.type;return xe===I?ae(U,H,Q.props.children,ce,Q.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Y&&vw(xe)===H.type)?(ce=v(H,Q.props),ce.ref=qa(U,H,Q),ce.return=U,ce):(ce=mu(Q.type,Q.key,Q.props,null,U.mode,ce),ce.ref=qa(U,H,Q),ce.return=U,ce)}function Z(U,H,Q,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=ug(Q,U.mode,ce),H.return=U,H):(H=v(H,Q.children||[]),H.return=U,H)}function ae(U,H,Q,ce,xe){return H===null||H.tag!==7?(H=Sr(Q,U.mode,ce,xe),H.return=U,H):(H=v(H,Q),H.return=U,H)}function le(U,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=cg(""+H,U.mode,Q),H.return=U,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return Q=mu(H.type,H.key,H.props,null,U.mode,Q),Q.ref=qa(U,null,H),Q.return=U,Q;case k:return H=ug(H,U.mode,Q),H.return=U,H;case Y:var ce=H._init;return le(U,ce(H._payload),Q)}if(ze(H)||X(H))return H=Sr(H,U.mode,Q,null),H.return=U,H;jc(U,H)}return null}function se(U,H,Q,ce){var xe=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:A(U,H,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===xe?N(U,H,Q,ce):null;case k:return Q.key===xe?Z(U,H,Q,ce):null;case Y:return xe=Q._init,se(U,H,xe(Q._payload),ce)}if(ze(Q)||X(Q))return xe!==null?null:ae(U,H,Q,ce,null);jc(U,Q)}return null}function me(U,H,Q,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return U=U.get(Q)||null,A(H,U,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:return U=U.get(ce.key===null?Q:ce.key)||null,N(H,U,ce,xe);case k:return U=U.get(ce.key===null?Q:ce.key)||null,Z(H,U,ce,xe);case Y:var Ae=ce._init;return me(U,H,Q,Ae(ce._payload),xe)}if(ze(ce)||X(ce))return U=U.get(Q)||null,ae(H,U,ce,xe,null);jc(H,ce)}return null}function Se(U,H,Q,ce){for(var xe=null,Ae=null,Le=H,He=H=0,jt=null;Le!==null&&He<Q.length;He++){Le.index>He?(jt=Le,Le=null):jt=Le.sibling;var Qe=se(U,Le,Q[He],ce);if(Qe===null){Le===null&&(Le=jt);break}a&&Le&&Qe.alternate===null&&c(U,Le),H=S(Qe,H,He),Ae===null?xe=Qe:Ae.sibling=Qe,Ae=Qe,Le=jt}if(He===Q.length)return h(U,Le),wt&&pr(U,He),xe;if(Le===null){for(;He<Q.length;He++)Le=le(U,Q[He],ce),Le!==null&&(H=S(Le,H,He),Ae===null?xe=Le:Ae.sibling=Le,Ae=Le);return wt&&pr(U,He),xe}for(Le=f(U,Le);He<Q.length;He++)jt=me(Le,U,He,Q[He],ce),jt!==null&&(a&&jt.alternate!==null&&Le.delete(jt.key===null?He:jt.key),H=S(jt,H,He),Ae===null?xe=jt:Ae.sibling=jt,Ae=jt);return a&&Le.forEach(function(zi){return c(U,zi)}),wt&&pr(U,He),xe}function be(U,H,Q,ce){var xe=X(Q);if(typeof xe!="function")throw Error(n(150));if(Q=xe.call(Q),Q==null)throw Error(n(151));for(var Ae=xe=null,Le=H,He=H=0,jt=null,Qe=Q.next();Le!==null&&!Qe.done;He++,Qe=Q.next()){Le.index>He?(jt=Le,Le=null):jt=Le.sibling;var zi=se(U,Le,Qe.value,ce);if(zi===null){Le===null&&(Le=jt);break}a&&Le&&zi.alternate===null&&c(U,Le),H=S(zi,H,He),Ae===null?xe=zi:Ae.sibling=zi,Ae=zi,Le=jt}if(Qe.done)return h(U,Le),wt&&pr(U,He),xe;if(Le===null){for(;!Qe.done;He++,Qe=Q.next())Qe=le(U,Qe.value,ce),Qe!==null&&(H=S(Qe,H,He),Ae===null?xe=Qe:Ae.sibling=Qe,Ae=Qe);return wt&&pr(U,He),xe}for(Le=f(U,Le);!Qe.done;He++,Qe=Q.next())Qe=me(Le,U,He,Qe.value,ce),Qe!==null&&(a&&Qe.alternate!==null&&Le.delete(Qe.key===null?He:Qe.key),H=S(Qe,H,He),Ae===null?xe=Qe:Ae.sibling=Qe,Ae=Qe);return a&&Le.forEach(function(zD){return c(U,zD)}),wt&&pr(U,He),xe}function Lt(U,H,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var xe=Q.key,Ae=H;Ae!==null;){if(Ae.key===xe){if(xe=Q.type,xe===I){if(Ae.tag===7){h(U,Ae.sibling),H=v(Ae,Q.props.children),H.return=U,U=H;break e}}else if(Ae.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Y&&vw(xe)===Ae.type){h(U,Ae.sibling),H=v(Ae,Q.props),H.ref=qa(U,Ae,Q),H.return=U,U=H;break e}h(U,Ae);break}else c(U,Ae);Ae=Ae.sibling}Q.type===I?(H=Sr(Q.props.children,U.mode,ce,Q.key),H.return=U,U=H):(ce=mu(Q.type,Q.key,Q.props,null,U.mode,ce),ce.ref=qa(U,H,Q),ce.return=U,U=ce)}return D(U);case k:e:{for(Ae=Q.key;H!==null;){if(H.key===Ae)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){h(U,H.sibling),H=v(H,Q.children||[]),H.return=U,U=H;break e}else{h(U,H);break}else c(U,H);H=H.sibling}H=ug(Q,U.mode,ce),H.return=U,U=H}return D(U);case Y:return Ae=Q._init,Lt(U,H,Ae(Q._payload),ce)}if(ze(Q))return Se(U,H,Q,ce);if(X(Q))return be(U,H,Q,ce);jc(U,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(h(U,H.sibling),H=v(H,Q),H.return=U,U=H):(h(U,H),H=cg(Q,U.mode,ce),H.return=U,U=H),D(U)):h(U,H)}return Lt}var Ss=ww(!0),yw=ww(!1),Kc=ki(null),qc=null,bs=null,wp=null;function yp(){wp=bs=qc=null}function Sp(a){var c=Kc.current;vt(Kc),a._currentValue=c}function bp(a,c,h){for(;a!==null;){var f=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,f!==null&&(f.childLanes|=c)):f!==null&&(f.childLanes&c)!==c&&(f.childLanes|=c),a===h)break;a=a.return}}function Rs(a,c){qc=a,wp=bs=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Sn=!0),a.firstContext=null)}function $n(a){var c=a._currentValue;if(wp!==a)if(a={context:a,memoizedValue:c,next:null},bs===null){if(qc===null)throw Error(n(308));bs=a,qc.dependencies={lanes:0,firstContext:a}}else bs=bs.next=a;return c}var gr=null;function Rp(a){gr===null?gr=[a]:gr.push(a)}function Sw(a,c,h,f){var v=c.interleaved;return v===null?(h.next=h,Rp(c)):(h.next=v.next,v.next=h),c.interleaved=h,ti(a,f)}function ti(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Li=!1;function xp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ni(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Oi(a,c,h){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(qe&2)!==0){var v=f.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),f.pending=c,ti(a,h)}return v=f.interleaved,v===null?(c.next=c,Rp(f)):(c.next=v.next,v.next=c),f.interleaved=c,ti(a,h)}function Yc(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var f=c.lanes;f&=a.pendingLanes,h|=f,c.lanes=h,Hh(a,h)}}function Rw(a,c){var h=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?v=S=D:S=S.next=D,h=h.next}while(h!==null);S===null?v=S=c:S=S.next=c}else v=S=c;h={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:f.shared,effects:f.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function Qc(a,c,h,f){var v=a.updateQueue;Li=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,A=v.shared.pending;if(A!==null){v.shared.pending=null;var N=A,Z=N.next;N.next=null,D===null?S=Z:D.next=Z,D=N;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==D&&(A===null?ae.firstBaseUpdate=Z:A.next=Z,ae.lastBaseUpdate=N))}if(S!==null){var le=v.baseState;D=0,ae=Z=N=null,A=S;do{var se=A.lane,me=A.eventTime;if((f&se)===se){ae!==null&&(ae=ae.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var Se=a,be=A;switch(se=c,me=h,be.tag){case 1:if(Se=be.payload,typeof Se=="function"){le=Se.call(me,le,se);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,se=typeof Se=="function"?Se.call(me,le,se):Se,se==null)break e;le=K({},le,se);break e;case 2:Li=!0}}A.callback!==null&&A.lane!==0&&(a.flags|=64,se=v.effects,se===null?v.effects=[A]:se.push(A))}else me={eventTime:me,lane:se,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(Z=ae=me,N=le):ae=ae.next=me,D|=se;if(A=A.next,A===null){if(A=v.shared.pending,A===null)break;se=A,A=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(ae===null&&(N=le),v.baseState=N,v.firstBaseUpdate=Z,v.lastBaseUpdate=ae,c=v.shared.interleaved,c!==null){v=c;do D|=v.lane,v=v.next;while(v!==c)}else S===null&&(v.shared.lanes=0);Cr|=D,a.lanes=D,a.memoizedState=le}}function xw(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var f=a[c],v=f.callback;if(v!==null){if(f.callback=null,f=h,typeof v!="function")throw Error(n(191,v));v.call(f)}}}var Ya={},Eo=ki(Ya),Qa=ki(Ya),Xa=ki(Ya);function fr(a){if(a===Ya)throw Error(n(174));return a}function Fp(a,c){switch(ft(Xa,c),ft(Qa,a),ft(Eo,Ya),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Cn(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Cn(c,a)}vt(Eo),ft(Eo,c)}function xs(){vt(Eo),vt(Qa),vt(Xa)}function Fw(a){fr(Xa.current);var c=fr(Eo.current),h=Cn(c,a.type);c!==h&&(ft(Qa,a),ft(Eo,h))}function Pp(a){Qa.current===a&&(vt(Eo),vt(Qa))}var xt=ki(0);function Xc(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ep=[];function Dp(){for(var a=0;a<Ep.length;a++)Ep[a]._workInProgressVersionPrimary=null;Ep.length=0}var Zc=M.ReactCurrentDispatcher,Tp=M.ReactCurrentBatchConfig,mr=0,Ft=null,Wt=null,$t=null,Jc=!1,Za=!1,Ja=0,uD=0;function nn(){throw Error(n(321))}function Mp(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!so(a[h],c[h]))return!1;return!0}function kp(a,c,h,f,v,S){if(mr=S,Ft=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Zc.current=a===null||a.memoizedState===null?gD:fD,a=h(f,v),Za){S=0;do{if(Za=!1,Ja=0,25<=S)throw Error(n(301));S+=1,$t=Wt=null,c.updateQueue=null,Zc.current=mD,a=h(f,v)}while(Za)}if(Zc.current=nu,c=Wt!==null&&Wt.next!==null,mr=0,$t=Wt=Ft=null,Jc=!1,c)throw Error(n(300));return a}function Ip(){var a=Ja!==0;return Ja=0,a}function Do(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ft.memoizedState=$t=a:$t=$t.next=a,$t}function Un(){if(Wt===null){var a=Ft.alternate;a=a!==null?a.memoizedState:null}else a=Wt.next;var c=$t===null?Ft.memoizedState:$t.next;if(c!==null)$t=c,Wt=a;else{if(a===null)throw Error(n(310));Wt=a,a={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},$t===null?Ft.memoizedState=$t=a:$t=$t.next=a}return $t}function el(a,c){return typeof c=="function"?c(a):c}function Ap(a){var c=Un(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var f=Wt,v=f.baseQueue,S=h.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}f.baseQueue=v=S,h.pending=null}if(v!==null){S=v.next,f=f.baseState;var A=D=null,N=null,Z=S;do{var ae=Z.lane;if((mr&ae)===ae)N!==null&&(N=N.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),f=Z.hasEagerState?Z.eagerState:a(f,Z.action);else{var le={lane:ae,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};N===null?(A=N=le,D=f):N=N.next=le,Ft.lanes|=ae,Cr|=ae}Z=Z.next}while(Z!==null&&Z!==S);N===null?D=f:N.next=A,so(f,c.memoizedState)||(Sn=!0),c.memoizedState=f,c.baseState=D,c.baseQueue=N,h.lastRenderedState=f}if(a=h.interleaved,a!==null){v=a;do S=v.lane,Ft.lanes|=S,Cr|=S,v=v.next;while(v!==a)}else v===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Lp(a){var c=Un(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var f=h.dispatch,v=h.pending,S=c.memoizedState;if(v!==null){h.pending=null;var D=v=v.next;do S=a(S,D.action),D=D.next;while(D!==v);so(S,c.memoizedState)||(Sn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,f]}function Pw(){}function Ew(a,c){var h=Ft,f=Un(),v=c(),S=!so(f.memoizedState,v);if(S&&(f.memoizedState=v,Sn=!0),f=f.queue,Op(Mw.bind(null,h,f,a),[a]),f.getSnapshot!==c||S||$t!==null&&$t.memoizedState.tag&1){if(h.flags|=2048,tl(9,Tw.bind(null,h,f,v,c),void 0,null),Ut===null)throw Error(n(349));(mr&30)!==0||Dw(h,c,v)}return v}function Dw(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Ft.updateQueue,c===null?(c={lastEffect:null,stores:null},Ft.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function Tw(a,c,h,f){c.value=h,c.getSnapshot=f,kw(c)&&Iw(a)}function Mw(a,c,h){return h(function(){kw(c)&&Iw(a)})}function kw(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!so(a,h)}catch{return!0}}function Iw(a){var c=ti(a,1);c!==null&&ho(c,a,1,-1)}function Aw(a){var c=Do();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:a},c.queue=a,a=a.dispatch=pD.bind(null,Ft,a),[c.memoizedState,a]}function tl(a,c,h,f){return a={tag:a,create:c,destroy:h,deps:f,next:null},c=Ft.updateQueue,c===null?(c={lastEffect:null,stores:null},Ft.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(f=h.next,h.next=a,a.next=f,c.lastEffect=a)),a}function Lw(){return Un().memoizedState}function eu(a,c,h,f){var v=Do();Ft.flags|=a,v.memoizedState=tl(1|c,h,void 0,f===void 0?null:f)}function tu(a,c,h,f){var v=Un();f=f===void 0?null:f;var S=void 0;if(Wt!==null){var D=Wt.memoizedState;if(S=D.destroy,f!==null&&Mp(f,D.deps)){v.memoizedState=tl(c,h,S,f);return}}Ft.flags|=a,v.memoizedState=tl(1|c,h,S,f)}function Ow(a,c){return eu(8390656,8,a,c)}function Op(a,c){return tu(2048,8,a,c)}function Nw(a,c){return tu(4,2,a,c)}function Bw(a,c){return tu(4,4,a,c)}function Hw(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Gw(a,c,h){return h=h!=null?h.concat([a]):null,tu(4,4,Hw.bind(null,c,a),h)}function Np(){}function Vw(a,c){var h=Un();c=c===void 0?null:c;var f=h.memoizedState;return f!==null&&c!==null&&Mp(c,f[1])?f[0]:(h.memoizedState=[a,c],a)}function Ww(a,c){var h=Un();c=c===void 0?null:c;var f=h.memoizedState;return f!==null&&c!==null&&Mp(c,f[1])?f[0]:(a=a(),h.memoizedState=[a,c],a)}function zw(a,c,h){return(mr&21)===0?(a.baseState&&(a.baseState=!1,Sn=!0),a.memoizedState=h):(so(h,c)||(h=vv(),Ft.lanes|=h,Cr|=h,a.baseState=!0),c)}function dD(a,c){var h=st;st=h!==0&&4>h?h:4,a(!0);var f=Tp.transition;Tp.transition={};try{a(!1),c()}finally{st=h,Tp.transition=f}}function _w(){return Un().memoizedState}function hD(a,c,h){var f=Gi(a);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},$w(a))Uw(c,h);else if(h=Sw(a,c,h,f),h!==null){var v=hn();ho(h,a,f,v),jw(h,c,f)}}function pD(a,c,h){var f=Gi(a),v={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if($w(a))Uw(c,v);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var D=c.lastRenderedState,A=S(D,h);if(v.hasEagerState=!0,v.eagerState=A,so(A,D)){var N=c.interleaved;N===null?(v.next=v,Rp(c)):(v.next=N.next,N.next=v),c.interleaved=v;return}}catch{}h=Sw(a,c,v,f),h!==null&&(v=hn(),ho(h,a,f,v),jw(h,c,f))}}function $w(a){var c=a.alternate;return a===Ft||c!==null&&c===Ft}function Uw(a,c){Za=Jc=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function jw(a,c,h){if((h&4194240)!==0){var f=c.lanes;f&=a.pendingLanes,h|=f,c.lanes=h,Hh(a,h)}}var nu={readContext:$n,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},gD={readContext:$n,useCallback:function(a,c){return Do().memoizedState=[a,c===void 0?null:c],a},useContext:$n,useEffect:Ow,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,eu(4194308,4,Hw.bind(null,c,a),h)},useLayoutEffect:function(a,c){return eu(4194308,4,a,c)},useInsertionEffect:function(a,c){return eu(4,2,a,c)},useMemo:function(a,c){var h=Do();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var f=Do();return c=h!==void 0?h(c):c,f.memoizedState=f.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},f.queue=a,a=a.dispatch=hD.bind(null,Ft,a),[f.memoizedState,a]},useRef:function(a){var c=Do();return a={current:a},c.memoizedState=a},useState:Aw,useDebugValue:Np,useDeferredValue:function(a){return Do().memoizedState=a},useTransition:function(){var a=Aw(!1),c=a[0];return a=dD.bind(null,a[1]),Do().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var f=Ft,v=Do();if(wt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Ut===null)throw Error(n(349));(mr&30)!==0||Dw(f,c,h)}v.memoizedState=h;var S={value:h,getSnapshot:c};return v.queue=S,Ow(Mw.bind(null,f,S,a),[a]),f.flags|=2048,tl(9,Tw.bind(null,f,S,h,c),void 0,null),h},useId:function(){var a=Do(),c=Ut.identifierPrefix;if(wt){var h=ei,f=Jo;h=(f&~(1<<32-ro(f)-1)).toString(32)+h,c=":"+c+"R"+h,h=Ja++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=uD++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},fD={readContext:$n,useCallback:Vw,useContext:$n,useEffect:Op,useImperativeHandle:Gw,useInsertionEffect:Nw,useLayoutEffect:Bw,useMemo:Ww,useReducer:Ap,useRef:Lw,useState:function(){return Ap(el)},useDebugValue:Np,useDeferredValue:function(a){var c=Un();return zw(c,Wt.memoizedState,a)},useTransition:function(){var a=Ap(el)[0],c=Un().memoizedState;return[a,c]},useMutableSource:Pw,useSyncExternalStore:Ew,useId:_w,unstable_isNewReconciler:!1},mD={readContext:$n,useCallback:Vw,useContext:$n,useEffect:Op,useImperativeHandle:Gw,useInsertionEffect:Nw,useLayoutEffect:Bw,useMemo:Ww,useReducer:Lp,useRef:Lw,useState:function(){return Lp(el)},useDebugValue:Np,useDeferredValue:function(a){var c=Un();return Wt===null?c.memoizedState=a:zw(c,Wt.memoizedState,a)},useTransition:function(){var a=Lp(el)[0],c=Un().memoizedState;return[a,c]},useMutableSource:Pw,useSyncExternalStore:Ew,useId:_w,unstable_isNewReconciler:!1};function lo(a,c){if(a&&a.defaultProps){c=K({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function Bp(a,c,h,f){c=a.memoizedState,h=h(f,c),h=h==null?c:K({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var ou={isMounted:function(a){return(a=a._reactInternals)?cr(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var f=hn(),v=Gi(a),S=ni(f,v);S.payload=c,h!=null&&(S.callback=h),c=Oi(a,S,v),c!==null&&(ho(c,a,v,f),Yc(c,a,v))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var f=hn(),v=Gi(a),S=ni(f,v);S.tag=1,S.payload=c,h!=null&&(S.callback=h),c=Oi(a,S,v),c!==null&&(ho(c,a,v,f),Yc(c,a,v))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=hn(),f=Gi(a),v=ni(h,f);v.tag=2,c!=null&&(v.callback=c),c=Oi(a,v,f),c!==null&&(ho(c,a,f,h),Yc(c,a,f))}};function Kw(a,c,h,f,v,S,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,S,D):c.prototype&&c.prototype.isPureReactComponent?!Wa(h,f)||!Wa(v,S):!0}function qw(a,c,h){var f=!1,v=Ii,S=c.contextType;return typeof S=="object"&&S!==null?S=$n(S):(v=yn(c)?dr:tn.current,f=c.contextTypes,S=(f=f!=null)?Cs(a,v):Ii),c=new c(h,S),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ou,a.stateNode=c,c._reactInternals=a,f&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=S),c}function Yw(a,c,h,f){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,f),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,f),c.state!==a&&ou.enqueueReplaceState(c,c.state,null)}function Hp(a,c,h,f){var v=a.stateNode;v.props=h,v.state=a.memoizedState,v.refs={},xp(a);var S=c.contextType;typeof S=="object"&&S!==null?v.context=$n(S):(S=yn(c)?dr:tn.current,v.context=Cs(a,S)),v.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Bp(a,c,S,h),v.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(c=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),c!==v.state&&ou.enqueueReplaceState(v,v.state,null),Qc(a,h,v,f),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function Fs(a,c){try{var h="",f=c;do h+=ye(f),f=f.return;while(f);var v=h}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:c,stack:v,digest:null}}function Gp(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function Vp(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var CD=typeof WeakMap=="function"?WeakMap:Map;function Qw(a,c,h){h=ni(-1,h),h.tag=3,h.payload={element:null};var f=c.value;return h.callback=function(){uu||(uu=!0,tg=f),Vp(a,c)},h}function Xw(a,c,h){h=ni(-1,h),h.tag=3;var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var v=c.value;h.payload=function(){return f(v)},h.callback=function(){Vp(a,c)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){Vp(a,c),typeof f!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),h}function Zw(a,c,h){var f=a.pingCache;if(f===null){f=a.pingCache=new CD;var v=new Set;f.set(c,v)}else v=f.get(c),v===void 0&&(v=new Set,f.set(c,v));v.has(h)||(v.add(h),a=kD.bind(null,a,c,h),c.then(a,a))}function Jw(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function ey(a,c,h,f,v){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=ni(-1,1),c.tag=2,Oi(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=v,a)}var vD=M.ReactCurrentOwner,Sn=!1;function dn(a,c,h,f){c.child=a===null?yw(c,null,h,f):Ss(c,a.child,h,f)}function ty(a,c,h,f,v){h=h.render;var S=c.ref;return Rs(c,v),f=kp(a,c,h,f,S,v),h=Ip(),a!==null&&!Sn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~v,oi(a,c,v)):(wt&&h&&gp(c),c.flags|=1,dn(a,c,f,v),c.child)}function ny(a,c,h,f,v){if(a===null){var S=h.type;return typeof S=="function"&&!lg(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=S,oy(a,c,S,f,v)):(a=mu(h.type,null,f,c,c.mode,v),a.ref=c.ref,a.return=c,c.child=a)}if(S=a.child,(a.lanes&v)===0){var D=S.memoizedProps;if(h=h.compare,h=h!==null?h:Wa,h(D,f)&&a.ref===c.ref)return oi(a,c,v)}return c.flags|=1,a=Wi(S,f),a.ref=c.ref,a.return=c,c.child=a}function oy(a,c,h,f,v){if(a!==null){var S=a.memoizedProps;if(Wa(S,f)&&a.ref===c.ref)if(Sn=!1,c.pendingProps=f=S,(a.lanes&v)!==0)(a.flags&131072)!==0&&(Sn=!0);else return c.lanes=a.lanes,oi(a,c,v)}return Wp(a,c,h,f,v)}function iy(a,c,h){var f=c.pendingProps,v=f.children,S=a!==null?a.memoizedState:null;if(f.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Es,Nn),Nn|=h;else{if((h&1073741824)===0)return a=S!==null?S.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,ft(Es,Nn),Nn|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=S!==null?S.baseLanes:h,ft(Es,Nn),Nn|=f}else S!==null?(f=S.baseLanes|h,c.memoizedState=null):f=h,ft(Es,Nn),Nn|=f;return dn(a,c,v,h),c.child}function ry(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Wp(a,c,h,f,v){var S=yn(h)?dr:tn.current;return S=Cs(c,S),Rs(c,v),h=kp(a,c,h,f,S,v),f=Ip(),a!==null&&!Sn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~v,oi(a,c,v)):(wt&&f&&gp(c),c.flags|=1,dn(a,c,h,v),c.child)}function sy(a,c,h,f,v){if(yn(h)){var S=!0;Wc(c)}else S=!1;if(Rs(c,v),c.stateNode===null)ru(a,c),qw(c,h,f),Hp(c,h,f,v),f=!0;else if(a===null){var D=c.stateNode,A=c.memoizedProps;D.props=A;var N=D.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=$n(Z):(Z=yn(h)?dr:tn.current,Z=Cs(c,Z));var ae=h.getDerivedStateFromProps,le=typeof ae=="function"||typeof D.getSnapshotBeforeUpdate=="function";le||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(A!==f||N!==Z)&&Yw(c,D,f,Z),Li=!1;var se=c.memoizedState;D.state=se,Qc(c,f,D,v),N=c.memoizedState,A!==f||se!==N||wn.current||Li?(typeof ae=="function"&&(Bp(c,h,ae,f),N=c.memoizedState),(A=Li||Kw(c,h,A,f,se,N,Z))?(le||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=f,c.memoizedState=N),D.props=f,D.state=N,D.context=Z,f=A):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),f=!1)}else{D=c.stateNode,bw(a,c),A=c.memoizedProps,Z=c.type===c.elementType?A:lo(c.type,A),D.props=Z,le=c.pendingProps,se=D.context,N=h.contextType,typeof N=="object"&&N!==null?N=$n(N):(N=yn(h)?dr:tn.current,N=Cs(c,N));var me=h.getDerivedStateFromProps;(ae=typeof me=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(A!==le||se!==N)&&Yw(c,D,f,N),Li=!1,se=c.memoizedState,D.state=se,Qc(c,f,D,v);var Se=c.memoizedState;A!==le||se!==Se||wn.current||Li?(typeof me=="function"&&(Bp(c,h,me,f),Se=c.memoizedState),(Z=Li||Kw(c,h,Z,f,se,Se,N)||!1)?(ae||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(f,Se,N),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(f,Se,N)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(c.flags|=1024),c.memoizedProps=f,c.memoizedState=Se),D.props=f,D.state=Se,D.context=N,f=Z):(typeof D.componentDidUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(c.flags|=1024),f=!1)}return zp(a,c,h,f,S,v)}function zp(a,c,h,f,v,S){ry(a,c);var D=(c.flags&128)!==0;if(!f&&!D)return v&&dw(c,h,!1),oi(a,c,S);f=c.stateNode,vD.current=c;var A=D&&typeof h.getDerivedStateFromError!="function"?null:f.render();return c.flags|=1,a!==null&&D?(c.child=Ss(c,a.child,null,S),c.child=Ss(c,null,A,S)):dn(a,c,A,S),c.memoizedState=f.state,v&&dw(c,h,!0),c.child}function ay(a){var c=a.stateNode;c.pendingContext?cw(a,c.pendingContext,c.pendingContext!==c.context):c.context&&cw(a,c.context,!1),Fp(a,c.containerInfo)}function ly(a,c,h,f,v){return ys(),vp(v),c.flags|=256,dn(a,c,h,f),c.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function $p(a){return{baseLanes:a,cachePool:null,transitions:null}}function cy(a,c,h){var f=c.pendingProps,v=xt.current,S=!1,D=(c.flags&128)!==0,A;if((A=D)||(A=a!==null&&a.memoizedState===null?!1:(v&2)!==0),A?(S=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),ft(xt,v&1),a===null)return Cp(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=f.children,a=f.fallback,S?(f=c.mode,S=c.child,D={mode:"hidden",children:D},(f&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=Cu(D,f,0,null),a=Sr(a,f,h,null),S.return=c,a.return=c,S.sibling=a,c.child=S,c.child.memoizedState=$p(h),c.memoizedState=_p,a):Up(c,D));if(v=a.memoizedState,v!==null&&(A=v.dehydrated,A!==null))return wD(a,c,D,f,A,v,h);if(S){S=f.fallback,D=c.mode,v=a.child,A=v.sibling;var N={mode:"hidden",children:f.children};return(D&1)===0&&c.child!==v?(f=c.child,f.childLanes=0,f.pendingProps=N,c.deletions=null):(f=Wi(v,N),f.subtreeFlags=v.subtreeFlags&14680064),A!==null?S=Wi(A,S):(S=Sr(S,D,h,null),S.flags|=2),S.return=c,f.return=c,f.sibling=S,c.child=f,f=S,S=c.child,D=a.child.memoizedState,D=D===null?$p(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=a.childLanes&~h,c.memoizedState=_p,f}return S=a.child,a=S.sibling,f=Wi(S,{mode:"visible",children:f.children}),(c.mode&1)===0&&(f.lanes=h),f.return=c,f.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=f,c.memoizedState=null,f}function Up(a,c){return c=Cu({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function iu(a,c,h,f){return f!==null&&vp(f),Ss(c,a.child,null,h),a=Up(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function wD(a,c,h,f,v,S,D){if(h)return c.flags&256?(c.flags&=-257,f=Gp(Error(n(422))),iu(a,c,D,f)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(S=f.fallback,v=c.mode,f=Cu({mode:"visible",children:f.children},v,0,null),S=Sr(S,v,D,null),S.flags|=2,f.return=c,S.return=c,f.sibling=S,c.child=f,(c.mode&1)!==0&&Ss(c,a.child,null,D),c.child.memoizedState=$p(D),c.memoizedState=_p,S);if((c.mode&1)===0)return iu(a,c,D,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var A=f.dgst;return f=A,S=Error(n(419)),f=Gp(S,f,void 0),iu(a,c,D,f)}if(A=(D&a.childLanes)!==0,Sn||A){if(f=Ut,f!==null){switch(D&-D){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(f.suspendedLanes|D))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,ti(a,v),ho(f,a,v,-1))}return ag(),f=Gp(Error(n(421))),iu(a,c,D,f)}return v.data==="$?"?(c.flags|=128,c.child=a.child,c=ID.bind(null,a),v._reactRetry=c,null):(a=S.treeContext,On=Mi(v.nextSibling),Ln=c,wt=!0,ao=null,a!==null&&(zn[_n++]=Jo,zn[_n++]=ei,zn[_n++]=hr,Jo=a.id,ei=a.overflow,hr=c),c=Up(c,f.children),c.flags|=4096,c)}function uy(a,c,h){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c),bp(a.return,c,h)}function jp(a,c,h,f,v){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:v}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=h,S.tailMode=v)}function dy(a,c,h){var f=c.pendingProps,v=f.revealOrder,S=f.tail;if(dn(a,c,f.children,h),f=xt.current,(f&2)!==0)f=f&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&uy(a,h,c);else if(a.tag===19)uy(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}if(ft(xt,f),(c.mode&1)===0)c.memoizedState=null;else switch(v){case"forwards":for(h=c.child,v=null;h!==null;)a=h.alternate,a!==null&&Xc(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=c.child,c.child=null):(v=h.sibling,h.sibling=null),jp(c,!1,v,h,S);break;case"backwards":for(h=null,v=c.child,c.child=null;v!==null;){if(a=v.alternate,a!==null&&Xc(a)===null){c.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}jp(c,!0,h,null,S);break;case"together":jp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ru(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function oi(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Cr|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=Wi(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Wi(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function yD(a,c,h){switch(c.tag){case 3:ay(c),ys();break;case 5:Fw(c);break;case 1:yn(c.type)&&Wc(c);break;case 4:Fp(c,c.stateNode.containerInfo);break;case 10:var f=c.type._context,v=c.memoizedProps.value;ft(Kc,f._currentValue),f._currentValue=v;break;case 13:if(f=c.memoizedState,f!==null)return f.dehydrated!==null?(ft(xt,xt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?cy(a,c,h):(ft(xt,xt.current&1),a=oi(a,c,h),a!==null?a.sibling:null);ft(xt,xt.current&1);break;case 19:if(f=(h&c.childLanes)!==0,(a.flags&128)!==0){if(f)return dy(a,c,h);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ft(xt,xt.current),f)break;return null;case 22:case 23:return c.lanes=0,iy(a,c,h)}return oi(a,c,h)}var hy,Kp,py,gy;hy=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Kp=function(){},py=function(a,c,h,f){var v=a.memoizedProps;if(v!==f){a=c.stateNode,fr(Eo.current);var S=null;switch(h){case"input":v=Te(a,v),f=Te(a,f),S=[];break;case"select":v=K({},v,{value:void 0}),f=K({},f,{value:void 0}),S=[];break;case"textarea":v=ge(a,v),f=ge(a,f),S=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(a.onclick=Hc)}ss(h,f);var D;h=null;for(Z in v)if(!f.hasOwnProperty(Z)&&v.hasOwnProperty(Z)&&v[Z]!=null)if(Z==="style"){var A=v[Z];for(D in A)A.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?S||(S=[]):(S=S||[]).push(Z,null));for(Z in f){var N=f[Z];if(A=v?.[Z],f.hasOwnProperty(Z)&&N!==A&&(N!=null||A!=null))if(Z==="style")if(A){for(D in A)!A.hasOwnProperty(D)||N&&N.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in N)N.hasOwnProperty(D)&&A[D]!==N[D]&&(h||(h={}),h[D]=N[D])}else h||(S||(S=[]),S.push(Z,h)),h=N;else Z==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(S=S||[]).push(Z,N)):Z==="children"?typeof N!="string"&&typeof N!="number"||(S=S||[]).push(Z,""+N):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(N!=null&&Z==="onScroll"&&Ct("scroll",a),S||A===N||(S=[])):(S=S||[]).push(Z,N))}h&&(S=S||[]).push("style",h);var Z=S;(c.updateQueue=Z)&&(c.flags|=4)}},gy=function(a,c,h,f){h!==f&&(c.flags|=4)};function nl(a,c){if(!wt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function on(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,f=0;if(c)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=f,a.childLanes=h,c}function SD(a,c,h){var f=c.pendingProps;switch(fp(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(c),null;case 1:return yn(c.type)&&Vc(),on(c),null;case 3:return f=c.stateNode,xs(),vt(wn),vt(tn),Dp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Uc(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ao!==null&&(ig(ao),ao=null))),Kp(a,c),on(c),null;case 5:Pp(c);var v=fr(Xa.current);if(h=c.type,a!==null&&c.stateNode!=null)py(a,c,h,f,v),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!f){if(c.stateNode===null)throw Error(n(166));return on(c),null}if(a=fr(Eo.current),Uc(c)){f=c.stateNode,h=c.type;var S=c.memoizedProps;switch(f[Po]=c,f[ja]=S,a=(c.mode&1)!==0,h){case"dialog":Ct("cancel",f),Ct("close",f);break;case"iframe":case"object":case"embed":Ct("load",f);break;case"video":case"audio":for(v=0;v<_a.length;v++)Ct(_a[v],f);break;case"source":Ct("error",f);break;case"img":case"image":case"link":Ct("error",f),Ct("load",f);break;case"details":Ct("toggle",f);break;case"input":We(f,S),Ct("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!S.multiple},Ct("invalid",f);break;case"textarea":mt(f,S),Ct("invalid",f)}ss(h,S),v=null;for(var D in S)if(S.hasOwnProperty(D)){var A=S[D];D==="children"?typeof A=="string"?f.textContent!==A&&(S.suppressHydrationWarning!==!0&&Bc(f.textContent,A,a),v=["children",A]):typeof A=="number"&&f.textContent!==""+A&&(S.suppressHydrationWarning!==!0&&Bc(f.textContent,A,a),v=["children",""+A]):i.hasOwnProperty(D)&&A!=null&&D==="onScroll"&&Ct("scroll",f)}switch(h){case"input":Be(f),Ne(f,S,!0);break;case"textarea":Be(f),Et(f);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(f.onclick=Hc)}f=v,c.updateQueue=f,f!==null&&(c.flags|=4)}else{D=v.nodeType===9?v:v.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Qt(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=D.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof f.is=="string"?a=D.createElement(h,{is:f.is}):(a=D.createElement(h),h==="select"&&(D=a,f.multiple?D.multiple=!0:f.size&&(D.size=f.size))):a=D.createElementNS(a,h),a[Po]=c,a[ja]=f,hy(a,c,!1,!1),c.stateNode=a;e:{switch(D=Ee(h,f),h){case"dialog":Ct("cancel",a),Ct("close",a),v=f;break;case"iframe":case"object":case"embed":Ct("load",a),v=f;break;case"video":case"audio":for(v=0;v<_a.length;v++)Ct(_a[v],a);v=f;break;case"source":Ct("error",a),v=f;break;case"img":case"image":case"link":Ct("error",a),Ct("load",a),v=f;break;case"details":Ct("toggle",a),v=f;break;case"input":We(a,f),v=Te(a,f),Ct("invalid",a);break;case"option":v=f;break;case"select":a._wrapperState={wasMultiple:!!f.multiple},v=K({},f,{value:void 0}),Ct("invalid",a);break;case"textarea":mt(a,f),v=ge(a,f),Ct("invalid",a);break;default:v=f}ss(h,v),A=v;for(S in A)if(A.hasOwnProperty(S)){var N=A[S];S==="style"?rs(a,N):S==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Rt(a,N)):S==="children"?typeof N=="string"?(h!=="textarea"||N!=="")&&vn(a,N):typeof N=="number"&&vn(a,""+N):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?N!=null&&S==="onScroll"&&Ct("scroll",a):N!=null&&P(a,S,N,D))}switch(h){case"input":Be(a),Ne(a,f,!1);break;case"textarea":Be(a),Et(a);break;case"option":f.value!=null&&a.setAttribute("value",""+Ie(f.value));break;case"select":a.multiple=!!f.multiple,S=f.value,S!=null?fe(a,!!f.multiple,S,!1):f.defaultValue!=null&&fe(a,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(a.onclick=Hc)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return on(c),null;case 6:if(a&&c.stateNode!=null)gy(a,c,a.memoizedProps,f);else{if(typeof f!="string"&&c.stateNode===null)throw Error(n(166));if(h=fr(Xa.current),fr(Eo.current),Uc(c)){if(f=c.stateNode,h=c.memoizedProps,f[Po]=c,(S=f.nodeValue!==h)&&(a=Ln,a!==null))switch(a.tag){case 3:Bc(f.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Bc(f.nodeValue,h,(a.mode&1)!==0)}S&&(c.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[Po]=c,c.stateNode=f}return on(c),null;case 13:if(vt(xt),f=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(wt&&On!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Cw(),ys(),c.flags|=98560,S=!1;else if(S=Uc(c),f!==null&&f.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Po]=c}else ys(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;on(c),S=!1}else ao!==null&&(ig(ao),ao=null),S=!0;if(!S)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(f=f!==null,f!==(a!==null&&a.memoizedState!==null)&&f&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(xt.current&1)!==0?zt===0&&(zt=3):ag())),c.updateQueue!==null&&(c.flags|=4),on(c),null);case 4:return xs(),Kp(a,c),a===null&&$a(c.stateNode.containerInfo),on(c),null;case 10:return Sp(c.type._context),on(c),null;case 17:return yn(c.type)&&Vc(),on(c),null;case 19:if(vt(xt),S=c.memoizedState,S===null)return on(c),null;if(f=(c.flags&128)!==0,D=S.rendering,D===null)if(f)nl(S,!1);else{if(zt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(D=Xc(a),D!==null){for(c.flags|=128,nl(S,!1),f=D.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),c.subtreeFlags=0,f=h,h=c.child;h!==null;)S=h,a=f,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,a=D.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return ft(xt,xt.current&1|2),c.child}a=a.sibling}S.tail!==null&&At()>Ds&&(c.flags|=128,f=!0,nl(S,!1),c.lanes=4194304)}else{if(!f)if(a=Xc(D),a!==null){if(c.flags|=128,f=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),nl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!wt)return on(c),null}else 2*At()-S.renderingStartTime>Ds&&h!==1073741824&&(c.flags|=128,f=!0,nl(S,!1),c.lanes=4194304);S.isBackwards?(D.sibling=c.child,c.child=D):(h=S.last,h!==null?h.sibling=D:c.child=D,S.last=D)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=At(),c.sibling=null,h=xt.current,ft(xt,f?h&1|2:h&1),c):(on(c),null);case 22:case 23:return sg(),f=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==f&&(c.flags|=8192),f&&(c.mode&1)!==0?(Nn&1073741824)!==0&&(on(c),c.subtreeFlags&6&&(c.flags|=8192)):on(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function bD(a,c){switch(fp(c),c.tag){case 1:return yn(c.type)&&Vc(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return xs(),vt(wn),vt(tn),Dp(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Pp(c),null;case 13:if(vt(xt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));ys()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return vt(xt),null;case 4:return xs(),null;case 10:return Sp(c.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var su=!1,rn=!1,RD=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ps(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){Dt(a,c,f)}else h.current=null}function qp(a,c,h){try{h()}catch(f){Dt(a,c,f)}}var fy=!1;function xD(a,c){if(sp=Pc,a=Kv(),Zh(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var v=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var D=0,A=-1,N=-1,Z=0,ae=0,le=a,se=null;t:for(;;){for(var me;le!==h||v!==0&&le.nodeType!==3||(A=D+v),le!==S||f!==0&&le.nodeType!==3||(N=D+f),le.nodeType===3&&(D+=le.nodeValue.length),(me=le.firstChild)!==null;)se=le,le=me;for(;;){if(le===a)break t;if(se===h&&++Z===v&&(A=D),se===S&&++ae===f&&(N=D),(me=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=me}h=A===-1||N===-1?null:{start:A,end:N}}else h=null}h=h||{start:0,end:0}}else h=null;for(ap={focusedElem:a,selectionRange:h},Pc=!1,we=c;we!==null;)if(c=we,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,we=a;else for(;we!==null;){c=we;try{var Se=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var be=Se.memoizedProps,Lt=Se.memoizedState,U=c.stateNode,H=U.getSnapshotBeforeUpdate(c.elementType===c.type?be:lo(c.type,be),Lt);U.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=c.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){Dt(c,c.return,ce)}if(a=c.sibling,a!==null){a.return=c.return,we=a;break}we=c.return}return Se=fy,fy=!1,Se}function ol(a,c,h){var f=c.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&a)===a){var S=v.destroy;v.destroy=void 0,S!==void 0&&qp(c,h,S)}v=v.next}while(v!==f)}}function au(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var f=h.create;h.destroy=f()}h=h.next}while(h!==c)}}function Yp(a){var c=a.ref;if(c!==null){var h=a.stateNode;a.tag,a=h,typeof c=="function"?c(a):c.current=a}}function my(a){var c=a.alternate;c!==null&&(a.alternate=null,my(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Po],delete c[ja],delete c[dp],delete c[sD],delete c[aD])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Cy(a){return a.tag===5||a.tag===3||a.tag===4}function vy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Cy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Qp(a,c,h){var f=a.tag;if(f===5||f===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Hc));else if(f!==4&&(a=a.child,a!==null))for(Qp(a,c,h),a=a.sibling;a!==null;)Qp(a,c,h),a=a.sibling}function Xp(a,c,h){var f=a.tag;if(f===5||f===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(f!==4&&(a=a.child,a!==null))for(Xp(a,c,h),a=a.sibling;a!==null;)Xp(a,c,h),a=a.sibling}var Xt=null,co=!1;function Ni(a,c,h){for(h=h.child;h!==null;)wy(a,c,h),h=h.sibling}function wy(a,c,h){if(Fo&&typeof Fo.onCommitFiberUnmount=="function")try{Fo.onCommitFiberUnmount(yc,h)}catch{}switch(h.tag){case 5:rn||Ps(h,c);case 6:var f=Xt,v=co;Xt=null,Ni(a,c,h),Xt=f,co=v,Xt!==null&&(co?(a=Xt,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Xt.removeChild(h.stateNode));break;case 18:Xt!==null&&(co?(a=Xt,h=h.stateNode,a.nodeType===8?up(a.parentNode,h):a.nodeType===1&&up(a,h),Oa(a)):up(Xt,h.stateNode));break;case 4:f=Xt,v=co,Xt=h.stateNode.containerInfo,co=!0,Ni(a,c,h),Xt=f,co=v;break;case 0:case 11:case 14:case 15:if(!rn&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var S=v,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&qp(h,c,D),v=v.next}while(v!==f)}Ni(a,c,h);break;case 1:if(!rn&&(Ps(h,c),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(A){Dt(h,c,A)}Ni(a,c,h);break;case 21:Ni(a,c,h);break;case 22:h.mode&1?(rn=(f=rn)||h.memoizedState!==null,Ni(a,c,h),rn=f):Ni(a,c,h);break;default:Ni(a,c,h)}}function yy(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new RD),c.forEach(function(f){var v=AD.bind(null,a,f);h.has(f)||(h.add(f),f.then(v,v))})}}function uo(a,c){var h=c.deletions;if(h!==null)for(var f=0;f<h.length;f++){var v=h[f];try{var S=a,D=c,A=D;e:for(;A!==null;){switch(A.tag){case 5:Xt=A.stateNode,co=!1;break e;case 3:Xt=A.stateNode.containerInfo,co=!0;break e;case 4:Xt=A.stateNode.containerInfo,co=!0;break e}A=A.return}if(Xt===null)throw Error(n(160));wy(S,D,v),Xt=null,co=!1;var N=v.alternate;N!==null&&(N.return=null),v.return=null}catch(Z){Dt(v,c,Z)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Sy(c,a),c=c.sibling}function Sy(a,c){var h=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(uo(c,a),To(a),f&4){try{ol(3,a,a.return),au(3,a)}catch(be){Dt(a,a.return,be)}try{ol(5,a,a.return)}catch(be){Dt(a,a.return,be)}}break;case 1:uo(c,a),To(a),f&512&&h!==null&&Ps(h,h.return);break;case 5:if(uo(c,a),To(a),f&512&&h!==null&&Ps(h,h.return),a.flags&32){var v=a.stateNode;try{vn(v,"")}catch(be){Dt(a,a.return,be)}}if(f&4&&(v=a.stateNode,v!=null)){var S=a.memoizedProps,D=h!==null?h.memoizedProps:S,A=a.type,N=a.updateQueue;if(a.updateQueue=null,N!==null)try{A==="input"&&S.type==="radio"&&S.name!=null&&bt(v,S),Ee(A,D);var Z=Ee(A,S);for(D=0;D<N.length;D+=2){var ae=N[D],le=N[D+1];ae==="style"?rs(v,le):ae==="dangerouslySetInnerHTML"?Rt(v,le):ae==="children"?vn(v,le):P(v,ae,le,Z)}switch(A){case"input":Fe(v,S);break;case"textarea":Ke(v,S);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var me=S.value;me!=null?fe(v,!!S.multiple,me,!1):se!==!!S.multiple&&(S.defaultValue!=null?fe(v,!!S.multiple,S.defaultValue,!0):fe(v,!!S.multiple,S.multiple?[]:"",!1))}v[ja]=S}catch(be){Dt(a,a.return,be)}}break;case 6:if(uo(c,a),To(a),f&4){if(a.stateNode===null)throw Error(n(162));v=a.stateNode,S=a.memoizedProps;try{v.nodeValue=S}catch(be){Dt(a,a.return,be)}}break;case 3:if(uo(c,a),To(a),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Oa(c.containerInfo)}catch(be){Dt(a,a.return,be)}break;case 4:uo(c,a),To(a);break;case 13:uo(c,a),To(a),v=a.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(eg=At())),f&4&&yy(a);break;case 22:if(ae=h!==null&&h.memoizedState!==null,a.mode&1?(rn=(Z=rn)||ae,uo(c,a),rn=Z):uo(c,a),To(a),f&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ae&&(a.mode&1)!==0)for(we=a,ae=a.child;ae!==null;){for(le=we=ae;we!==null;){switch(se=we,me=se.child,se.tag){case 0:case 11:case 14:case 15:ol(4,se,se.return);break;case 1:Ps(se,se.return);var Se=se.stateNode;if(typeof Se.componentWillUnmount=="function"){f=se,h=se.return;try{c=f,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(be){Dt(f,h,be)}}break;case 5:Ps(se,se.return);break;case 22:if(se.memoizedState!==null){xy(le);continue}}me!==null?(me.return=se,we=me):xy(le)}ae=ae.sibling}e:for(ae=null,le=a;;){if(le.tag===5){if(ae===null){ae=le;try{v=le.stateNode,Z?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(A=le.stateNode,N=le.memoizedProps.style,D=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=Yo("display",D))}catch(be){Dt(a,a.return,be)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=Z?"":le.memoizedProps}catch(be){Dt(a,a.return,be)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===a)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===a)break e;for(;le.sibling===null;){if(le.return===null||le.return===a)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:uo(c,a),To(a),f&4&&yy(a);break;case 21:break;default:uo(c,a),To(a)}}function To(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(Cy(h)){var f=h;break e}h=h.return}throw Error(n(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(vn(v,""),f.flags&=-33);var S=vy(a);Xp(a,S,v);break;case 3:case 4:var D=f.stateNode.containerInfo,A=vy(a);Qp(a,A,D);break;default:throw Error(n(161))}}catch(N){Dt(a,a.return,N)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function FD(a,c,h){we=a,by(a)}function by(a,c,h){for(var f=(a.mode&1)!==0;we!==null;){var v=we,S=v.child;if(v.tag===22&&f){var D=v.memoizedState!==null||su;if(!D){var A=v.alternate,N=A!==null&&A.memoizedState!==null||rn;A=su;var Z=rn;if(su=D,(rn=N)&&!Z)for(we=v;we!==null;)D=we,N=D.child,D.tag===22&&D.memoizedState!==null?Fy(v):N!==null?(N.return=D,we=N):Fy(v);for(;S!==null;)we=S,by(S),S=S.sibling;we=v,su=A,rn=Z}Ry(a)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,we=S):Ry(a)}}function Ry(a){for(;we!==null;){var c=we;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:rn||au(5,c);break;case 1:var f=c.stateNode;if(c.flags&4&&!rn)if(h===null)f.componentDidMount();else{var v=c.elementType===c.type?h.memoizedProps:lo(c.type,h.memoizedProps);f.componentDidUpdate(v,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var S=c.updateQueue;S!==null&&xw(c,S,f);break;case 3:var D=c.updateQueue;if(D!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}xw(c,D,h)}break;case 5:var A=c.stateNode;if(h===null&&c.flags&4){h=A;var N=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&h.focus();break;case"img":N.src&&(h.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Z=c.alternate;if(Z!==null){var ae=Z.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Oa(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||c.flags&512&&Yp(c)}catch(se){Dt(c,c.return,se)}}if(c===a){we=null;break}if(h=c.sibling,h!==null){h.return=c.return,we=h;break}we=c.return}}function xy(a){for(;we!==null;){var c=we;if(c===a){we=null;break}var h=c.sibling;if(h!==null){h.return=c.return,we=h;break}we=c.return}}function Fy(a){for(;we!==null;){var c=we;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{au(4,c)}catch(N){Dt(c,h,N)}break;case 1:var f=c.stateNode;if(typeof f.componentDidMount=="function"){var v=c.return;try{f.componentDidMount()}catch(N){Dt(c,v,N)}}var S=c.return;try{Yp(c)}catch(N){Dt(c,S,N)}break;case 5:var D=c.return;try{Yp(c)}catch(N){Dt(c,D,N)}}}catch(N){Dt(c,c.return,N)}if(c===a){we=null;break}var A=c.sibling;if(A!==null){A.return=c.return,we=A;break}we=c.return}}var PD=Math.ceil,lu=M.ReactCurrentDispatcher,Zp=M.ReactCurrentOwner,jn=M.ReactCurrentBatchConfig,qe=0,Ut=null,Gt=null,Zt=0,Nn=0,Es=ki(0),zt=0,il=null,Cr=0,cu=0,Jp=0,rl=null,bn=null,eg=0,Ds=1/0,ii=null,uu=!1,tg=null,Bi=null,du=!1,Hi=null,hu=0,sl=0,ng=null,pu=-1,gu=0;function hn(){return(qe&6)!==0?At():pu!==-1?pu:pu=At()}function Gi(a){return(a.mode&1)===0?1:(qe&2)!==0&&Zt!==0?Zt&-Zt:cD.transition!==null?(gu===0&&(gu=vv()),gu):(a=st,a!==0||(a=window.event,a=a===void 0?16:Ev(a.type)),a)}function ho(a,c,h,f){if(50<sl)throw sl=0,ng=null,Error(n(185));Ma(a,h,f),((qe&2)===0||a!==Ut)&&(a===Ut&&((qe&2)===0&&(cu|=h),zt===4&&Vi(a,Zt)),Rn(a,f),h===1&&qe===0&&(c.mode&1)===0&&(Ds=At()+500,zc&&Ai()))}function Rn(a,c){var h=a.callbackNode;cE(a,c);var f=Rc(a,a===Ut?Zt:0);if(f===0)h!==null&&fv(h),a.callbackNode=null,a.callbackPriority=0;else if(c=f&-f,a.callbackPriority!==c){if(h!=null&&fv(h),c===1)a.tag===0?lD(Ey.bind(null,a)):hw(Ey.bind(null,a)),iD(function(){(qe&6)===0&&Ai()}),h=null;else{switch(wv(f)){case 1:h=Oh;break;case 4:h=mv;break;case 16:h=wc;break;case 536870912:h=Cv;break;default:h=wc}h=Oy(h,Py.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function Py(a,c){if(pu=-1,gu=0,(qe&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Ts()&&a.callbackNode!==h)return null;var f=Rc(a,a===Ut?Zt:0);if(f===0)return null;if((f&30)!==0||(f&a.expiredLanes)!==0||c)c=fu(a,f);else{c=f;var v=qe;qe|=2;var S=Ty();(Ut!==a||Zt!==c)&&(ii=null,Ds=At()+500,wr(a,c));do try{TD();break}catch(A){Dy(a,A)}while(!0);yp(),lu.current=S,qe=v,Gt!==null?c=0:(Ut=null,Zt=0,c=zt)}if(c!==0){if(c===2&&(v=Nh(a),v!==0&&(f=v,c=og(a,v))),c===1)throw h=il,wr(a,0),Vi(a,f),Rn(a,At()),h;if(c===6)Vi(a,f);else{if(v=a.current.alternate,(f&30)===0&&!ED(v)&&(c=fu(a,f),c===2&&(S=Nh(a),S!==0&&(f=S,c=og(a,S))),c===1))throw h=il,wr(a,0),Vi(a,f),Rn(a,At()),h;switch(a.finishedWork=v,a.finishedLanes=f,c){case 0:case 1:throw Error(n(345));case 2:yr(a,bn,ii);break;case 3:if(Vi(a,f),(f&130023424)===f&&(c=eg+500-At(),10<c)){if(Rc(a,0)!==0)break;if(v=a.suspendedLanes,(v&f)!==f){hn(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=cp(yr.bind(null,a,bn,ii),c);break}yr(a,bn,ii);break;case 4:if(Vi(a,f),(f&4194240)===f)break;for(c=a.eventTimes,v=-1;0<f;){var D=31-ro(f);S=1<<D,D=c[D],D>v&&(v=D),f&=~S}if(f=v,f=At()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*PD(f/1960))-f,10<f){a.timeoutHandle=cp(yr.bind(null,a,bn,ii),f);break}yr(a,bn,ii);break;case 5:yr(a,bn,ii);break;default:throw Error(n(329))}}}return Rn(a,At()),a.callbackNode===h?Py.bind(null,a):null}function og(a,c){var h=rl;return a.current.memoizedState.isDehydrated&&(wr(a,c).flags|=256),a=fu(a,c),a!==2&&(c=bn,bn=h,c!==null&&ig(c)),a}function ig(a){bn===null?bn=a:bn.push.apply(bn,a)}function ED(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var v=h[f],S=v.getSnapshot;v=v.value;try{if(!so(S(),v))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Vi(a,c){for(c&=~Jp,c&=~cu,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-ro(c),f=1<<h;a[h]=-1,c&=~f}}function Ey(a){if((qe&6)!==0)throw Error(n(327));Ts();var c=Rc(a,0);if((c&1)===0)return Rn(a,At()),null;var h=fu(a,c);if(a.tag!==0&&h===2){var f=Nh(a);f!==0&&(c=f,h=og(a,f))}if(h===1)throw h=il,wr(a,0),Vi(a,c),Rn(a,At()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,yr(a,bn,ii),Rn(a,At()),null}function rg(a,c){var h=qe;qe|=1;try{return a(c)}finally{qe=h,qe===0&&(Ds=At()+500,zc&&Ai())}}function vr(a){Hi!==null&&Hi.tag===0&&(qe&6)===0&&Ts();var c=qe;qe|=1;var h=jn.transition,f=st;try{if(jn.transition=null,st=1,a)return a()}finally{st=f,jn.transition=h,qe=c,(qe&6)===0&&Ai()}}function sg(){Nn=Es.current,vt(Es)}function wr(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,oD(h)),Gt!==null)for(h=Gt.return;h!==null;){var f=h;switch(fp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Vc();break;case 3:xs(),vt(wn),vt(tn),Dp();break;case 5:Pp(f);break;case 4:xs();break;case 13:vt(xt);break;case 19:vt(xt);break;case 10:Sp(f.type._context);break;case 22:case 23:sg()}h=h.return}if(Ut=a,Gt=a=Wi(a.current,null),Zt=Nn=c,zt=0,il=null,Jp=cu=Cr=0,bn=rl=null,gr!==null){for(c=0;c<gr.length;c++)if(h=gr[c],f=h.interleaved,f!==null){h.interleaved=null;var v=f.next,S=h.pending;if(S!==null){var D=S.next;S.next=v,f.next=D}h.pending=f}gr=null}return a}function Dy(a,c){do{var h=Gt;try{if(yp(),Zc.current=nu,Jc){for(var f=Ft.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}Jc=!1}if(mr=0,$t=Wt=Ft=null,Za=!1,Ja=0,Zp.current=null,h===null||h.return===null){zt=1,il=c,Gt=null;break}e:{var S=a,D=h.return,A=h,N=c;if(c=Zt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=N,ae=A,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var se=ae.alternate;se?(ae.updateQueue=se.updateQueue,ae.memoizedState=se.memoizedState,ae.lanes=se.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var me=Jw(D);if(me!==null){me.flags&=-257,ey(me,D,A,S,c),me.mode&1&&Zw(S,Z,c),c=me,N=Z;var Se=c.updateQueue;if(Se===null){var be=new Set;be.add(N),c.updateQueue=be}else Se.add(N);break e}else{if((c&1)===0){Zw(S,Z,c),ag();break e}N=Error(n(426))}}else if(wt&&A.mode&1){var Lt=Jw(D);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),ey(Lt,D,A,S,c),vp(Fs(N,A));break e}}S=N=Fs(N,A),zt!==4&&(zt=2),rl===null?rl=[S]:rl.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,c&=-c,S.lanes|=c;var U=Qw(S,N,c);Rw(S,U);break e;case 1:A=N;var H=S.type,Q=S.stateNode;if((S.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Bi===null||!Bi.has(Q)))){S.flags|=65536,c&=-c,S.lanes|=c;var ce=Xw(S,A,c);Rw(S,ce);break e}}S=S.return}while(S!==null)}ky(h)}catch(xe){c=xe,Gt===h&&h!==null&&(Gt=h=h.return);continue}break}while(!0)}function Ty(){var a=lu.current;return lu.current=nu,a===null?nu:a}function ag(){(zt===0||zt===3||zt===2)&&(zt=4),Ut===null||(Cr&268435455)===0&&(cu&268435455)===0||Vi(Ut,Zt)}function fu(a,c){var h=qe;qe|=2;var f=Ty();(Ut!==a||Zt!==c)&&(ii=null,wr(a,c));do try{DD();break}catch(v){Dy(a,v)}while(!0);if(yp(),qe=h,lu.current=f,Gt!==null)throw Error(n(261));return Ut=null,Zt=0,zt}function DD(){for(;Gt!==null;)My(Gt)}function TD(){for(;Gt!==null&&!eE();)My(Gt)}function My(a){var c=Ly(a.alternate,a,Nn);a.memoizedProps=a.pendingProps,c===null?ky(a):Gt=c,Zp.current=null}function ky(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=SD(h,c,Nn),h!==null){Gt=h;return}}else{if(h=bD(h,c),h!==null){h.flags&=32767,Gt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{zt=6,Gt=null;return}}if(c=c.sibling,c!==null){Gt=c;return}Gt=c=a}while(c!==null);zt===0&&(zt=5)}function yr(a,c,h){var f=st,v=jn.transition;try{jn.transition=null,st=1,MD(a,c,h,f)}finally{jn.transition=v,st=f}return null}function MD(a,c,h,f){do Ts();while(Hi!==null);if((qe&6)!==0)throw Error(n(327));h=a.finishedWork;var v=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var S=h.lanes|h.childLanes;if(uE(a,S),a===Ut&&(Gt=Ut=null,Zt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||du||(du=!0,Oy(wc,function(){return Ts(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=jn.transition,jn.transition=null;var D=st;st=1;var A=qe;qe|=4,Zp.current=null,xD(a,h),Sy(h,a),QE(ap),Pc=!!sp,ap=sp=null,a.current=h,FD(h),tE(),qe=A,st=D,jn.transition=S}else a.current=h;if(du&&(du=!1,Hi=a,hu=v),S=a.pendingLanes,S===0&&(Bi=null),iE(h.stateNode),Rn(a,At()),c!==null)for(f=a.onRecoverableError,h=0;h<c.length;h++)v=c[h],f(v.value,{componentStack:v.stack,digest:v.digest});if(uu)throw uu=!1,a=tg,tg=null,a;return(hu&1)!==0&&a.tag!==0&&Ts(),S=a.pendingLanes,(S&1)!==0?a===ng?sl++:(sl=0,ng=a):sl=0,Ai(),null}function Ts(){if(Hi!==null){var a=wv(hu),c=jn.transition,h=st;try{if(jn.transition=null,st=16>a?16:a,Hi===null)var f=!1;else{if(a=Hi,Hi=null,hu=0,(qe&6)!==0)throw Error(n(331));var v=qe;for(qe|=4,we=a.current;we!==null;){var S=we,D=S.child;if((we.flags&16)!==0){var A=S.deletions;if(A!==null){for(var N=0;N<A.length;N++){var Z=A[N];for(we=Z;we!==null;){var ae=we;switch(ae.tag){case 0:case 11:case 15:ol(8,ae,S)}var le=ae.child;if(le!==null)le.return=ae,we=le;else for(;we!==null;){ae=we;var se=ae.sibling,me=ae.return;if(my(ae),ae===Z){we=null;break}if(se!==null){se.return=me,we=se;break}we=me}}}var Se=S.alternate;if(Se!==null){var be=Se.child;if(be!==null){Se.child=null;do{var Lt=be.sibling;be.sibling=null,be=Lt}while(be!==null)}}we=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,we=D;else e:for(;we!==null;){if(S=we,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ol(9,S,S.return)}var U=S.sibling;if(U!==null){U.return=S.return,we=U;break e}we=S.return}}var H=a.current;for(we=H;we!==null;){D=we;var Q=D.child;if((D.subtreeFlags&2064)!==0&&Q!==null)Q.return=D,we=Q;else e:for(D=H;we!==null;){if(A=we,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:au(9,A)}}catch(xe){Dt(A,A.return,xe)}if(A===D){we=null;break e}var ce=A.sibling;if(ce!==null){ce.return=A.return,we=ce;break e}we=A.return}}if(qe=v,Ai(),Fo&&typeof Fo.onPostCommitFiberRoot=="function")try{Fo.onPostCommitFiberRoot(yc,a)}catch{}f=!0}return f}finally{st=h,jn.transition=c}}return!1}function Iy(a,c,h){c=Fs(h,c),c=Qw(a,c,1),a=Oi(a,c,1),c=hn(),a!==null&&(Ma(a,1,c),Rn(a,c))}function Dt(a,c,h){if(a.tag===3)Iy(a,a,h);else for(;c!==null;){if(c.tag===3){Iy(c,a,h);break}else if(c.tag===1){var f=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Bi===null||!Bi.has(f))){a=Fs(h,a),a=Xw(c,a,1),c=Oi(c,a,1),a=hn(),c!==null&&(Ma(c,1,a),Rn(c,a));break}}c=c.return}}function kD(a,c,h){var f=a.pingCache;f!==null&&f.delete(c),c=hn(),a.pingedLanes|=a.suspendedLanes&h,Ut===a&&(Zt&h)===h&&(zt===4||zt===3&&(Zt&130023424)===Zt&&500>At()-eg?wr(a,0):Jp|=h),Rn(a,c)}function Ay(a,c){c===0&&((a.mode&1)===0?c=1:(c=bc,bc<<=1,(bc&130023424)===0&&(bc=4194304)));var h=hn();a=ti(a,c),a!==null&&(Ma(a,c,h),Rn(a,h))}function ID(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),Ay(a,h)}function AD(a,c){var h=0;switch(a.tag){case 13:var f=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:f=a.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(c),Ay(a,h)}var Ly;Ly=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||wn.current)Sn=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return Sn=!1,yD(a,c,h);Sn=(a.flags&131072)!==0}else Sn=!1,wt&&(c.flags&1048576)!==0&&pw(c,$c,c.index);switch(c.lanes=0,c.tag){case 2:var f=c.type;ru(a,c),a=c.pendingProps;var v=Cs(c,tn.current);Rs(c,h),v=kp(null,c,f,a,v,h);var S=Ip();return c.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,yn(f)?(S=!0,Wc(c)):S=!1,c.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,xp(c),v.updater=ou,c.stateNode=v,v._reactInternals=c,Hp(c,f,a,h),c=zp(null,c,f,!0,S,h)):(c.tag=0,wt&&S&&gp(c),dn(null,c,v,h),c=c.child),c;case 16:f=c.elementType;e:{switch(ru(a,c),a=c.pendingProps,v=f._init,f=v(f._payload),c.type=f,v=c.tag=OD(f),a=lo(f,a),v){case 0:c=Wp(null,c,f,a,h);break e;case 1:c=sy(null,c,f,a,h);break e;case 11:c=ty(null,c,f,a,h);break e;case 14:c=ny(null,c,f,lo(f.type,a),h);break e}throw Error(n(306,f,""))}return c;case 0:return f=c.type,v=c.pendingProps,v=c.elementType===f?v:lo(f,v),Wp(a,c,f,v,h);case 1:return f=c.type,v=c.pendingProps,v=c.elementType===f?v:lo(f,v),sy(a,c,f,v,h);case 3:e:{if(ay(c),a===null)throw Error(n(387));f=c.pendingProps,S=c.memoizedState,v=S.element,bw(a,c),Qc(c,f,null,h);var D=c.memoizedState;if(f=D.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){v=Fs(Error(n(423)),c),c=ly(a,c,f,h,v);break e}else if(f!==v){v=Fs(Error(n(424)),c),c=ly(a,c,f,h,v);break e}else for(On=Mi(c.stateNode.containerInfo.firstChild),Ln=c,wt=!0,ao=null,h=yw(c,null,f,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ys(),f===v){c=oi(a,c,h);break e}dn(a,c,f,h)}c=c.child}return c;case 5:return Fw(c),a===null&&Cp(c),f=c.type,v=c.pendingProps,S=a!==null?a.memoizedProps:null,D=v.children,lp(f,v)?D=null:S!==null&&lp(f,S)&&(c.flags|=32),ry(a,c),dn(a,c,D,h),c.child;case 6:return a===null&&Cp(c),null;case 13:return cy(a,c,h);case 4:return Fp(c,c.stateNode.containerInfo),f=c.pendingProps,a===null?c.child=Ss(c,null,f,h):dn(a,c,f,h),c.child;case 11:return f=c.type,v=c.pendingProps,v=c.elementType===f?v:lo(f,v),ty(a,c,f,v,h);case 7:return dn(a,c,c.pendingProps,h),c.child;case 8:return dn(a,c,c.pendingProps.children,h),c.child;case 12:return dn(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(f=c.type._context,v=c.pendingProps,S=c.memoizedProps,D=v.value,ft(Kc,f._currentValue),f._currentValue=D,S!==null)if(so(S.value,D)){if(S.children===v.children&&!wn.current){c=oi(a,c,h);break e}}else for(S=c.child,S!==null&&(S.return=c);S!==null;){var A=S.dependencies;if(A!==null){D=S.child;for(var N=A.firstContext;N!==null;){if(N.context===f){if(S.tag===1){N=ni(-1,h&-h),N.tag=2;var Z=S.updateQueue;if(Z!==null){Z=Z.shared;var ae=Z.pending;ae===null?N.next=N:(N.next=ae.next,ae.next=N),Z.pending=N}}S.lanes|=h,N=S.alternate,N!==null&&(N.lanes|=h),bp(S.return,h,c),A.lanes|=h;break}N=N.next}}else if(S.tag===10)D=S.type===c.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(n(341));D.lanes|=h,A=D.alternate,A!==null&&(A.lanes|=h),bp(D,h,c),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===c){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}dn(a,c,v.children,h),c=c.child}return c;case 9:return v=c.type,f=c.pendingProps.children,Rs(c,h),v=$n(v),f=f(v),c.flags|=1,dn(a,c,f,h),c.child;case 14:return f=c.type,v=lo(f,c.pendingProps),v=lo(f.type,v),ny(a,c,f,v,h);case 15:return oy(a,c,c.type,c.pendingProps,h);case 17:return f=c.type,v=c.pendingProps,v=c.elementType===f?v:lo(f,v),ru(a,c),c.tag=1,yn(f)?(a=!0,Wc(c)):a=!1,Rs(c,h),qw(c,f,v),Hp(c,f,v,h),zp(null,c,f,!0,a,h);case 19:return dy(a,c,h);case 22:return iy(a,c,h)}throw Error(n(156,c.tag))};function Oy(a,c){return gv(a,c)}function LD(a,c,h,f){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(a,c,h,f){return new LD(a,c,h,f)}function lg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function OD(a){if(typeof a=="function")return lg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===O)return 14}return 2}function Wi(a,c){var h=a.alternate;return h===null?(h=Kn(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function mu(a,c,h,f,v,S){var D=2;if(f=a,typeof a=="function")lg(a)&&(D=1);else if(typeof a=="string")D=5;else e:switch(a){case I:return Sr(h.children,v,S,c);case z:D=8,v|=8;break;case _:return a=Kn(12,h,c,v|2),a.elementType=_,a.lanes=S,a;case B:return a=Kn(13,h,c,v),a.elementType=B,a.lanes=S,a;case G:return a=Kn(19,h,c,v),a.elementType=G,a.lanes=S,a;case ne:return Cu(h,v,S,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:D=10;break e;case V:D=9;break e;case F:D=11;break e;case O:D=14;break e;case Y:D=16,f=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Kn(D,h,c,v),c.elementType=a,c.type=f,c.lanes=S,c}function Sr(a,c,h,f){return a=Kn(7,a,f,c),a.lanes=h,a}function Cu(a,c,h,f){return a=Kn(22,a,f,c),a.elementType=ne,a.lanes=h,a.stateNode={isHidden:!1},a}function cg(a,c,h){return a=Kn(6,a,null,c),a.lanes=h,a}function ug(a,c,h){return c=Kn(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function ND(a,c,h,f,v){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function dg(a,c,h,f,v,S,D,A,N){return a=new ND(a,c,h,A,N),c===1?(c=1,S===!0&&(c|=8)):c=0,S=Kn(3,null,null,c),a.current=S,S.stateNode=a,S.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(S),a}function BD(a,c,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:f==null?null:""+f,children:a,containerInfo:c,implementation:h}}function Ny(a){if(!a)return Ii;a=a._reactInternals;e:{if(cr(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(yn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(yn(h))return uw(a,h,c)}return c}function By(a,c,h,f,v,S,D,A,N){return a=dg(h,f,!0,a,v,S,D,A,N),a.context=Ny(null),h=a.current,f=hn(),v=Gi(h),S=ni(f,v),S.callback=c??null,Oi(h,S,v),a.current.lanes=v,Ma(a,v,f),Rn(a,f),a}function vu(a,c,h,f){var v=c.current,S=hn(),D=Gi(v);return h=Ny(h),c.context===null?c.context=h:c.pendingContext=h,c=ni(S,D),c.payload={element:a},f=f===void 0?null:f,f!==null&&(c.callback=f),a=Oi(v,c,D),a!==null&&(ho(a,v,D,S),Yc(a,v,D)),D}function wu(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function Hy(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function hg(a,c){Hy(a,c),(a=a.alternate)&&Hy(a,c)}function HD(){return null}var Gy=typeof reportError=="function"?reportError:function(a){console.error(a)};function pg(a){this._internalRoot=a}yu.prototype.render=pg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));vu(a,c,null,null)},yu.prototype.unmount=pg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;vr(function(){vu(null,a,null,null)}),c[Xo]=null}};function yu(a){this._internalRoot=a}yu.prototype.unstable_scheduleHydration=function(a){if(a){var c=bv();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Ei.length&&c!==0&&c<Ei[h].priority;h++);Ei.splice(h,0,a),h===0&&Fv(a)}};function gg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Su(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function GD(a,c,h,f,v){if(v){if(typeof f=="function"){var S=f;f=function(){var Z=wu(D);S.call(Z)}}var D=By(c,f,a,0,null,!1,!1,"",Vy);return a._reactRootContainer=D,a[Xo]=D.current,$a(a.nodeType===8?a.parentNode:a),vr(),D}for(;v=a.lastChild;)a.removeChild(v);if(typeof f=="function"){var A=f;f=function(){var Z=wu(N);A.call(Z)}}var N=dg(a,0,!1,null,null,!1,!1,"",Vy);return a._reactRootContainer=N,a[Xo]=N.current,$a(a.nodeType===8?a.parentNode:a),vr(function(){vu(c,N,h,f)}),N}function bu(a,c,h,f,v){var S=h._reactRootContainer;if(S){var D=S;if(typeof v=="function"){var A=v;v=function(){var N=wu(D);A.call(N)}}vu(c,D,a,v)}else D=GD(h,c,a,v,f);return wu(D)}yv=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=Ta(c.pendingLanes);h!==0&&(Hh(c,h|1),Rn(c,At()),(qe&6)===0&&(Ds=At()+500,Ai()))}break;case 13:vr(function(){var f=ti(a,1);if(f!==null){var v=hn();ho(f,a,1,v)}}),hg(a,1)}},Gh=function(a){if(a.tag===13){var c=ti(a,134217728);if(c!==null){var h=hn();ho(c,a,134217728,h)}hg(a,134217728)}},Sv=function(a){if(a.tag===13){var c=Gi(a),h=ti(a,c);if(h!==null){var f=hn();ho(h,a,c,f)}hg(a,c)}},bv=function(){return st},Rv=function(a,c){var h=st;try{return st=a,c()}finally{st=h}},xo=function(a,c,h){switch(c){case"input":if(Fe(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var f=h[c];if(f!==a&&f.form===a.form){var v=Gc(f);if(!v)throw Error(n(90));Ge(f),Fe(f,v)}}}break;case"textarea":Ke(a,h);break;case"select":c=h.value,c!=null&&fe(a,!!h.multiple,c,!1)}},av=rg,lv=vr;var VD={usingClientEntryPoint:!1,Events:[Ka,fs,Gc,rv,sv,rg]},al={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WD={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=hv(a),a===null?null:a.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||HD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{yc=Ru.inject(WD),Fo=Ru}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VD,xn.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gg(c))throw Error(n(200));return BD(a,c,null,h)},xn.createRoot=function(a,c){if(!gg(a))throw Error(n(299));var h=!1,f="",v=Gy;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(f=c.identifierPrefix),c.onRecoverableError!==void 0&&(v=c.onRecoverableError)),c=dg(a,1,!1,null,null,h,!1,f,v),a[Xo]=c.current,$a(a.nodeType===8?a.parentNode:a),new pg(c)},xn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=hv(c),a=a===null?null:a.stateNode,a},xn.flushSync=function(a){return vr(a)},xn.hydrate=function(a,c,h){if(!Su(c))throw Error(n(200));return bu(null,a,c,!0,h)},xn.hydrateRoot=function(a,c,h){if(!gg(a))throw Error(n(405));var f=h!=null&&h.hydratedSources||null,v=!1,S="",D=Gy;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),c=By(c,null,a,1,h??null,v,!1,S,D),a[Xo]=c.current,$a(a),f)for(a=0;a<f.length;a++)h=f[a],v=h._getVersion,v=v(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,v]:c.mutableSourceEagerHydrationData.push(h,v);return new yu(c)},xn.render=function(a,c,h){if(!Su(c))throw Error(n(200));return bu(null,a,c,!1,h)},xn.unmountComponentAtNode=function(a){if(!Su(a))throw Error(n(40));return a._reactRootContainer?(vr(function(){bu(null,null,a,!1,function(){a._reactRootContainer=null,a[Xo]=null})}),!0):!1},xn.unstable_batchedUpdates=rg,xn.unstable_renderSubtreeIntoContainer=function(a,c,h,f){if(!Su(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return bu(a,c,h,!1,f)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var qy;function G0(){if(qy)return Cg.exports;qy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cg.exports=YD(),Cg.exports}var Yy;function QD(){if(Yy)return xu;Yy=1;var e=G0();return xu.createRoot=e.createRoot,xu.hydrateRoot=e.hydrateRoot,xu}var XD=QD();function pt(e){if(e?.length)return e[e.length-1]}function ir(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i++)if(e[i]!==t[i]&&!n?.(e[i],t[i]))return!1;return!0}function cl(e,t){if(e){for(const n of e)if(t(n))return!0}}function Uo(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function ZD(e,t){let n=0,o=0;for(;n<e.length;n++)t.includes(e[n])||(e[o]=e[n],o++);for(;o<e.length;)e.pop()}function Qy(e,t,n){for(let o=0;o<t.length;o++)Uo(e,t[o]);for(let o=t.length-1;o>=0;o--)e.splice(n,0,t[o])}var di=e=>e==null||e===""?null:e;function de(e){return e!=null&&e!==""}function Pt(e){return!de(e)}var vf=e=>e!=null&&typeof e.toString=="function"?e.toString():null,Hl=(e,t)=>{const n=e?JSON.stringify(e):null,o=t?JSON.stringify(t):null;return n===o},JD=(e,t,n=!1)=>e==null?t==null?0:-1:t==null?1:(typeof e=="object"&&e.toNumber&&(e=e.toNumber()),typeof t=="object"&&t.toNumber&&(t=t.toNumber()),!n||typeof e!="string"?e>t?1:e<t?-1:0:e.localeCompare(t)),$r=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const o=t?this.allAsyncListeners:this.allSyncListeners;let i=o.get(e);return!i&&n&&(i=new Set,o.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const o=this.getListeners(e,n,!1);o&&(o.delete(t),o.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const{frameworkOverrides:o}=this,i=l=>{const u=o?()=>o.wrapIncoming(l):l;t?this.dispatchAsync(u):u()},r=this.getListeners(n,t,!1);if((r?.size??0)>0){const l=new Set(r);for(const u of l)r?.has(u)&&i(()=>u(e))}const s=this.getGlobalListeners(t);if(s.size>0){const l=new Set(s);for(const u of l)i(()=>u(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)},n=this.frameworkOverrides;n?n.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}},e1=/[&<>"']/g,t1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function va(e){return e?.toString().toString()??null}function Pl(e){return va(e)?.replace(e1,t=>t1[t])??null}function Xy(e){return typeof e=="string"&&e.startsWith("=")&&e.length>1}function n1(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}function Lo(e){return e.eRootDiv.getRootNode()}function St(e){return Lo(e).activeElement}function _t(e){const{gos:t,eRootDiv:n}=e;let o=null;const i=t.get("getDocument");return i&&de(i)?o=i():n&&(o=n.ownerDocument),o&&de(o)?o:document}function Sm(e){const t=St(e);return t===null||t===_t(e).body}function bm(e){return _t(e).defaultView||window}function Rm(e){let t=null,n=null;try{t=_t(e).fullscreenElement}catch{}finally{t||(t=Lo(e));const o=t.querySelector("body");o?n=o:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function o1(e){return Rm(e)?.clientWidth??(window.innerWidth||-1)}function i1(e){return Rm(e)?.clientHeight??(window.innerHeight||-1)}function So(e,t,n){n==null||typeof n=="string"&&n==""?V0(e,t):bo(e,t,n)}function bo(e,t,n){e.setAttribute(W0(t),n.toString())}function V0(e,t){e.removeAttribute(W0(t))}function W0(e){return`aria-${e}`}function Ur(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function r1(e){const t=e?.direction;return t==="asc"?"ascending":t==="desc"?"descending":t==="mixed"?"other":"none"}function s1(e){return e.getAttribute("aria-label")}function aa(e,t){So(e,"label",t)}function Gl(e,t){So(e,"labelledby",t)}function z0(e,t){So(e,"live",t)}function a1(e,t){So(e,"atomic",t)}function l1(e,t){So(e,"relevant",t)}function xm(e,t){So(e,"invalid",t)}function c1(e,t){So(e,"disabled",t)}function _0(e,t){So(e,"hidden",t)}function wf(e,t){bo(e,"expanded",t)}function u1(e,t){bo(e,"setsize",t)}function d1(e,t){bo(e,"posinset",t)}function h1(e,t){bo(e,"rowcount",t)}function $0(e,t){bo(e,"rowindex",t)}function p1(e,t){bo(e,"rowspan",t)}function g1(e,t){bo(e,"colcount",t)}function U0(e,t){bo(e,"colindex",t)}function f1(e,t){bo(e,"colspan",t)}function m1(e,t){bo(e,"sort",t)}function C1(e){V0(e,"sort")}function j0(e,t){So(e,"selected",t)}function v1(e,t){So(e,"controls",t)}function w1(e,t){v1(e,t.id),Gl(t,e.id)}function Zy(e,t){So(e,"owns",t)}function Ud(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var y1="[tabindex], input, select, button, textarea, [href]",K0="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function El(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(K0)?!1:vo(e)}function ht(e,t,n={}){const{skipAriaHidden:o}=n;e.classList.toggle("ag-hidden",!t),o||_0(e,!t)}function S1(e,t,n={}){const{skipAriaHidden:o}=n;e.classList.toggle("ag-invisible",!t),o||_0(e,!t)}function Vl(e,t){const n="disabled",o=t?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);o(e);const i=e.querySelectorAll("input")??[];for(const r of i)o(r)}function Nr(e,t,n){let o=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++o>n)break}else if(e===n)break}return!1}function ns(e){const{height:t,width:n,borderTopWidth:o,borderRightWidth:i,borderBottomWidth:r,borderLeftWidth:s,paddingTop:l,paddingRight:u,paddingBottom:d,paddingLeft:p,marginTop:g,marginRight:m,marginBottom:C,marginLeft:w,boxSizing:y}=window.getComputedStyle(e),R=Number.parseFloat;return{height:R(t||"0"),width:R(n||"0"),borderTopWidth:R(o||"0"),borderRightWidth:R(i||"0"),borderBottomWidth:R(r||"0"),borderLeftWidth:R(s||"0"),paddingTop:R(l||"0"),paddingRight:R(u||"0"),paddingBottom:R(d||"0"),paddingLeft:R(p||"0"),marginTop:R(g||"0"),marginRight:R(m||"0"),marginBottom:R(C||"0"),marginLeft:R(w||"0"),boxSizing:y}}function Fm(e){const t=ns(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function Wl(e){const t=ns(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function q0(e){const{height:t,marginBottom:n,marginTop:o}=ns(e);return Math.floor(t+n+o)}function ad(e){const{width:t,marginLeft:n,marginRight:o}=ns(e);return Math.floor(t+n+o)}function Y0(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:o,borderRightWidth:i,borderBottomWidth:r}=ns(e);return{top:t.top+(n||0),left:t.left+(o||0),right:t.right+(i||0),bottom:t.bottom+(r||0)}}function ld(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function cd(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Tn(e){for(;e?.firstChild;)e.firstChild.remove()}function Zi(e){e?.parentNode&&e.remove()}function Pm(e){return!!e.offsetParent}function vo(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!Pm(e)||window.getComputedStyle(e).visibility!=="visible")}function Em(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function zl(e){return()=>{const t=e();return t?Q0(t)||b1(t):!0}}function Q0(e){return e.clientWidth<e.scrollWidth}function b1(e){return e.clientHeight<e.scrollHeight}function ud(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):zo(e,t)}function zo(e,t){t=Dm(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Dl(e,t){t=Dm(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Dm(e){return typeof e=="number"?`${e}px`:e}function Tm(e){return e instanceof Node||e instanceof HTMLElement}function Pn(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function R1(e,t){if(!t.isContentEditable)return;const n=bm(e).getSelection();if(!n)return;const o=_t(e).createRange();o.selectNodeContents(t),o.collapse(!1),n.removeAllRanges(),n.addRange(o)}function Si(e,t,n){const i=bm(e).ResizeObserver,r=i?new i(n):null;return r?.observe(t),()=>r?.disconnect()}function bi(e,t){const n=bm(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var X0="data-ref",yg;function Jy(){return yg??(yg=document.createTextNode(" ")),yg.cloneNode()}function jr(e){const{attrs:t,children:n,cls:o,ref:i,role:r,tag:s}=e,l=document.createElement(s);if(o&&(l.className=o),i&&l.setAttribute(X0,i),r&&l.setAttribute("role",r),t)for(const u of Object.keys(t))l.setAttribute(u,t[u]);if(n)if(typeof n=="string")l.textContent=n;else{let u=!0;for(const d of n)d&&(typeof d=="string"?(l.appendChild(document.createTextNode(d)),u=!1):typeof d=="function"?l.appendChild(d()):(u&&(l.appendChild(Jy()),u=!1),l.append(jr(d)),l.appendChild(Jy())))}return l}var x1=["touchstart","touchend","touchmove","touchcancel","scroll"],F1=["wheel"],Sg={},dd=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof Sg[n]=="boolean")return Sg[n];const o=document.createElement(e[n]||"div");return n="on"+n,Sg[n]=n in o}})();function P1(e,t){return!t||!e?!1:D1(t).indexOf(e)>=0}function E1(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function D1(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():E1(t)}function T1(e,t,n){const o=M1(t);let i;o!=null&&(i={passive:o}),e.addEventListener(t,n,i)}var M1=e=>{const t=x1.includes(e),n=F1.includes(e);if(t)return!0;if(n)return!1};function Z0(e,t,n){if(n===0)return!1;const o=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(o,i)<=n}var Ks=(e,t)=>{const n=e.identifier;for(let o=0,i=t.length;o<i;++o){const r=t[o];if(r.identifier===n)return r}return null};function _l(e,t){return e.gos.isElementInThisInstance(t.target)}function k1(e,t,n){const i=e.getBoundingClientRect().height,r=o1(n)-2,s=i1(n)-2;if(!e.offsetParent)return;const u=Y0(e.offsetParent),{clientY:d,clientX:p}=t;let g=d-u.top-i/2,m=p-u.left-10;const C=_t(n),w=C.defaultView||window,y=w.pageYOffset||C.documentElement.scrollTop,R=w.pageXOffset||C.documentElement.scrollLeft;r>0&&m+e.clientWidth>r+R&&(m=r+R-e.clientWidth),m<0&&(m=0),s>0&&g+e.clientHeight>s+y&&(g=s+y-e.clientHeight),g<0&&(g=0),e.style.left=`${m}px`,e.style.top=`${g}px`}var zu=(e,...t)=>{for(const n of t){const[o,i,r,s]=n;o.addEventListener(i,r,s),e.push(n)}},Mm=e=>{if(e){for(const[t,n,o,i]of e)t.removeEventListener(n,o,i);e.length=0}},qi=e=>{e.cancelable&&e.preventDefault()};function I1(e,t){return t}function J0(e){return e?.getLocaleTextFunc()??I1}function A1(e,t,n,o){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(o):i,o)}function L1(e){return(t,n,o)=>e({key:t,defaultValue:n,variableValues:o})}function O1(e){return(t,n,o)=>{let i=e?.[t];if(i&&o?.length){let r=0;for(;!(r>=o.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",o[r++])}return i??n}}var mn=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new $r),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const o of Object.keys(t)){const i=t[o];i&&n.push(this._setupListener(e,o,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let o;if(N1(e))e.__addEventListener(t,n),o=()=>(e.__removeEventListener(t,n),null);else{const i=B1(e);e instanceof HTMLElement?T1(e,t,n):i?e.addListener(t,n):e.addEventListener(t,n),o=i?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(o),()=>(o(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==o),null)}setupPropertyListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const o=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(o),()=>(o(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==o),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,o=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const r={type:"propertyChanged",changeSet:i.changeSet,source:i.source};t(r)};for(const i of e)this.setupPropertyListener(i,o)}getLocaleTextFunc(){return J0(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function N1(e){return e.__addEventListener!==void 0}function B1(e){return e.eventServiceType==="global"}var ee=class extends mn{},yf=new Set,jd=(e,t)=>{yf.has(t)||(yf.add(t),e())};jd._set=yf;var H1={pending:!1,funcs:[]},G1={pending:!1,funcs:[]};function Sf(e,t="setTimeout",n){const o=t==="raf"?G1:H1;if(o.funcs.push(e),o.pending)return;o.pending=!0;const i=()=>{const r=o.funcs.slice();o.funcs.length=0,o.pending=!1;for(const s of r)s()};t==="raf"?bi(n,i):window.setTimeout(i,0)}function qt(e,t,n){let o;return function(...i){const r=this;return window.clearTimeout(o),o=window.setTimeout(function(){e.isAlive()&&t.apply(r,i)},n),o}}function eS(e,t){let n=0;return function(...o){const i=this,r=Date.now();r-n<t||(n=r,e.apply(i,o))}}function V1(e,t,n,o=100){const i=Date.now();let r=null,s=!1;const l=()=>{r!=null&&(window.clearInterval(r),r=null)};e.addDestroyFunc(l);const u=()=>{const d=Date.now()-i>o;(t()||d)&&(n(),s=!0,l())};u(),s||(r=window.setInterval(u,10))}var eR=new Set(["__proto__","constructor","prototype"]);function W1(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(o=>!eR.has(o)))t(n,e[n])}}function pn(e,t,n=!0,o=!1){de(t)&&W1(t,(i,r)=>{let s=e[i];s!==r&&(o&&s==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(s={},e[i]=s),tS(r)&&tS(s)&&!Array.isArray(s)?pn(s,r,n,o):(n||r!==void 0)&&(e[i]=r))})}function tS(e){return typeof e=="object"&&e!==null}var km=class ai{static applyGlobalGridOptions(t){if(!ai.gridOptions)return{...t};let n={};return pn(n,ai.gridOptions,!0,!0),ai.mergeStrategy==="deep"?pn(n,t,!0,!0):n={...n,...t},ai.gridOptions.context&&(n.context=ai.gridOptions.context),t.context&&(ai.mergeStrategy==="deep"&&n.context&&pn(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(ai.mergeStrategy==="deep"){const o=tR(t);if(o&&typeof o=="object"&&typeof n=="object")return ai.applyGlobalGridOptions({[t]:n})[t]}return n}};km.gridOptions=void 0;km.mergeStrategy="shallow";var Im=km;function tR(e){return Im.gridOptions?.[e]}var nR={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipSwitchShowDelay:200,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,refreshAfterGroupEdit:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,enableFilterHandlers:!1},oR="https://www.ag-grid.com";function Kr(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Tl(e,...t){jd(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function qs(e,...t){jd(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var iR=new Set,hd={},Br={},_u,rR=!1,sR=!1,z1=!1;function _1(e){const[t,n]=e.version.split(".")||[],[o,i]=_u.split(".")||[];return t===o&&n===i}function $1(e){_u||(_u=e.version);const t=o=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${o} Please update all modules to the same version.`;e.version?_1(e)||qs(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${_u}.`)):qs(t(`'${e.moduleName}' is incompatible.`));const n=e.validate?.();n&&!n.isValid&&qs(`${n.message}`)}function $l(e,t,n=!1){n||(rR=!0),$1(e);const o=e.rowModels??["all"];iR.add(e);let i;t!==void 0?(sR=!0,Br[t]===void 0&&(Br[t]={}),i=Br[t]):i=hd;for(const r of o)i[r]===void 0&&(i[r]={}),i[r][e.moduleName]=e;if(e.dependsOn)for(const r of e.dependsOn)$l(r,t,n)}function U1(e){delete Br[e]}function bf(e,t,n){const o=i=>!!hd[i]?.[e]||!!Br[t]?.[i]?.[e];return o(n)||o("all")}function Am(){return sR}function j1(e,t){const n=Br[e]??{};return[...Object.values(hd.all??{}),...Object.values(n.all??{}),...Object.values(hd[t]??{}),...Object.values(n[t]??{})]}function K1(){return new Set(iR)}function q1(e,t){const n=Br[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function Y1(){return rR}function aR(){return z1}var Q1=class{static register(e){$l(e,void 0)}static registerModules(e){for(const t of e)$l(t,void 0)}};function lR(e){for(const t of e){if("setLicenseKey"in t)return t;if(t.dependsOn){const n=lR(t.dependsOn);if(n)return n}}}var ue="35.1.0",nS=2e3,oS=100,cR="_version_",uR=null,Ys=`${oR}/javascript-data-grid`;function X1(e){uR=e}function Z1(e){Ys=e}function dR(e,t,n){return uR?.(e,t)??[nT(e,t,n)]}function Lm(e,t,n,o,i){e(`${o?"warning":"error"} #${t}`,...dR(t,n,i))}function J1(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function eT(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=J1(e)),t}function $u(e){return e===void 0?"undefined":e===null?"null":e}function Rf(e,t){return`${e}?${t.toString()}`}function tT(e,t,n){const o=Array.from(t.entries()).sort((r,s)=>s[1].length-r[1].length);let i=Rf(e,t);for(const[r,s]of o){if(r===cR)continue;const l=i.length-n;if(l<=0)break;const u="...",d=l+u.length,p=s.length-d>oS?s.slice(0,s.length-d)+u:s.slice(0,oS)+u;t.set(r,p),i=Rf(e,t)}return i}function hR(e,t){const n=new URLSearchParams;if(n.append(cR,ue),t)for(const r of Object.keys(t))n.append(r,eT(t[r]));const o=`${Ys}/errors/${e}`,i=Rf(o,n);return i.length<=nS?i:tT(o,n,nS)}var nT=(e,t,n)=>{const o=hR(e,t);return`${`${n?n+` 
`:""}Visit ${o}`}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function oe(...e){Lm(Tl,e[0],e[1],!0)}function et(...e){Lm(qs,e[0],e[1],!1)}function vl(e,t,n){Lm(qs,e,t,!1,n)}function oT(e,t){const n=t[0];return`error #${n} `+dR(n,t[1],e).join(" ")}function _o(...e){return oT(void 0,e)}function pR(e,t){return e.get("rowModelType")===t}function Nt(e,t){return pR(e,"clientSide")}function wa(e,t){return pR(e,"serverSide")}function en(e,t){return e.get("domLayout")===t}function Hr(e){return fd(e)!==void 0}function gR(e){return typeof e.get("getRowHeight")=="function"}function iT(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function rT({gos:e,formula:t}){const n=e.get("rowNumbers");return n||!!t?.active&&n!==!1}function Ji(e,t,n=!1,o){const{gos:i,environment:r}=e;if(o==null&&(o=r.getDefaultRowHeight()),gR(i)){if(n)return{height:o,estimated:!0};const u={node:t,data:t.data},d=i.getCallback("getRowHeight")(u);if(xf(d))return d===0&&oe(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&i.get("masterDetail"))return sT(i);const s=i.get("rowHeight");return{height:s&&xf(s)?s:o,estimated:!1}}function sT(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return xf(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Gr(e){const{environment:t,gos:n}=e,o=n.get("rowHeight");if(!o||Pt(o))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(oe(24),t.getDefaultRowHeight())}function xf(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function fR(e,t,n){const o=t[e.getDomDataKey()];return o?o[n]:void 0}function qr(e,t,n,o){const i=e.getDomDataKey();let r=t[i];Pt(r)&&(r={},t[i]=r),r[n]=o}function Qs(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function mR(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||en(e,"print"))}function ci(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function pd(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function CR(e){return e.get("grandTotalRow")}function vR(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function wR(e,t,n){return!!t.group&&!t.footer&&vR(e,n)}function la(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let o=t(n);return typeof o!="string"&&(jd(()=>oe(25,{id:o}),"getRowIdString"),o=String(o)),o}}function aT(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function lT(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Xs(e){return e?.checkboxes??!0}function Uu(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function gd(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function bg(e){return e?.hideDisabledCheckboxes??!1}function cT(e){return typeof e.get("rowSelection")!="string"}function er(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Zs(e){const t=e.get("cellSelection")??!1;return(typeof t=="object"&&t.enableColumnSelection)??!1}function yR(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),o=e.get("suppressRowDeselection");return n&&o?!1:n?"enableDeselection":o?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function uT(e){const t=yR(e);return t===!0||t==="enableSelection"}function dT(e){const t=yR(e);return t===!0||t==="enableDeselection"}function Ff(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function fd(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function md(e){return fd(e)==="multiRow"}function hT(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Cd(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),o=e.get("groupSelectsFiltered");return n&&o?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function SR(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function pT(e){const t=e.get("rowSelection");return typeof t=="string"?!1:t?.mode==="multiRow"?t.ctrlASelectsRows??!1:!1}function Ul(e){const t=Cd(e);return t==="descendants"||t==="filteredDescendants"}function iS(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function gT(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Hn(e){return e.get("columnMenu")==="legacy"}function fT(e){return!Hn(e)}function mT(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function CT(e,t,n){typeof e!="object"&&(e={});const o={...e};for(const i of n){const r=t[i];typeof r<"u"&&(o[i]=r)}return o}function vT(e,t){if(!e)return;const n={};let o=!1;for(const s of Object.keys(e))n[s]=e[s],o=!0;if(!o)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const r={type:"componentStateChanged",...n};t.dispatchEvent(r)}function ke(e,t){return e.addCommon(t)}function ju(e,t){return e[t]??e.gridOptions?.[t]??tR(t)??nR[t]}function wT({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var yT={resizable:!0,sortable:!0},ST=0;function bR(){return ST++}function tr(e){return e instanceof os}var bT=["asc","desc",null],RT=[{type:"absolute",direction:"asc"},{type:"absolute",direction:"desc"},null],os=class extends ee{constructor(e,t,n,o){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=o,this.isColumn=!0,this.instanceId=bR(),this.autoHeaderHeight=null,this.sortDef=fo(),this._wasSortExplicitlyRemoved=!1,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.formulaRef=null,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new $r,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Pl(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}initState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:o}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n?.initCol(this),o?.initCol(this)}setColDef(e,t,n){const o=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),o&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.initState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,o=e.get("suppressFieldDotNotation");this.fieldContainsDots=de(t)&&t.includes(".")&&!o,this.tooltipFieldContainsDots=de(n)&&n.includes(".")&&!o}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const o=e.recreateColDef(this.colDef);this.setColDef(o,o,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){const t=e.width??e.initialWidth??200;return Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return ke(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??yT[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return ke(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sortDef.direction}getSortDef(){return this.sortDef.direction?this.sortDef:null}getColDefAllowedSortTypes(){const e=[],{sort:t,initialSort:n}=this.colDef,o=t===null?t:fi(t?.type),i=n===null?n:fi(n?.type);return o&&e.push(o),i&&e.push(i),e}getSortingOrder(){const e=this.getColDefAllowedSortTypes().includes("absolute")?RT:bT;return(this.colDef.sortingOrder??this.gos.get("sortingOrder")??e).map(t=>fo(t))}getAvailableSortTypes(){const e=this.getSortingOrder().reduce((t,n)=>(n.direction&&t.push(n.type),t),this.getColDefAllowedSortTypes());return new Set(e)}get wasSortExplicitlyRemoved(){return this._wasSortExplicitlyRemoved}setSortDef(e,t=!1){t||(this._wasSortExplicitlyRemoved=!e.direction),this.sortDef=e}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.getSort()==="asc"}isSortDescending(){return this.getSort()==="desc"}isSortNone(){return Pt(this.getSort())}isSorting(){return de(this.getSort())}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return oe(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return ke(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Pt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Pt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}isAllowFormula(){return this.colDef.allowFormula===!0}dispatchColEvent(e,t,n){const o=this.createColumnEvent(e,t);n&&pn(o,n),this.colEventSvc.dispatchEvent(o)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function fo(e){return Js(e)?{direction:e.direction,type:e.type}:{direction:Kd(e),type:fi(e)}}function Qi(e){return e==="asc"||e==="desc"||e===null}function Om(e){return e==="default"||e==="absolute"}function Js(e){if(!e||typeof e!="object")return!1;const t=e;return Om(t.type)&&Qi(t.direction)}function Ku(e,t){return e?t?e.type===t.type&&e.direction===t.direction:e?e.direction===null:!0:t?t.direction===null:!0}function Kd(e){return Qi(e)?e:null}function fi(e){return Om(e)?e:"default"}function xT(e,t){const n=t.sortSvc.getDisplaySortForColumn(e),o=fi(n?.type),i=Kd(n?.direction),r=e.getAvailableSortTypes(),s=r.has("default"),l=r.has("absolute");return{isDefaultSortAllowed:s,isAbsoluteSortAllowed:l,isAbsoluteSort:o==="absolute",isDefaultSort:o==="default",isAscending:i==="asc",isDescending:i==="desc",direction:i}}function ln(e){return e instanceof qu}var qu=class extends ee{constructor(e,t,n,o){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=o,this.isColumn=!1,this.expandable=!1,this.instanceId=bR(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)tr(t)?e(t):ln(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)tr(t)?e.push(t):ln(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const o=this.findChildrenRemovingPadding();for(let r=0,s=o.length;r<s;r++){const l=o[r];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{for(const o of n)ln(o)&&o.isPadding()?t(o.children):e.push(o)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},FT={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function rS(e,t,n){const o={},i=e.gos;return Object.assign(o,i.get("defaultColGroupDef")),Object.assign(o,t),i.validateColDef(o,n),o}var PT=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=vf(e);let n=0;for(;;){let o=e??t;if(o?n!==0&&(o+="_"+n):o=n,!this.existingKeys[o]){const i=String(o);return e&&n>0&&oe(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}},qd="ag-Grid-AutoColumn",RR="ag-Grid-SelectionColumn",xR="ag-Grid-RowNumbersColumn";function FR(e){const t=[],n=o=>{for(let i=0;i<o.length;i++){const r=o[i];tr(r)?t.push(r):ln(r)&&n(r.getChildren())}};return n(e),t}function li(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function vd(e,t,n){const o={};if(!t)return;pi(null,t,r=>{o[r.getInstanceId()]=r}),n&&pi(null,n,r=>{o[r.getInstanceId()]=null});const i=Object.values(o).filter(r=>r!=null);e.context.destroyBeans(i)}function Nm(e){return e.getId().startsWith(qd)}function rr(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(RR)??!1}function hi(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(xR)??!1}function ET(e){return rr(e)||hi(e)}function wd(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function DT(e,t){return ir(e,t,(n,o)=>n.getColId()===o.getColId())}function TT(e){e.map={};for(const t of e.list)e.map[t.getId()]=t}function ea(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function Ml(e,t){return e===t||e.colId==t||e.getColDef()===t}var MT=(e,t)=>(n,o)=>{const i={value1:void 0,value2:void 0};let r=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],r=!0),de(o)&&e[o]!==void 0&&(i.value2=e[o],r=!0)),!r&&t&&(t[n]!==void 0&&(i.value1=t[n]),de(o)&&t[o]!==void 0&&(i.value2=t[o])),i};function kT(e,t){const n={...e,sort:void 0,colId:t},o=PR(e);return o&&(n.sort=o.direction,n.sortType=o.type),n}function PR(e){const{sort:t,initialSort:n}=e,o=Js(t)||Qi(t),i=Js(n)||Qi(n);return o?fo(t):i?fo(n):null}var IT=(e,t)=>{ln(e)&&e.setupExpandable(),e.originalParent=t};function AT(e,t=null,n,o,i){const r=new PT,{existingCols:s,existingGroups:l,existingColKeys:u}=LT(o);r.addExistingKeys(u);const d=ER(e,t,0,n,s,r,l,i),{colGroupSvc:p}=e,g=p?.findMaxDepth(d,0)??0,m=p?p.balanceColumnTree(d,0,g,r):d;return pi(null,m,IT),{columnTree:m,treeDepth:g}}function LT(e){const t=[],n=[],o=[];return e&&pi(null,e,i=>{if(ln(i)){const r=i;n.push(r)}else{const r=i;o.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:n,existingColKeys:o}}function ER(e,t,n,o,i,r,s,l){if(!t)return[];const{colGroupSvc:u}=e,d=new Array(t.length);for(let p=0;p<d.length;p++){const g=t[p];u&&VT(g)?d[p]=u.createProvidedColumnGroup(o,g,n,i,r,s,l):d[p]=OT(e,o,g,i,r,l)}return d}function OT(e,t,n,o,i,r){const s=BT(n,o);s&&o?.splice(s.idx,1);let l=s?.column;if(l){const u=Pf(e,n,l.getColId());l.setColDef(u,n,r),NT(e,l,u,r)}else{const u=i.getUniqueKey(n.colId,n.field),d=Pf(e,n,u);l=new os(d,n,u,t),e.context.createBean(l)}return e.dataTypeSvc?.addColumnListeners(l),l}function DR(e,t,n,o,i,r,s,l){const{sortSvc:u,pinnedCols:d,colFlex:p}=e;n!==void 0&&t.setVisible(!n,l),u&&(u.updateColSort(t,o,l),i!==void 0&&u.setColSortIndex(t,i)),r!==void 0&&d?.setColPinned(t,r),s!==void 0&&p?.setColFlex(t,s)}function NT(e,t,n,o){DR(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,o);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,o);else{const r=t.getActualWidth();t.setActualWidth(r,o)}}function BT(e,t){if(t)for(let n=0;n<t.length;n++){const o=t[n].getUserProvidedColDef();if(!o)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(o.field===e.field)return{idx:n,column:t[n]};continue}if(o===e)return{idx:n,column:t[n]}}}function Pf(e,t,n,o){const{gos:i,dataTypeSvc:r}=e,s={},l=i.get("defaultColDef");pn(s,l,!1,!0);const u=HT(e,s,t,n);u&&GT(e,u,s);const d=s.cellDataType;pn(s,t,!1,!0),d!==void 0&&(s.cellDataType=d);const p=i.get("autoGroupColumnDef"),g=ci(i);return t.rowGroup&&p&&g&&pn(s,{sort:p.sort,initialSort:p.initialSort},!1,!0),r?.postProcess(s),r?.validateColDef(s),i.validateColDef(s,n,o),s}function HT(e,t,n,o){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,o),r=n.type??i??t.type;return t.type=r,r?wd(r):void 0}function GT(e,t,n){if(!t.length)return;const o=Object.assign({},FT),i=e.gos.get("columnTypes")||{};for(const r of Object.keys(i)){const s=i[r];r in o?oe(34,{key:r}):(s.type&&oe(35),o[r]=s)}for(const r of t){const s=o[r.trim()];s?pn(n,s,!1,!0):oe(36,{t:r})}}function VT(e){return e.children!==void 0}function pi(e,t,n){if(t)for(let o=0;o<t.length;o++){const i=t[o];ln(i)&&pi(i,i.getChildren(),n),n(i,e)}}function TR(e,t){const n=[],o=[],i=[];return e.forEach(s=>{const l=s.getColDef().lockPosition;l==="right"?i.push(s):l==="left"||l===!0?n.push(s):o.push(s)}),t.get("enableRtl")?[...i,...o,...n]:[...n,...o,...i]}function MR(e,t){let n=!0;return pi(null,t,o=>{if(!ln(o))return;const i=o;if(!i.getColGroupDef()?.marryChildren)return;const l=[];for(const m of i.getLeafColumns()){const C=e.indexOf(m);l.push(C)}const u=Math.max.apply(Math,l),d=Math.min.apply(Math,l),p=u-d,g=i.getLeafColumns().length-1;p>g&&(n=!1)}),n}function kR(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let o=1;o<e.length;o++)if(n!==t(e[o]))return;return n}function IR(e,t,n){if(!t.length)return;const o=t.length===1?t[0]:null,i=kR(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:o,source:n})}function WT(e,t,n){if(!t.length)return;const o=t.length===1?t[0]:null,i=kR(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:o,source:n})}function zT(e,t,n,o){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:o})}function ca(e,t,n,o,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:o})}function Co(e,t,n){const{colModel:o,rowGroupColsSvc:i,pivotColsSvc:r,autoColSvc:s,selectionColSvc:l,colAnimation:u,visibleCols:d,pivotResultCols:p,environment:g,valueColsSvc:m,eventSvc:C,gos:w}=e,y=o.getColDefCols()??[],R=l?.getColumns();if(!y.length&&!R?.length)return!1;if(t?.state&&!t.state.forEach)return oe(32),!1;const x=(T,k,I,z,_)=>{if(!T)return;const $=MT(k,t.defaultState),V=$("flex").value1,F=$("sort").value1,B=$("sortType").value1,G=Qi(F)||Om(B),O=fi(B),Y=Kd(F),ne=G?{type:O,direction:Y}:void 0;if(DR(e,T,$("hide").value1,ne,$("sortIndex").value1,$("pinned").value1,V,n),V==null){const j=$("width").value1;if(j!=null){const X=T.getColDef().minWidth??g.getDefaultColumnMinWidth();X!=null&&j>=X&&T.setActualWidth(j,n)}}_||!T.isPrimary()||(m?.syncColumnWithState(T,n,$),i?.syncColumnWithState(T,n,$,I),r?.syncColumnWithState(T,n,$,z))},E=(T,k,I)=>{const z=AR(e,n),_=k.slice(),$={},V={},F=[],B=[],G=[];let O=0;const Y=i?.columns.slice()??[],ne=r?.columns.slice()??[];for(const K of T){const L=K.colId;if(L.startsWith(qd)){F.push(K),G.push(K);continue}if(rr(L)){B.push(K),G.push(K);continue}const ie=I(L);ie?(x(ie,K,$,V,!1),Uo(_,ie)):(G.push(K),O+=1)}const j=K=>x(K,null,$,V,!1);_.forEach(j),i?.sortColumns(sS.bind(i,$,Y)),r?.sortColumns(sS.bind(r,V,ne)),o.refreshCols(!1,n);const X=(K,L,W=[])=>{for(const ie of L){const pe=K(ie.colId);Uo(W,pe),x(pe,ie,null,null,!0)}W.forEach(j)};return X(K=>s?.getColumn(K)??null,F,s?.getColumns()?.slice()),X(K=>l?.getColumn(K)??null,B,l?.getColumns()?.slice()),$T(t,o,w),d.refresh(n),C.dispatchEvent({type:"columnEverythingChanged",source:n}),z(),{unmatchedAndAutoStates:G,unmatchedCount:O}};u?.start();let{unmatchedAndAutoStates:P,unmatchedCount:M}=E(t.state||[],y,T=>o.getColDefCol(T));if(P.length>0||de(t.defaultState)){const T=p?.getPivotResultCols()?.list??[];M=E(P,T,k=>p?.getPivotResultCol(k)??null).unmatchedCount}return u?.finish(),M===0}function _T(e,t){const{colModel:n,autoColSvc:o,selectionColSvc:i,eventSvc:r,gos:s}=e,l=n.getColDefCols();if(!l?.length)return;const u=n.getColDefColTree(),d=FR(u),p=[];let g=1e3,m=1e3;const C=E=>{const P=LR(E);Pt(P.rowGroupIndex)&&P.rowGroup&&(P.rowGroupIndex=g++),Pt(P.pivotIndex)&&P.pivot&&(P.pivotIndex=m++),p.push(P)};o?.getColumns()?.forEach(C),i?.getColumns()?.forEach(C),d?.forEach(C),Co(e,{state:p},t);const w=o?.getColumns()??[],x=[...i?.getColumns()??[],...w,...l].map(E=>({colId:E.colId}));Co(e,{state:x,applyOrder:!0},t),r.dispatchEvent(ke(s,{type:"columnsReset",source:t}))}function AR(e,t){const{rowGroupColsSvc:n,pivotColsSvc:o,valueColsSvc:i,colModel:r,sortSvc:s,eventSvc:l}=e,u={rowGroupColumns:n?.columns.slice()??[],pivotColumns:o?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},d=yd(e),p={};for(const g of d)p[g.colId]=g;return()=>{const g=(k,I,z,_)=>{const $=I.map(_),V=z.map(_);if(ir($,V))return;const B=new Set(I);for(const O of z)B.delete(O)||B.add(O);const G=[...B];l.dispatchEvent({type:k,columns:G,column:G.length===1?G[0]:null,source:t})},m=k=>{const I=[];return r.forAllCols(z=>{const _=p[z.getColId()];_&&k(_,z)&&I.push(z)}),I},C=k=>k.getColId();g("columnRowGroupChanged",u.rowGroupColumns,n?.columns??[],C),g("columnPivotChanged",u.pivotColumns,o?.columns??[],C);const y=m((k,I)=>{const z=k.aggFunc!=null,_=z!=I.isValueActive(),$=z&&k.aggFunc!=I.getAggFunc();return _||$});y.length>0&&zT(l,"columnValueChanged",y,t),ca(l,m((k,I)=>k.width!=I.getActualWidth()),!0,t),IR(l,m((k,I)=>k.pinned!=I.getPinned()),t),WT(l,m((k,I)=>k.hide==I.isVisible()),t);const M=m((k,I)=>!Ku(I.getSortDef(),{type:fi(k.sortType),direction:Kd(k.sort)})||k.sortIndex!=I.getSortIndex());M.length>0&&s?.dispatchSortChangedEvents(t,M);const T=yd(e);jT(d,T,t,r,l)}}function yd(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:o}=e,i=t.getColDefCols();if(Pt(i)||!t.isAlive())return[];const r=n?.columns,s=o?.columns,l=[],u=p=>{const g=p.isRowGroupActive()&&r?r.indexOf(p):null,m=p.isPivotActive()&&s?s.indexOf(p):null,C=p.isValueActive()?p.getAggFunc():null,w=p.getSortIndex()!=null?p.getSortIndex():null;l.push({colId:p.getColId(),width:p.getActualWidth(),hide:!p.isVisible(),pinned:p.getPinned(),sort:p.getSort(),sortType:p.getSortDef()?.type,sortIndex:w,aggFunc:C,rowGroup:p.isRowGroupActive(),rowGroupIndex:g,pivot:p.isPivotActive(),pivotIndex:m,flex:p.getFlex()??null})};t.forAllCols(p=>u(p));const d=new Map(t.getCols().map((p,g)=>[p.getColId(),g]));return l.sort((p,g)=>{const m=d.has(p.colId)?d.get(p.colId):-1,C=d.has(g.colId)?d.get(g.colId):-1;return m-C}),l}function LR(e){const t=(R,x)=>R??x??null,n=e.getColDef(),o=fo(t(n.sort,n.initialSort)),i=o.direction,r=o.type,s=t(n.sortIndex,n.initialSortIndex),l=t(n.hide,n.initialHide),u=t(n.pinned,n.initialPinned),d=t(n.width,n.initialWidth),p=t(n.flex,n.initialFlex);let g=t(n.rowGroupIndex,n.initialRowGroupIndex),m=t(n.rowGroup,n.initialRowGroup);g==null&&!m&&(g=null,m=null);let C=t(n.pivotIndex,n.initialPivotIndex),w=t(n.pivot,n.initialPivot);C==null&&!w&&(C=null,w=null);const y=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortType:r,sortIndex:s,hide:l,pinned:u,width:d,flex:p,rowGroup:m,rowGroupIndex:g,pivot:w,pivotIndex:C,aggFunc:y}}function $T(e,t,n){if(!e.applyOrder||!e.state)return;const o=[];for(const i of e.state)i.colId!=null&&o.push(i.colId);UT(t.cols,o,t,n)}function UT(e,t,n,o){if(e==null)return;let i=[];const r={};for(const l of t){if(r[l])continue;const u=e.map[l];u&&(i.push(u),r[l]=!0)}let s=0;for(const l of e.list){const u=l.getColId();if(r[u]!=null)continue;u.startsWith(qd)?i.splice(s++,0,l):i.push(l)}if(i=TR(i,o),!MR(i,n.getColTree())){oe(39);return}e.list=i}function jT(e,t,n,o,i){const r={};for(const p of t)r[p.colId]=p;const s={};for(const p of e)r[p.colId]&&(s[p.colId]=!0);const l=e.filter(p=>s[p.colId]),u=t.filter(p=>s[p.colId]),d=[];u.forEach((p,g)=>{const m=l?.[g];if(m&&m.colId!==p.colId){const C=o.getCol(m.colId);C&&d.push(C)}}),d.length&&i.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:n})}var sS=(e,t,n,o)=>{const i=e[n.getId()],r=e[o.getId()],s=i!=null,l=r!=null;if(s&&l)return i-r;if(s)return-1;if(l)return 1;const u=t.indexOf(n),d=t.indexOf(o),p=u>=0,g=d>=0;return p&&g?u-d:p?-1:1};function OR(e,t){return e+"_"+t}function Ot(e){return e instanceof jl}var jl=class extends ee{constructor(e,t,n,o){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=o,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=Pl(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return OR(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(const e of this.displayedChildren)Ot(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=pt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])tr(t)?e.push(t):Ot(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])tr(t)?e.push(t):Ot(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(const n of this.children??[]){if(Ot(n)&&!n.displayedChildren?.length)continue;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},q={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},KT=65,qT=67,YT=86,QT=68,XT=90,ZT=89;function NR(e){const{keyCode:t}=e;let n;switch(t){case KT:n=q.A;break;case qT:n=q.C;break;case YT:n=q.V;break;case QT:n=q.D;break;case XT:n=q.Z;break;case ZT:n=q.Y;break;default:n=e.code}return n}function JT(e,t){return new $e(n=>{n(window.setInterval(e,t))})}var $e=class wl{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new wl(n=>{let o=t.length;const i=new Array(o);t.forEach((r,s)=>{r.then(l=>{i[s]=l,o--,o===0&&n(i)})})}):wl.resolve()}static resolve(t=null){return new wl(n=>n(t))}then(t){return new wl(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(o=>n(t(o)))})}onDone(t){this.status=1,this.resolution=t;for(const n of this.waiters)n(t)}onReject(t){}},Ce=null;function aS(e){return typeof e?.getGui=="function"}function Vn(e){return jr(e)}function eM(e,t,n){const o=En(e,t,n);if(o){const{className:r}=o;if(typeof r=="string"&&r.includes("ag-icon")||typeof r=="object"&&r["ag-icon"])return o}const i=Vn({tag:"span"});return i.appendChild(o),i}function En(e,t,n){let o=null;e==="smallDown"?oe(262):e==="smallLeft"?oe(263):e==="smallRight"&&oe(264);const i=n?.getColDef().icons;if(i&&(o=i[e]),t.gos&&!o){const r=t.gos.get("icons");r&&(o=r[e])}if(o){let r;if(typeof o=="function")r=o();else if(typeof o=="string")r=o;else{oe(38,{iconName:e});return}if(typeof r=="string")return Em(r);if(Tm(r))return r;oe(133,{iconName:e});return}else{const r=t.registry.getIcon(e);return r||t.validation?.validateIcon(e),Vn({tag:"span",cls:`ag-icon ag-icon-${r??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var ec=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.includes(" ")){const o=(e||"").split(" ");if(o.length>1){for(const i of o)this.toggleCss(i,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},tM=0,ya=class extends mn{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=tM++,this.cssManager=new ec(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui()),this.addGlobalCss()}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(X0):null}applyElementsToComponent(e,t,n,o=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Ce)this[t]=o??e;else{const r=n?.[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const o of e.childNodes??[])n.push(o);for(const o of n){if(!(o instanceof HTMLElement))continue;const i=this.createComponentFromElement(o,r=>{const s=r.getGui();if(s)for(const l of o.attributes??[])s.setAttribute(l.name,l.value)},t);if(i){if(i.addItems&&o.children.length){this.createChildComponentsFromTags(o,t);const r=Array.prototype.slice.call(o.children);i.addItems(r)}this.swapComponentForNode(i,e,o)}else o.childNodes&&this.createChildComponentsFromTags(o,t)}}createComponentFromElement(e,t,n){const o=e.nodeName,i=this.getDataRefAttribute(e),r=o.indexOf("AG-")===0,s=r?this.componentSelectors.get(o):null;let l=null;if(s){const u=n&&i?n[i]:void 0;l=new s.component(u),l.setParentComponent(this),this.createBean(l,null,t)}else if(r)throw new Error(`selector: ${o}`);return this.applyElementsToComponent(e,i,n,l),l}swapComponentForNode(e,t,n){const o=e.getGui();t.replaceChild(o,n),t.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e,t){const n=t??this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const o of e)o.setAttribute("tabindex",n.toString())}setTemplate(e,t,n){let o;typeof e=="string"||e==null?o=Em(e):o=jr(e),this.setTemplateFromElement(o,t,n)}setTemplateFromElement(e,t,n,o=!1){if(this.eGui=e,this.suppressDataRefValidation=o,t)for(let i=0;i<t.length;i++){const r=t[i];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),Tm(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:o}=this.getContainerAndElement(e,t)||{};!n||!o||o.prepend(n)}appendChild(e,t){const{element:n,parent:o}=this.getContainerAndElement(e,t)||{};!n||!o||o.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;S1(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;ht(this.eGui,e,{skipAriaHidden:n});const o={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(o)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css===lS?(this.css=[e],this.addGlobalCss()):(this.css||(this.css=[]),this.css.push(e))}addGlobalCss(){if(Array.isArray(this.css)){const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;for(const t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}this.css=lS}},lS=Symbol(),kt=class extends ya{},nM=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",oM={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},iM=class extends kt{constructor(){super(),this.dragSource=null,this.eIcon=Ce,this.eLabel=Ce,this.eGhost=Ce,this.registerCSS(nM)}postConstruct(){const e=t=>eM(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(oM),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:n,eIcon:o,dragSource:i,dropIconMap:r,gos:s}=this;Tn(o);let l=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),l=r[e],n.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),o.classList.toggle("ag-shake-left-to-right",t),!(l===r.hide&&s.get("suppressDragLeaveHidesColumns"))&&l&&o.appendChild(l)}setLabel(e){this.eLabel.textContent=e}},rM=class extends mn{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.externalDropZoneCount=0,this.lastDropTarget=null}addDragSource(e,t=!1){const n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:o=>this.onDragStart(e,o),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){const n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){const{dragSourceAndParamsList:t,beans:n}=this;for(let o=0,i=t.length;o<i;o++)if(t[o].dragSource===e){const r=t[o];n.dragSvc?.removeDragSource(r),t.splice(o,1);break}}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,o=n.dragSvc;for(const i of e)o?.removeDragSource(i);e.length=0,t.length=0,this.externalDropZoneCount=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){const{dragSource:t,lastDropTarget:n}=this;if(t?.onDragStopped?.(),n){const o=this.dropTargetEvent(n,e,!1);n.onDragStop?.(o)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if(e?.onDragCancelled?.(),t&&n){const o=this.dropTargetEvent(t,n,!1);t.onDragCancel?.(o)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);const n=this.findCurrentDropTarget(e),{lastDropTarget:o,dragSource:i,dragItem:r}=this;let s=!1;if(n!==o){if(s=!0,o){const l=this.dropTargetEvent(o,e,t);o.onDragLeave?.(l)}if(o!==null&&!n?this.handleExit(i,r):o===null&&n&&this.handleEnter(i,r),n){const l=this.dropTargetEvent(n,e,t);n.onDragEnter?.(l)}this.lastDropTarget=n}else if(n){const l=this.dropTargetEvent(n,e,t);n.onDragging?.(l),l?.changed&&(s=!0)}this.lastMouseEvent=e,s&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getContainer(),n=e.getSecondaryContainers?.(),o=n?.length;if(!o)return[[t]];const i=new Array(o+1);i[0]=[t];for(let r=0;r<o;++r)i[r+1]=n[r];return i}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let o=!1;const i=(l,u)=>{for(const d of u){const{width:p,height:g,left:m,right:C,top:w,bottom:y}=d.getBoundingClientRect();if(p===0||g===0)return!1;const R=l.clientX>=m&&l.clientX<C,x=l.clientY>=w&&l.clientY<y;if(!R||!x)return!1}return!0};for(const l of n)if(i(e,l)){o=!0;break}const{eElement:r,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:o&&t.isInterestedIn(s,r)}findCurrentDropTarget(e){const t=[],n=this.dropTargets;for(let s=0,l=n.length;s<l;++s){const u=n[s];this.isMouseOnDropTarget(e,u)&&t.push(u)}const o=t.length;if(o===0)return null;if(o===1)return t[0];const r=Lo(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let s=0,l=r.length;s<l;++s){const u=r[s];for(let d=0,p=t.length;d<p;d++){const g=t[d],m=this.getAllContainersFromDropTarget(g);let C=!1;for(let w=0,y=m.length;w<y&&!C;w++){const R=m[w];for(let x=0,E=R.length;x<E;x++)if(R[x]===u){C=!0;break}}if(C)return g}}return null}addDropTarget(e){this.dropTargets.push(e),e.external&&this.externalDropZoneCount++}removeDropTarget(e){const t=e.getContainer(),n=this.dropTargets;let o=0;for(let i=0,r=n.length;i<r;++i){const s=n[i];if(s.getContainer()===t){s.external&&--this.externalDropZoneCount;continue}o!==i&&(n[o]=s),++o}n.length=o}hasExternalDropZones(){return this.externalDropZoneCount>0}findExternalZone(e){const t=this.dropTargets;for(let n=0,o=t.length;n<o;++n){const i=t[n];if(i.external&&i.getContainer()===e)return i}return null}dropTargetEvent(e,t,n){const{dragSource:o,dragItem:i,lastDraggingEvent:r,lastMouseEvent:s,dragInitialSourcePointerOffsetX:l,dragInitialSourcePointerOffsetY:u}=this,d=e.getContainer(),p=d.getBoundingClientRect(),{clientX:g,clientY:m}=t,C=g-(s?.clientX||0),w=m-(s?.clientY||0),y=this.createEvent({event:t,x:g-p.left,y:m-p.top,vDirection:w>0?"down":w<0?"up":null,hDirection:C<0?"left":C>0?"right":null,initialSourcePointerOffsetX:l,initialSourcePointerOffsetY:u,dragSource:o,fromNudge:n,dragItem:i,dropZoneTarget:d,dropTarget:r?.dropTarget??null,changed:!!r?.changed});return this.lastDraggingEvent=y,y}positionDragImageComp(e){const t=this.dragImageComp?.getGui();t&&k1(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(n=>{const o=this.lastMouseEvent;if(t!==this.dragImageCompPromise||!o||!this.isAlive()){this.destroyBean(n);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const i=this.dragImageComp;i!==n&&(this.dragImageComp=n,this.removeDragImageComp(i)),n&&(this.appendDragImageComp(n),this.updateDragImageComp(),this.positionDragImageComp(o))})}appendDragImageComp(e){const t=e.getGui(),n=t.style;n.position="absolute",n.zIndex="9999",this.beans.dragSvc?.hasPointerCapture()&&(n.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top="20px",n.left="20px";const o=Rm(this.beans);o?o.appendChild(t):this.warnNoBody()}updateDragImageComp(){const{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:o,dragImageLastLabel:i}=this;if(!e)return;this.setDragImageCompIcon(n?.getIconName?.(o)??null);let r=t?.dragItemName;typeof r=="function"&&(r=r(o)),r||(r=""),i!==r&&(this.dragImageLastLabel=r,e.setLabel(r))}};function BR(e){return typeof e=="object"&&!!e.component}function sM(e){return e?e.prototype&&"getGui"in e.prototype:!1}function HR(e,t,n,o){const{name:i}=n;let r,s,l,u,d,p;if(t){const g=t,m=g[i+"Selector"],C=m?m(o):null,w=y=>{typeof y=="string"?r=y:y!=null&&y!==!0&&(e.isFrameworkComponent(y)?l=y:s=y)};C?(w(C.component),u=C.params,d=C.popup,p=C.popupPosition):w(g[i])}return{compName:r,jsComp:s,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:p}}var aM=class extends ee{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,o=!1){return this.getCompDetails(this.gridOptions,e,t,n,o)}getCompDetails(e,t,n,o,i=!1){const{name:r,cellRenderer:s}=t;let{compName:l,jsComp:u,fwComp:d,paramsFromSelector:p,popupFromSelector:g,popupPositionFromSelector:m}=HR(this.beans.frameworkOverrides,e,t,o),C,w;const y=P=>{const M=this.registry.getUserComponent(r,P);M&&(u=M.componentFromFramework?void 0:M.component,d=M.componentFromFramework?M.component:void 0,C=M.params,w=M.processParams)};if(l!=null&&y(l),u==null&&d==null&&n!=null&&y(n),u&&s&&!sM(u)&&(u=this.agCompUtils?.adaptFunction(t,u)),!u&&!d){const{validation:P}=this.beans;i&&(l!==n||!n)?l?P?.isProvidedUserComp(l)||et(50,{compName:l}):n?P||et(260,{...this.gos.getModuleErrorParams(),propName:r,compName:n}):et(216,{name:r}):n&&!P&&et(146,{comp:n});return}const R=this.mergeParams(e,t,o,p,C,w),x=u==null,E=u??d;return{componentFromFramework:x,componentClass:E,params:R,type:t,popupFromSelector:g,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(E,x,R,t)}}newAgStackInstance(e,t,n,o){const i=!t;let r;i?r=new e:r=this.frameworkCompWrapper.wrap(e,o.mandatoryMethods,o.optionalMethods,o),this.createBean(r);const s=r.init?.(n);return s==null?$e.resolve(r):s.then(()=>r)}mergeParams(e,t,n,o=null,i,r){const s={...n,...i},u=e?.[t.name+"Params"];if(typeof u=="function"){const d=u(n);pn(s,d)}else typeof u=="object"&&pn(s,u);return pn(s,o),r?r(s):s}},lM={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},cM={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},uM={name:"headerComponent",optionalMethods:["refresh"]},dM={name:"innerHeaderComponent"},hM={name:"innerHeaderGroupComponent"},pM={name:"headerGroupComponent"},gM={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},fM={name:"loadingCellRenderer",cellRenderer:!0},mM={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},CM={name:"tooltipComponent"},Bm={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},vM={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},wM={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},yM={name:"loadingCellRenderer",cellRenderer:!0},SM={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},bM={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function RM(e,t){return e.getCompDetailsFromGridOptions(cM,"agDragAndDropImage",t,!0)}function xM(e,t,n){return e.getCompDetails(t,uM,"agColumnHeader",n)}function FM(e,t,n){return e.getCompDetails(t,dM,void 0,n)}function PM(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,pM,"agColumnGroupHeader",t)}function EM(e,t,n){return e.getCompDetails(t,hM,void 0,n)}function DM(e,t){return e.getCompDetailsFromGridOptions(wM,void 0,t,!0)}function TM(e,t){return e.getCompDetailsFromGridOptions(yM,"agLoadingCellRenderer",t,!0)}function MM(e,t){return e.getCompDetailsFromGridOptions(SM,"agGroupRowRenderer",t,!0)}function kM(e,t){return e.getCompDetailsFromGridOptions(bM,"agDetailCellRenderer",t,!0)}function cS(e,t,n){return e.getCompDetails(t,gM,void 0,n)}function uS(e,t,n){return e.getCompDetails(t,fM,"agSkeletonCellRenderer",n,!0)}function GR(e,t,n){return e.getCompDetails(t,mM,"agCellEditor",n,!0)}function IM(e,t,n,o){const i=t.filter;return BR(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,Bm,o,n,!0)}function AM(e,t,n){return e.getCompDetails(t,lM,"agDateInput",n,!0)}function LM(e,t){return e.getCompDetails(t.colDef,CM,"agTooltipComponent",t,!0)}function OM(e,t,n,o){return e.getCompDetails(t,vM,o,n)}function VR(e,t){return HR(e,t,Bm)}function Rg(e,t,n){return e.mergeParams(t,Bm,n)}var NM=class extends rM{createEvent(e){return ke(this.gos,e)}createDragImageComp(e){const{gos:t,beans:n}=this;return RM(n.userCompFactory,ke(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){oe(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:o=>o===1||o===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function BM(e){return{tag:"div",cls:e}}var HM=class extends kt{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(BM(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const o=this.getGui();Tn(o);let i;this.destroyListeners();const r=document.createDocumentFragment(),s=this.className,l=({type:d,label:p})=>{const g=x=>{this.dispatchLocalEvent({type:d,event:x})};["apply","clear","reset","cancel"].includes(d)||oe(75);const m=d==="apply",w=Vn({tag:"button",attrs:{type:m&&t?"submit":"button"},ref:`${d}FilterButton`,cls:`ag-button ag-standard-button ${s}-button${m?" "+s+"-apply-button":""}`,children:p});this.activateTabIndex([w]),m&&(i=w);const y=x=>{x.key===q.ENTER&&(x.preventDefault(),g(x))},R=this.listeners;w.addEventListener("click",g),R.push(()=>w.removeEventListener("click",g)),w.addEventListener("keydown",y),R.push(()=>w.removeEventListener("keydown",y)),r.append(w)};for(const d of e)l(d);this.eApply=i;const u=this.validationTooltipFeature;i&&!u?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&u&&(this.validationTooltipFeature=this.destroyBean(u)),o.append(r)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Vl(n,!e),this.validationMessage=t,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(const e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},GM={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",bigintFilter:"BigInt Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",yesterday:"Yesterday",today:"Today",tomorrow:"Tomorrow",last7Days:"Last 7 Days",lastWeek:"Last Week",thisWeek:"This Week",nextWeek:"Next Week",last30Days:"Last 30 Days",lastMonth:"Last Month",thisMonth:"This Month",nextMonth:"Next Month",last90Days:"Last 90 Days",lastQuarter:"Last Quarter",thisQuarter:"This Quarter",nextQuarter:"Next Quarter",lastYear:"Last Year",thisYear:"This Year",yearToDate:"Year To Date",nextYear:"Next Year",last6Months:"Last 6 Months",last12Months:"Last 12 Months",last24Months:"Last 24 Months",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`,minDateValidation:e=>`Date must be after ${e[0]}`,maxDateValidation:e=>`Date must be before ${e[0]}`,strictMinValueValidation:e=>`Must be greater than ${e[0]}`,strictMaxValueValidation:e=>`Must be less than ${e[0]}`};function go(e,t,n){return A1(e,GM,t,n)}function Hm(e,t){const{debounceMs:n}=e;return Yd(e)?(n!=null&&oe(71),0):n??t}function Yd(e){return(e.buttons?.indexOf("apply")??-1)>=0}function WR(e,t,n,o){let i=go(e,n);if(typeof t=="function"){const r=go(e,o);i=t({filterOptionKey:o,filterOption:r,placeholder:i})}else typeof t=="string"&&(i=t);return i}var VM=class extends kt{constructor(e,t,n,o,i,r){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=o,this.isGlobalButtons=i,this.enableGlobalButtonCheck=r,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,o=n.useForm,i=o?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),o&&this.addManagedElementListeners(this.getGui(),{submit:r=>{r?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:r,params:s})=>{r===this.column&&this.resetButtonsPanel(s,this.params)},filterStateChanged:({column:r,state:s})=>{r===this.column&&this.eButtons?.updateValidity(s.valid!==!1)},filterAction:({column:r,action:s,event:l})=>{r===this.column&&this.afterAction(s,l)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:r})=>{if(r!==this.isGlobalButtons){this.isGlobalButtons=r;const s=this.params;this.resetButtonsPanel(s,s,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:o,readOnly:i}=t??{},{buttons:r,readOnly:s,useForm:l}=e;if(!n&&i===s&&Hl(o,r))return;const u=r&&r.length>0&&!e.readOnly&&!this.isGlobalButtons;let d=this.eButtons;if(u){const p=r.map(g=>{const m=`${g}Filter`;return{type:g,label:go(this,m)}});if(this.applyActive=Yd(this.params),!d){d=this.createBean(new HM),this.appendChild(d.getGui());const g=this.column,m=C=>({event:w})=>{this.updateModel(g,C,{fromButtons:!0}),this.afterAction(C,w)};d?.addManagedListeners(d,{apply:m("apply"),clear:m("clear"),reset:m("reset"),cancel:m("cancel")}),this.eButtons=d}d.updateButtons(p,l)}else this.applyActive=!1,d&&(Zi(d.getGui()),this.eButtons=this.destroyBean(d))}close(e){const t=this.hidePopup;if(!t)return;const n=e,o=n?.key;let i;(o===q.ENTER||o===q.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:o}=this,i=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&o&&this.close(t);break}case"reset":{i&&o&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===q.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},WM=":where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}",zM={tag:"div",cls:"ag-filter"},_M=class extends kt{constructor(e,t,n){super(zM),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??$e.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:o}}=this,i=o.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(r=>{if(!r)return;const{isHandler:s,comp:l}=r;let u;if(s){const d=!!this.enableGlobalButtonCheck,p=this.createBean(new VM(t,r,o,o.updateModel.bind(o),d&&o.isGlobalButtons,d));this.comp=p,u=p.getGui()}else this.registerCSS(WM),u=l.getGui(),de(u)||oe(69,{guiFromFilter:u});this.appendChild(u),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):l.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Tn(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}};function zR(e){return!!e.operator}var _R="ag-resizer-wrapper",_i=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),$M={tag:"div",cls:_R,children:[_i("eTopLeft","topLeft"),_i("eTop","top"),_i("eTopRight","topRight"),_i("eRight","right"),_i("eBottomRight","bottomRight"),_i("eBottom","bottom"),_i("eBottomLeft","bottomLeft"),_i("eLeft","left")]},UM=class extends mn{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config={popup:!1,...t}}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,o=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(o,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:o,width:i,minHeight:r,height:s,x:l,y:u}=this.config;this.offsetParent||this.setOffsetParent();let d=0,p=0;const g=vo(this.element);if(g){const m=this.findBoundaryElement(),C=window.getComputedStyle(m);if(C.minWidth!=null){const w=m.offsetWidth-this.element.offsetWidth;p=Number.parseInt(C.minWidth,10)-w}if(C.minHeight!=null){const w=m.offsetHeight-this.element.offsetHeight;d=Number.parseInt(C.minHeight,10)-w}}if(this.minHeight=r||d,this.minWidth=o||p,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),t)this.center(e);else if(l||u)this.offsetElement(l,u,e);else if(g&&n){let m=this.boundaryEl,C=!0;if(m||(m=this.findBoundaryElement(),C=!1),m){const w=Number.parseFloat(m.style.top),y=Number.parseFloat(m.style.left);C?this.offsetElement(Number.isNaN(y)?0:y,Number.isNaN(w)?0:w,e):this.setPosition(y,w)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}for(const t of Object.keys(e)){const n=!!e[t],o=this.getResizerElement(t),i={dragStartPixels:0,eElement:o,onDragStart:r=>this.onResizeStart(r,t),onDragging:this.onResize.bind(this),onDragStop:r=>this.onResizeEnd(r,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(i),this.resizeListeners.push(i),o.style.pointerEvents="all"):o.style.pointerEvents="none",this.resizable[t]=n)}}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let o=!1;if(typeof e=="string"&&e.includes("%"))Dl(n,e),e=q0(n),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Dl(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const o=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:o.top,s=e?0:i.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:p}=d.getBoundingClientRect();l=p-o.bottom}}return n+s-r-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let o=!1;if(typeof e=="string"&&e.includes("%"))zo(t,e),e=ad(t),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,r=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+r>i&&(e=i-r)}this.getWidth()!==e&&(o?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?zo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:o}=this.config,i=o?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(i.style.left),Number.parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=Si(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:o,anywhereWithin:i,topBuffer:r}=e,s=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!n,!!i,s)?0:s,d=this.shouldSkipY(t,!!o,r,l)?0:l;return{movementX:u,movementY:d}}shouldSkipX(e,t,n,o){const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:i.left;let u=l<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right;return u?!0:(t?u=o<0&&e.clientX>l+r.left||o>0&&e.clientX<l+r.left:n?u=o<0&&e.clientX>s.right||o>0&&e.clientX<l+r.left:u=o<0&&e.clientX>s.right||o>0&&e.clientX<s.right,u)}shouldSkipY(e,t,n=0,o){const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:i.top;let u=l<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom;return u?!0:(t?u=o<0&&e.clientY>l+r.top+n||o>0&&e.clientY<l+r.top:u=o<0&&e.clientY>s.bottom||o>0&&e.clientY<s.bottom,u)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(jr($M)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${_R}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:o}=this.config;!n&&!o&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(const o of e){const i=!!o.style.flex&&o.style.flex!=="0 0 auto";if(o===this.element)continue;let r=this.minHeight||0,s=this.minWidth||0;if(i){const l=window.getComputedStyle(o);l.minHeight&&(r=Number.parseInt(l.minHeight,10)),l.minWidth&&(s=Number.parseInt(l.minWidth,10))}else r=o.offsetHeight,s=o.offsetWidth;t+=r,n+=s}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let o=0;o<n.length;o++){const i=n[o];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[o+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:o,isRight:i,isBottom:r,isLeft:s}=this.currentResizer,l=i||s,u=r||o,{movementX:d,movementY:p}=this.calculateMouseMovement({e,isLeft:s,isTop:o}),g=this.position.x,m=this.position.y;let C=0,w=0;if(l&&d){const y=s?-1:1,R=this.getWidth(),x=R+d*y;let E=!1;s&&(C=R-x,(g+C<=0||x<=this.minWidth)&&(E=!0,C=0)),E||this.setWidth(x)}if(u&&p){const y=o?-1:1,R=this.getHeight(),x=R+p*y;let E=!1;o?(w=R-x,(m+w<=0||x<=this.minHeight)&&(E=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&C||w)&&this.offsetElement(g+C,m+w)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let o;this.config.calculateTopBuffer&&(o=this.config.calculateTopBuffer());const{movementX:i,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:o});this.offsetElement(t+i,n+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},jM=class extends UM{},xg,Fg,Pg,Eg,Ef,Df,Dg;function sr(){return xg===void 0&&(xg=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),xg}function ua(){return Fg===void 0&&(Fg=/(firefox)/i.test(navigator.userAgent)),Fg}function $R(){return Pg===void 0&&(Pg=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Pg}function Vr(){return Eg===void 0&&(Eg=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Eg}function Tf(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!ua())?null:t.toString()}function KM(){if(Dg!==void 0)return Dg;if(!document.body)return-1;let e=1e6;const t=ua()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const o=e*2;if(n.style.height=o+"px",o>t||n.clientHeight!==o)break;e=o}return n.remove(),Dg=e,e}function Gm(){return Df==null&&UR(),Df}function UR(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(Df=n,Ef=n===0)}function jR(){return Ef==null&&UR(),Ef}var Mf=!1,Sd=0;function qM(e){Sd>0||(e.addEventListener("keydown",bd),e.addEventListener("mousedown",bd))}function YM(e){Sd>0||(e.removeEventListener("keydown",bd),e.removeEventListener("mousedown",bd))}function bd(e){const t=Mf,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(Mf=n)}function QM(e){const t=_t(e);return qM(t),Sd++,()=>{Sd--,YM(t)}}function KR(){return Mf}function ta(e,t,n=!1){const o=y1;let i=K0;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(o)).filter(u=>vo(u)),s=Array.prototype.slice.apply(e.querySelectorAll(i));return s.length?((u,d)=>u.filter(p=>d.indexOf(p)===-1))(r,s):r}function Yr(e,t=!1,n=!1,o=!1){const i=ta(e,o?".ag-tab-guard":null,n),r=t?pt(i):i[0];return r?(r.focus({preventScroll:!0}),!0):!1}function is(e,t,n,o){const i=ta(t,n?':not([tabindex="-1"])':null),r=St(e);let s;n?s=i.findIndex(u=>u.contains(r)):s=i.indexOf(r);const l=s+(o?-1:1);return l<0||l>=i.length?null:i[l]}function qR(e,t=5){let n=0;for(;e&&Tf(e)===null&&++n<=t;)e=e.parentElement;return Tf(e)===null?null:e}var XM="ag-focus-managed",YR=class extends mn{constructor(e,t={isStopPropagation:()=>!1,stopPropagation:()=>{}},n={}){super(),this.eFocusable=e,this.stopPropagationCallbacks=t,this.callbacks=n,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:o=>{if(o.defaultPrevented)return;const i=is(this.beans,this.eFocusable,!1,o.shiftKey);i&&(i.focus(),o.preventDefault())},...n}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(XM),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||this.stopPropagationCallbacks.isStopPropagation(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){this.stopPropagationCallbacks.stopPropagation(t);return}t.key===q.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},QR="__ag_Grid_Stop_Propagation";function Qr(e){e[QR]=!0}function gi(e){return e[QR]===!0}var Vm={isStopPropagation:gi,stopPropagation:Qr},tc=class extends YR{constructor(e,t){super(e,Vm,t)}},ZM=class extends kt{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new tc(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new jM(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}areStatesEqual(e,t){return e===t}refresh(e){const t=e,n=this.params;this.params=t;const{source:o,state:i,additionalEventAttributes:r}=t;o==="colDef"&&this.updateParams(t,n);const s=this.state;this.state=i;const l=r?.fromAction;return(l&&l!=="apply"||i.model!==s.model||!this.areStatesEqual(i.state,s.state))&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=Yd(e),this.setupApplyDebounced()}doesFilterPass(e){oe(283);const{getHandler:t,model:n,column:o}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(o)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return oe(284),this.params.model!=null}setupApplyDebounced(){const e=Hm(this.params,this.defaultDebounceMs),t=qt(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return oe(285),this.params.model}setModel(e){oe(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:{valid:n=!0,model:o}}=this;if(!n)return!1;const i=!this.areModelsEqual(t.model,o);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),o={model:n,state:this.getState(),valid:this.canApply(n)};this.state=o;const{params:i,gos:r,eventSvc:s,applyActive:l}=this;i.onStateChange(o),i.onUiChange(this.getUiChangeEventParams()),r.get("enableFilterHandlers")||s.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),o.valid&&(e??(e=l?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced())}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const o=e==="floatingFilter"||e==="columnFilter";o?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(o)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e,t){return go(this,e,t)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function JM(e){const{rowIndex:t,rowPinned:n,column:o}=e;return`${t}.${n??"null"}.${o.getId()}`}function Wm(e,t){const n=e.column===t.column,o=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&o&&i}function ek(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(de(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function tk(e,t){return!e&&!t?!0:!e||!t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function nk(e){let t=0,n;const{pinnedRowModel:o,rowModel:i,pageBounds:r}=e;return o?.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=r.getFirstRow()):o?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function ok(e){let t,n=null;const{pinnedRowModel:o,pageBounds:i}=e,r=o?.getPinnedBottomRowCount(),s=o?.getPinnedTopRowCount();return r?(n="bottom",t=r-1):e.rowModel.getRowCount()?t=i.getLastRow():s&&(n="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function mi(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function zs(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const o=e.rowRenderer.getRowByPosition(t);return o?o.getCellCtrl(t.column):null}function ik(e,t,n){const{rowModel:o,pinnedRowModel:i}=e;let r;return r??(r=o?.getRowNode(t)),n?r??(r=i?.getPinnedRowById(t,n)):(r??(r=i?.getPinnedRowById(t,"top")),r??(r=i?.getPinnedRowById(t,"bottom"))),r}function Rd(e,t,n=!1){const{rowIndex:o,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:l}=e;if(o===0)return i==="top"?null:i==="bottom"&&l.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(n){const u=i?void 0:l.getRow(o);return XR(e,u,!0)??{rowIndex:o-1,rowPinned:i}}return{rowIndex:o-1,rowPinned:i}}function dS(e,t,n=!1){const{rowIndex:o,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:l}=e;if(rk(e,t))return i==="bottom"?null:i==="top"&&l.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(n){const u=i?void 0:l.getRow(o);return XR(e,u)??{rowIndex:o+1,rowPinned:i}}return{rowIndex:o+1,rowPinned:i}}function XR(e,t,n=!1){const{gos:o,rowRenderer:i}=e;if(!t?.sticky||!mR(o))return;const r=i.getStickyTopRowCtrls(),s=i.getStickyBottomRowCtrls(),l=!s.some(g=>g.rowNode.rowIndex===t.rowIndex),u=l?r:s,d=(n?-1:1)*(l?-1:1);let p;for(let g=0;g<u.length;g++)if(u[g].rowNode.rowIndex===t.rowIndex){p=u[g+d];break}return p?{rowIndex:p.rowNode.rowIndex,rowPinned:null}:void 0}function rk(e,t){const{rowPinned:n,rowIndex:o}=t,{pinnedRowModel:i,pageBounds:r}=e;return n==="top"?(i?.getPinnedTopRowCount()??0)-1<=o:n==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=o:r.getLastRow()<=o}function sk(e,t,n){t.addManagedElementListeners(n,{keydown:o=>{if(!o.defaultPrevented&&o.key===q.TAB){const i=o.shiftKey;is(e,n,!1,i)||da(e,i)&&o.preventDefault()}}})}function ak(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Wr(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.exclusive}function Qd(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.exclusive}function da(e,t,n=!1){const o=e.ctrlsSvc.get("gridCtrl");return!n&&o.focusNextInnerContainer(t)?!0:((n||!t&&!o.isDetailGrid())&&o.forceFocusOutOfContainer(t),!1)}function lk(e,t){const n=e.focusSvc,o=n.getFocusedCell();if(o&&t&&Wm(o,t)){const{rowIndex:i,rowPinned:r,column:s}=t;Sm(e)&&n.setFocusedCell({rowIndex:i,column:s,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!KR()})}}function Vo(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function zm(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const o of n){if(!o)continue;const i=o.getGroupRowCount()||0;for(let r=0;r<i;r++){const s=o.getGroupRowCtrlAtIndex(r),l=t[r];if(s){const u=ck(e,s);(l==null||u>l)&&(t[r]=u)}}}return t}function ck(e,t){let o=e.colModel.isPivotMode()?dk(e):JR(e);const i=t.getHeaderCellCtrls();for(const r of i){const{column:s}=r,l=s.getAutoHeaderHeight();l!=null&&l>o&&s.isAutoHeaderHeight()&&(o=l)}return o}function _m(e){let n=e.colModel.isPivotMode()?uk(e):nc(e);return e.colModel.forAllCols(o=>{const i=o.getAutoHeaderHeight();i!=null&&i>n&&o.isAutoHeaderHeight()&&(n=i)}),n}function nc(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function ZR(e){return e.gos.get("floatingFiltersHeight")??nc(e)}function JR(e){return e.gos.get("groupHeaderHeight")??nc(e)}function uk(e){return e.gos.get("pivotHeaderHeight")??nc(e)}function dk(e){return e.gos.get("pivotGroupHeaderHeight")??JR(e)}function hk(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var pk=class extends ee{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:o}=this,{headerNavigation:i,touchSvc:r,ctrlsSvc:s}=o;i&&this.createManagedBean(new tc(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,o),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,o)}),this.onPivotModeChanged(o),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),r?.mockHeaderContextMenu(this,l),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>bi(this.beans,()=>e()),stylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=zm(e).reduce((s,l)=>s+l,0),o=_m(e);e.filterManager?.hasFloatingFilters()&&(t+=ZR(e)),t+=n,t+=o;const i=e.environment.getHeaderRowBorderWidth(),r=t+i;if(this.headerHeightWithBorder!==r){this.headerHeightWithBorder=r;const s=`${r}px`;this.comp.setHeightAndMinHeight(s)}this.headerHeight!==t&&(this.headerHeight=t,this.eventSvc.dispatchEvent({type:"headerHeightChanged"}))}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(o=>o.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,o=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:r,focusSvc:s}=i;(r.navigateHorizontally(o,!0,e)||!n&&s.focusOverlay(!1)||da(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case q.LEFT:t="LEFT";case q.RIGHT:{de(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case q.UP:t="UP";case q.DOWN:{de(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:o}=this;!t&&n.contains(St(o))||n.contains(t)||(o.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:o,ctrlsSvc:i}=this.beans;if(!e&&!n||!o?.isHeaderContextMenuEnabled())return;const{target:r}=e??t;(r===this.eGui||r===i.getHeaderRowContainerCtrl()?.eViewport)&&o.showHeaderContextMenu(void 0,e,n)}},$m=class extends ee{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=en(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,o=t.bodyWidth,i=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let s;e?s=o+i+r:(s=o,this.addSpacer&&(this.gos.get("enableRtl")?i:r)===0&&n.verticalScrollShowing&&(s+=n.getScrollbarWidth())),this.callback(s)}},Sa=class extends ee{};function oc(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Um=class extends ee{constructor(e,t,n,o){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=o,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?pt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),o=de(this.columnOrGroup.getOldLeft());t?.isActive()&&o&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:o}=this.beans;if(!en(n,"print")||e.getPinned()==="left")return t;const r=o.getColsLeftWidth();if(e.getPinned()==="right"){const s=o.bodyWidth;return r+s+t}return r+t}setLeft(e){if(de(e)&&(this.eCell.style.left=`${e}px`),Ot(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&f1(this.ariaEl,t.length)}}},gk="ag-column-first",fk="ag-column-last";function ex(e,t,n,o){return Pt(e)?[]:Ck(e.headerClass,e,t,n,o)}function tx(e,t,n){e.toggleCss(gk,n.isColAtEdge(t,"first")),e.toggleCss(fk,n.isColAtEdge(t,"last"))}function mk(e,t,n,o){return ke(t,{colDef:e,column:n,columnGroup:o})}function Ck(e,t,n,o,i){if(Pt(e))return[];let r;if(typeof e=="function"){const s=mk(t,n,o,i);r=e(s)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}var vk=0,nx="headerCtrl",jm=class extends ee{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+vk++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,o,i){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,n,o,i),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,o=n.getDefinition(),i=o?.suppressHeaderKeyboardEvent;if(!de(i))return!1;const r=ke(this.gos,{colDef:o,column:n,headerRowIndex:t,event:e});return!!i(r)}getWrapperHasFocus(){return St(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const o=this.getHeaderClassParams();n=t(o)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:o}=e,{beans:i}=this,r=g=>{if(!this.isAlive()||!o.isAlive())return;const{paddingTop:m,paddingBottom:C,borderBottomWidth:w,borderTopWidth:y}=ns(this.eGui),R=m+C+w+y,E=t.offsetHeight+R;if(g<5){const M=!_t(i)?.contains(t),T=E==0;if(M||T){Sf(()=>r(g+1),"raf",i);return}}this.setColHeaderHeight(this.column,E)};let s=!1,l;const u=()=>{const g=this.column.isAutoHeaderHeight();g&&!s&&d(),!g&&s&&p()},d=()=>{s=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),r(0),l=Si(this.beans,t,()=>r(0))},p=()=>{s=!1,l&&l(),this.comp.toggleCss("ag-header-cell-auto-height",!1),l=void 0};u(),o.addDestroyFunc(()=>p()),o.addManagedListeners(this.column,{widthChanged:()=>s&&r(0)}),o.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>r(0))}}),n&&n(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:o}=this;!e||!t||!o||(tx(e,t,n.visibleCols),U0(o,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Wr(this.beans);this.eGui&&Pn(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=St(this.beans),n=e.key===q.LEFT||e.key===q.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),(e.ctrlKey||e.metaKey)&&NR(e)===q.C)return this.beans.clipboardSvc?.copyToClipboard();if(!n)return;const r=e.key===q.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let o=e.key===q.LEFT!==t.get("enableRtl");const i=n.getPinned(),r=t.get("enableRtl");return i&&r!==(i==="right")&&(o=!o),(o?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case q.PAGE_DOWN:case q.PAGE_UP:case q.PAGE_HOME:case q.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=nx,{eGui:n,gos:o}=this;qr(o,n,t,this),e.addDestroyFunc(()=>qr(o,n,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus()):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const o=e??t,{menuSvc:i,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&o.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},wk=class extends jm{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,o,i){this.comp=e;const{rowCtrl:r,column:s,beans:l}=this,{colResize:u,context:d,colHover:p,rangeSvc:g}=l,m=oc(this,d,i);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:o,checkMeasuringCallback:w=>this.setRefreshFunction("measuring",w),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),u?this.resizeFeature=m.createManagedBean(u.createResizeFeature(r.pinned,s,n,e,this)):ht(n,!1),p?.createHoverFeature(m,[s],t),g?.createRangeHighlightFeature(m,s,e),m.createManagedBean(new Um(s,t,l)),m.createManagedBean(new tc(t,{shouldStopEventPropagation:w=>this.shouldStopEventPropagation(w),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(s,{colDefChanged:()=>this.refresh(),formulaRefChanged:()=>this.refresh(),headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const C=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:C,columnRowGroupChanged:C,columnPivotChanged:C,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return ke(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return xM(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:o}=this.beans;return ke(o,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||Hn(this.gos)),showColumnMenu:(r,s)=>{e?.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(r,s)=>{e?.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:s})},showFilter:r=>{e?.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t?.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,s)=>{t?.setSortForColumn(this.column,fo(r),!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,s)=>{o.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,s)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===q.SPACE?this.selectAllFeature?.onSpaceKeyDown(e):e.key===q.ENTER?this.onEnterKeyDown(e):e.key===q.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){const{column:t,gos:n,sortable:o,beans:i}=this;let r=!1;(e.ctrlKey||e.metaKey)&&(r=this.showMenuOnKeyPress(e,!0)),r||(!e.altKey&&Zs(n)?i.rangeSvc?.handleColumnSelection(t,e):o&&i.sortSvc?.progressSort(t,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();return hS(n)&&n.onMenuKeyboardShortcut(t)?(e.preventDefault(),!0):!1}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),KR()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=ex(t,this.gos,this.column,null),o=this.userHeaderClasses;this.userHeaderClasses=new Set(n);for(const i of n)o.has(i)?o.delete(i):this.comp.toggleCss(i,!0);for(const i of o)this.comp.toggleCss(i,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:o}=this,i=zm(this.beans),r=i.reduce((m,C)=>m+C,0)===0;if(n.toggleCss("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",s>0);const u=_m(o);if(s===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}n.toggleCss("ag-header-span-total",l);const d=(this.column.getFirstRealParent()?.getLevel()??-1)+1,p=i.length-d;let g=0;for(let m=0;m<p;m++)g+=i[i.length-1-m];e.style.setProperty("top",`${-g}px`),e.style.setProperty("height",`${u+g}px`)}refreshAriaSort(){let e=null;const{beans:t,column:n,comp:o,sortable:i}=this;if(i){const r=this.getLocaleTextFunc(),s=t.sortSvc?.getDisplaySortForColumn(n)??null;o.setAriaSort(r1(s)),e=r("ariaSortableColumn","Press ENTER to sort")}else o.setAriaSort();this.setAriaDescriptionProperty("sort",e)}refreshAriaMenu(){let e=null;this.menuEnabled&&(e=this.getLocaleTextFunc()("ariaMenuColumn","Press ALT DOWN to open column menu")),this.setAriaDescriptionProperty("menu",e)}refreshAriaFilterButton(){let e=null;const{openFilterEnabled:t,gos:n}=this;t&&!Hn(n)&&(e=this.getLocaleTextFunc()("ariaFilterColumn","Press CTRL ENTER to open filter")),this.setAriaDescriptionProperty("filterButton",e)}refreshAriaFiltered(){let e=null;this.column.isFilterActive()&&(e=this.getLocaleTextFunc()("ariaColumnFiltered","Column Filtered")),this.setAriaDescriptionProperty("filter",e)}refreshAriaCellSelection(){let e=null;const{gos:t,column:n,beans:o}=this;if(Zs(t)){const r=this.getLocaleTextFunc(),s=o.rangeSvc?.isColumnInAnyRange(n);e=r("ariaColumnCellSelection",`Press CTRL+SPACE to ${s?"de":""}select all visible cells in this column`)}this.setAriaDescriptionProperty("cellSelection",e)}setAriaDescriptionProperty(e,t){const n=this.ariaDescriptionProperties;t!=null?n.set(e,t):n.delete(e)}announceAriaDescription(){const{beans:e,eGui:t,ariaDescriptionProperties:n}=this;if(!t.contains(St(e)))return;const o=Array.from(n.keys()).sort((i,r)=>i==="filter"?-1:r.charCodeAt(0)-i.charCodeAt(0)).map(i=>n.get(i)).join(". ");e.ariaAnnounce?.announceValue(o,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered(),this.refreshAriaCellSelection()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},o=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:o})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return hS(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function hS(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var yk=0,Tg=class extends ee{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=yk++,this.comp=null,this.allCtrls=[];let o="ag-header-row-column";n==="group"?o="ag-header-row-group":n==="filter"&&(o="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${o}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=en(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=oc(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:o=>this.onVirtualColumnsChanged(o.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,stylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",o=>this.isEnsureDomOrder=o.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=en(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=zm(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=_m(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const o=ZR(this.beans);return{topOffset:e,rowHeight:o}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const o of t)this.recycleAndCreateHeaderCtrls(o,this.ctrlsById,e);const n=o=>{const{focusSvc:i,visibleCols:r}=this.beans;return i.isHeaderWrapperFocused(o)?r.isVisible(o.column):!1};if(e)for(const[o,i]of e)n(i)?this.ctrlsById.set(o,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const o=e.getUniqueId();let i;if(n&&(i=n.get(o),n.delete(o)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new wk(e,this));break}t.set(o,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},Sk=class extends ee{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:o,colModel:i,colMoves:r}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const s=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:s,advancedFilterEnabledChanged:s});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;o.register(l,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:o}=this.beans;let i=0;const r=t.getFocusHeaderToUseAfterRefresh(),s=()=>{const g=o.headerGroupRowCount;i=g,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const m=this.groupsRowCtrls.length;if(m!==g){if(m>g){for(let C=g;C<m;C++)this.destroyBean(this.groupsRowCtrls[C]);this.groupsRowCtrls.length=g;return}for(let C=m;C<g;C++){const w=this.createBean(new Tg(C,this.pinned,"group"));this.groupsRowCtrls.push(w)}}},l=()=>{const g=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new Tg(g,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==g&&this.columnsRowCtrl.setRowIndex(g)},u=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const g=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){g();return}e||g();const m=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==m&&this.filtersRowCtrl.setRowIndex(m):this.filtersRowCtrl=this.createBean(new Tg(m,this.pinned,"filter"))},d=this.getAllCtrls();s(),l(),u();const p=this.getAllCtrls();this.comp.setCtrls(p),this.restoreFocusOnHeader(t,r),d.length!==p.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(o=>o.column===e);if(tr(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const o=t(this.groupsRowCtrls[n]);if(o)return o}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new $m(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Km=class extends ya{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Xd=class extends Km{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.eEditor.destroy(),this.errorMessages=null,super.destroy()}};function bk(e){e.valueCache?.expire()}function Rk(e,t){const{colKey:n,rowNode:o,useFormatter:i,from:r="edit"}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(!s)return null;const l=e.valueSvc.getValueForDisplay({column:s,node:o,includeValueFormatted:i,from:r});return i?l.valueFormatted??va(l.value):l.value}var Zd=class extends kt{constructor(){super()}},xk={tag:"div",cls:"ag-overlay-exporting-center",children:[{tag:"span",ref:"eExportingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eExportingText",cls:"ag-exporting-text"}]},Fk=class extends Zd{constructor(){super(...arguments),this.eExportingIcon=Ce,this.eExportingText=Ce}init(e){const{beans:t}=this;this.setTemplate(xk);const n=En("overlayExporting",t,null);n&&this.eExportingIcon.appendChild(n);const o=e.exporting?.overlayText??this.getLocaleTextFunc()("exportingOoo","Exporting...");this.eExportingText.textContent=o,t.ariaAnnounce.announceValue(o,"overlay")}},Pk={tag:"div",cls:"ag-overlay-loading-center",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},Ek=class extends Zd{constructor(){super(...arguments),this.eLoadingIcon=Ce,this.eLoadingText=Ce}init(e){const{beans:t,gos:n}=this,o=di(n.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(o??Pk),!o){const i=En("overlayLoading",t,null);i&&this.eLoadingIcon.appendChild(i);const r=e.loading?.overlayText??this.getLocaleTextFunc()("loadingOoo","Loading...");this.eLoadingText.textContent=r,t.ariaAnnounce.announceValue(r,"overlay")}}},Dk={tag:"span",cls:"ag-overlay-no-matching-rows-center"},Tk=class extends Zd{init(e){const{beans:t}=this;this.setTemplate(Dk);const n=e.noMatchingRows?.overlayText??this.getLocaleTextFunc()("noMatchingRows","No Matching Rows");this.getGui().textContent=n,t.ariaAnnounce.announceValue(n,"overlay")}},Mk={tag:"span",cls:"ag-overlay-no-rows-center"},kk=class extends Zd{init(e){const{beans:t,gos:n}=this,o=di(n.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(o??Mk),!o){const i=e.noRows?.overlayText??this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=i,t.ariaAnnounce.announceValue(i,"overlay")}}},Ik=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-label-align-right){.ag-label,.ag-wrapper{flex:none}}.ag-label-align-top{align-items:flex-start;flex-direction:column}:where(.ag-label-align-top){.ag-label,.ag-wrapper{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Ak=class extends ya{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Ik)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:o,disabled:i,labelEllipsis:r}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),r!=null&&this.setLabelEllipsis(r),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Tn(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(ht(t,!1),Ur(t,"presentation")):(ht(t,!0),Ur(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(ud(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Vl(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},ox=class extends Ak{constructor(e,t,n,o){super(e,t,n),this.className=o}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n,ariaLabel:o}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),o!=null&&this.setAriaLabel(o),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||s1(e)!==null?Gl(e,""):Gl(e,t??"")}setAriaLabel(e){return aa(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return zo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Lk(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Ir=class extends ox{constructor(e,t,n="text",o="input"){super(e,e?.template??Lk(o),[],t),this.inputType=n,this.displayFieldTag=o,this.eLabel=Ce,this.eWrapper=Ce,this.eInput=Ce}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:o}=this;e.classList.add(`${o}-label`),t.classList.add(`${o}-input-wrapper`),n.classList.add(`${o}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:r,inputPlaceholder:s,autoComplete:l,tabIndex:u}=this.config;i!=null&&this.setInputName(i),r!=null&&this.setInputWidth(r),s!=null&&this.setInputPlaceholder(s),l!=null&&this.setAutoComplete(l),this.addInputListeners(),this.activateTabIndex([n],u)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Pn(this.eInput,"type",e))}getInputElement(){return this.eInput}getWrapperElement(){return this.eWrapper}setInputWidth(e){return ud(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Pn(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return aa(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Vl(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Pn(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Pn(this.eInput,"autocomplete",t)}return this}},qm=class extends Ir{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t,name:n}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t),n!=null&&this.setName(n)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const o=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:o.id,name:o.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},Ym={selector:"AG-CHECKBOX",component:qm},Ok=".ag-checkbox-cell{height:100%}",Nk={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Bk=class extends kt{constructor(){super(Nk,[Ym]),this.eCheckbox=Ce,this.registerCSS(Ok)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,o=t.getInputElement();o.setAttribute("tabindex","-1"),z0(o,"polite"),this.addManagedListeners(o,{click:i=>{if(Qr(i),t.isDisabled())return;const r=t.getValue();this.onCheckboxChanged(r)},dblclick:i=>{Qr(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===q.SPACE&&!t.isDisabled()){e.eGridCell===St(n)&&t.toggle();const r=t.getValue();this.onCheckboxChanged(r),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:o,column:i,node:r}=e;if(r.group&&i)if(typeof o=="boolean")t=o;else{const g=i.getColId();g.startsWith(qd)?t=o==null||o===""?void 0:o==="true":r.aggData&&r.aggData[g]!==void 0||r.sourceRowIndex>=0?t=o??void 0:n=!1}else t=o??void 0;const{eCheckbox:s}=this;if(!n){s.setDisplayed(!1);return}s.setValue(t);const l=e.disabled??!i?.isCellEditable(r);s.setDisabled(l);const u=this.getLocaleTextFunc(),d=Ud(u,t),p=l?d:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;s.setInputAriaLabel(p)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:o,value:i}=t,{editSvc:r}=this.beans;if(!n)return;const s={rowNode:o,column:n};r?.dispatchCellEvent(s,null,"cellEditingStarted",{value:i});const l=o.setDataValue(n,e,"ui");r?.dispatchCellEvent(s,null,"cellEditingStopped",{oldValue:i,newValue:e,valueChanged:l}),l||this.updateCheckbox(t)}};function Ri(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Jd(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Hk(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var pS="row-group-",Qm="t-",Xm="b-",Gk=0,nr=class{constructor(e){this.id=void 0,this.destroyed=!1,this._groupData=void 0,this.master=!1,this.detail=void 0,this.rowIndex=null,this.field=null,this.rowGroupColumn=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Gk++,this.alreadyRendered=!1,this.formulaRowIndex=null,this.hovered=!1,this.__selected=!1,this.beans=e}get groupData(){const e=this._groupData;return e!==void 0?e:this.footer?this.sibling?.groupData:this.beans.groupStage?.loadGroupData(this)??null}set groupData(e){this._groupData=e}get allLeafChildren(){const e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:o}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(r),this.sibling){this.sibling.data=e;const l=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(l)}o.dispatchEvent({type:"rowNodeDataChanged",node:this});const s=this.pinnedSibling;s&&(s.data=e,s.__localEventService?.dispatchEvent(s.createDataChangedEvent(e,i,t)),o.dispatchEvent({type:"rowNodeDataChanged",node:s}))}updateDataOnDetailNode(){const e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(et(13),null):this.rowPinned==="top"?Qm+this.rowIndex:this.rowPinned==="bottom"?Xm+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,o=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,o));const r=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(r)}setId(e){const t=la(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(pS)&&et(14,{groupPrefix:pS})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");const t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:o,valueSvc:i,gos:r,editSvc:s}=this.beans;if(e==null)return!1;let l=o.getCol(e)??o.getColDefCol(e);if(!l)return!1;if(!this.group){const p=l.getColDef();p.pivotValueColumn&&(l=p.pivotValueColumn)}const u=i.getValueForDisplay({column:l,node:this,from:"data"}).value;if(r.get("readOnlyEdit")){const{beans:{eventSvc:p},data:g,rowIndex:m,rowPinned:C}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:C,column:l,colDef:l.colDef,data:g,node:this,oldValue:u,newValue:t,value:t,source:n}),!1}if(s&&!s.committing){const p=s.setDataValue({rowNode:this,column:l},t,n);if(p!=null)return p}const d=i.setValue(this,l,t,n);return this.dispatchCellChangedEvent(l,t,u),d&&this.pinnedSibling?.dispatchCellChangedEvent(l,t,u),d}getDataValue(e){const{colModel:t,valueSvc:n,formula:o}=this.beans;if(e==null)return;const i=t.getCol(e)??t.getColDefCol(e);if(!i)return;let r=n.getValue(i,this,"data");return o&&i.isAllowFormula()&&o.isFormula(r)&&(r=o.resolveValue(i,this)),r}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const o={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(o)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();const e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){const t=this.childrenAfterGroup;if(t)for(let n=0,o=t.length;n<o;++n)t[n].depthFirstSearch(e);e(this)}getAggregatedChildren(e){const t=this.beans;return t.aggStage?.getAggregatedChildren(this,t.colModel.getCol(e))??[]}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new $r)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);const n=this.__localEventService??(this.__localEventService=new $r);this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,n);const o=this.frameworkEventListenerService?.wrap(e,t)??t;n.addEventListener(e,o)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){const n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(oe(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){const e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}_destroy(e){if(this.destroyed)return!1;this.destroyed=!0;const t=this.pinnedSibling;if(t?.rowPinned&&!this.rowPinned&&this.beans.pinnedRowModel?.pinRow(t,null),e?this.clearRowTopAndRowIndex():(this.setRowTop(null),this.setRowIndex(null)),!this.footer){const n=this.detailNode;n&&n._destroy(e);const o=this.sibling;o&&o._destroy(e)}return!0}};function Vk(e,t,n){return ke(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Wk=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_groupData","_leafs","childStore","groupValue","oldRowTop","sticky","treeNodeFlags","treeParent"]),zk=(e,t)=>{const n=new nr(t);for(const o of Object.keys(e))Wk.has(o)||(n[o]=e[o]);return n.oldRowTop=null,n},kf=(e,t,n)=>{if(!n)return;let o=n.rowIndex;if(o==null)return;o+=t;const i=e.getRowCount();for(;o>=0&&o<i;){const r=e.getRow(o);if(!r||!r.footer&&!r.detail)return r;o+=t}},gS=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:o}=this;t.has(e)||(t.add(e),n.add(e),o.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Uo(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:o}=this;e.clear(),o.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,o=e?.getSortOptions()??[],i=this.order,r=Uk(i);if(i.sort((l,u)=>t?.compareRowNodes(o,l,u)||(l.pinnedSibling?.rowIndex??0)-(u.pinnedSibling?.rowIndex??0)),!r)return;const s=CR(n);s==="bottom"||s==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){const{all:t,visible:n}=this,o=n.size;return t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort(),o!=n.size}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function ix(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?ix(t):!1}function Mg(e,t){const{gos:n,rowModel:o,filterManager:i}=e;return wa(n)?!o.getRowNode(t.id):i?.isAnyFilterPresent()?!ix(t):n.get("pivotMode")?!t.group:!1}function _k(e){return!!e.footer&&e.level===-1}function $k(e){return!!e.pinnedSibling&&_k(e.pinnedSibling)}function Uk(e){const t=e.findIndex($k);if(t>-1)return e.splice(t,1)?.[0]}var fS=class extends ee{constructor(){super(...arguments),this.csrm=null}postConstruct(){const{gos:e,beans:t}=this;this.top=new gS(t,"top"),this.bottom=new gS(t,"bottom"),this.csrm=Ri(t)??null;const n=i=>Mg(t,i.pinnedSibling),o=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(r=>this.pinRow(r,i(r)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow();let r=!1;this.forContainers(l=>{r||(r=l.hide(n))});const s=this.refreshRowPositions();(!i||s||r)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Kk),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:o}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",o)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(o=>n.push(o)),n.forEach(o=>this.pinRow(o,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(t!=null&&e.destroyed)return;if(e.footer){const s=e.level;if(s>-1)return;if(s===-1){this._grandTotalPinned=t,this.csrm?.reMapRows();return}}const o=e.rowPinned??e.pinnedSibling?.rowPinned;if(o!=null&&t!=null&&t!=o){const s=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(s,null,n),this.pinRow(l,t,n);return}const r=n&&qk(this.beans,e,n);if(r){r.forEach(s=>this.pinRow(s,t));return}if(t==null){const s=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(s);if(!l)return;l.delete(s);const u=s.pinnedSibling;kg(s),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(u)}else{const s=mS(this.beans,e,t),l=this.getContainer(t);l.add(s),Mg(this.beans,e)&&l.hide(u=>Mg(this.beans,u.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=o=>{if(o.rowHeightEstimated){const i=Ji(this.beans,o);o.setRowTop(t),o.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return CS(this.top)}getPinnedBottomTotalHeight(){return CS(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,o=>{const i=o.pinnedSibling?.id;i!=null&&n.push(i)}),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const o of e[n]){const i=this.beans.rowModel.getRowNode(o);i?this.pinRow(i,n):t.queue(o)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(o=>{const i=this.beans.rowModel.getRowNode(o);i&&n.add(i)});for(const o of n)e.unqueue(o.id),this.pinRow(o,t)})}pinGrandTotalRow(){const{csrm:e,beans:t,_grandTotalPinned:n}=this;if(!e)return;const o=e.rootNode?.sibling;if(!o)return;const i=o.pinnedSibling,r=i&&this.findPinnedRowNode(i);if(n){if(r&&r.floating!==n&&(kg(i),r.delete(i)),!r||r.floating!==n){const s=mS(t,o,n);this.getContainer(n).add(s)}}else{if(!r)return;kg(i),r.delete(i)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=o=>jk(this.beans,o);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(o=>{const i=t(o);n||(n=i)}),n}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function jk(e,t){let n=0,o=!1;return t.forEach((i,r)=>{if(o||(o=i.rowTop!==n),i.setRowTop(n),i.rowHeightEstimated||i.rowHeight==null){const s=Ji(e,i).height;o||(o=i.rowHeight!==s),i.setRowHeight(s)}i.setRowIndex(r),n+=i.rowHeight}),o}function mS(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const o=zk(t,e);o.setRowTop(null),o.setRowIndex(null),o.rowPinned=n;const i=n==="top"?Qm:Xm;return o.id=`${i}${n}-${t.id}`,o.pinnedSibling=t,t.pinnedSibling=o,o}function kg(e){if(!e.pinnedSibling)return;e.rowPinned=null,e._destroy(!1);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Kk(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function qk(e,t,n){const{rowSpanSvc:o}=e,i=(n&&o?.isCellSpanning(n,t))??!1;if(n&&i)return o?.getCellSpan(n,t)?.spannedNodes}function CS(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}var vS=class extends ee{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};ul(this.pinnedBottomRows,t),ul(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=o=>{if(o.rowHeightEstimated){const i=Ji(this.beans,o);o.setRowTop(t),o.setRowHeight(i.height),t+=i.height,e=!0}};return ul(this.pinnedBottomRows,n),t=0,ul(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const o=la(this.gos),i=t==="top"?Qm:Xm,r=new Set(n.order),s=[],l=new Set;let u=0,d=-1;for(const p of e){const g=o?.({data:p,level:0,rowPinned:t})??i+this.nextId++;if(l.has(g)){oe(96,{id:g,data:p});continue}d++,l.add(g),s.push(g);const m=kl(n,g);if(m!==void 0)m.data!==p&&m.updateData(p),u+=this.setRowTopAndRowIndex(m,u,d),r.delete(g);else{const C=new nr(this.beans);C.id=g,C.data=p,C.rowPinned=t,u+=this.setRowTopAndRowIndex(C,u,d),n.cache[g]=C,n.order.push(g)}}for(const p of r)kl(n,p)?.clearRowTopAndRowIndex(),delete n.cache[p];n.order=s}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Ji(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return wS(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return wS(this.pinnedBottomRows)}getPinnedTopRowCount(){return Af(this.pinnedTopRows)}getPinnedBottomRowCount(){return Af(this.pinnedBottomRows)}getPinnedTopRow(e){return If(this.pinnedTopRows,e)}getPinnedBottomRow(e){return If(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return kl(this.getCache(t),e)}forEachPinnedRow(e,t){return ul(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function wS(e){const t=Af(e);if(t===0)return 0;const n=If(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function kl(e,t){return e.cache[t]}function If(e,t){return kl(e,e.order[t])}function ul(e,t){e.order.forEach((n,o)=>{const i=kl(e,n);i&&t(i,o)})}function Af(e){return e.order.length}var Yk=class extends ee{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),o=CR(e),r=!!n||(o==="pinnedBottom"||o==="pinnedTop"),s=r?this.inner instanceof vS:this.inner instanceof fS;this.inner&&s&&this.destroyBean(this.inner),(s||!this.inner)&&(this.inner=this.createManagedBean(r?new fS:new vS))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},Qk=500,Xk=550,Fu,Zk=e=>{if(!Fu)Fu=new WeakSet;else if(Fu.has(e))return!1;return Fu.add(e),!0},Er=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new $r;const o=this.onTouchStart.bind(this);this.startListener=o,this.eElement.addEventListener("touchstart",o,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!Zk(e))return;const t=e.touches[0];this.touchStart=t;const n=this.handlers;if(!n.length){const o=this.eElement,i=o.ownerDocument,r=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this),l=this.onTouchCancel.bind(this),u={passive:!0},d={passive:!1};zu(n,[o,"touchmove",r,u],[i,"touchcancel",l,u],[i,"touchend",s,d],[i,"contextmenu",qi,d])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},Xk)}onTouchMove(e){const{moved:t,touchStart:n}=this;if(!t&&n){const o=Ks(n,e.touches);o&&!Z0(o,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){const t=this.touchStart;!t||!Ks(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&qi(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;!t||!Ks(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now();const n=this.lastTapTime;n&&t-n>Qk&&(this.eventSvc?.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),Mm(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},Jk=1,eI=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=Jk++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}for(const t of e.derivedBeans??[]){const{beanName:n,bean:o}=t(this);this.beans[n]=o,this.createdBeans.push(o)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){const n=this.beans;for(const o of e)o.preWireBeans?.(n),o.wireBeans?.(n);for(const o of e)o.preConstruct?.();t&&e.forEach(t);for(const o of e)o.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function tI(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var nI=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],yS=Object.fromEntries(nI.map((e,t)=>[e,t]));function oI(e,t){const n=(e.beanName?yS[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,o=(t.beanName?yS[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-o}function iI(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var Yu={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},Zm=class extends ee{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Yu.AUTO_HEIGHT:t.print?Yu.PRINT:Yu.NORMAL;this.view.updateLayoutClasses(n,t)}},rx=class extends kt{constructor(e,t){super(),this.direction=t,this.eViewport=Ce,this.eContainer=Ce,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",$R()||Vr())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=jR(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),bi(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;V1(this,()=>vo(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},rI={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},sI=class extends rx{constructor(){super(rI,"horizontal"),this.eLeftSpacer=Ce,this.eRightSpacer=Ce,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new $m(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,o=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=o),zo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=o);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=o),zo(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=o)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),o=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=n?0:o===0&&t?16:o,s=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Dl(this.getGui(),r),Dl(this.eViewport,r),Dl(this.eContainer,r),r||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return ld(this.eViewport,this.enableRtl)}setScrollPosition(e){vo(this.eViewport)||this.attemptSettingScrollPosition(e),cd(this.eViewport,e,this.enableRtl)}},sx=class extends ee{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},aI={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},lI=class extends rx{constructor(){super(aI,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new sx(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,o=t&&e.getScrollbarWidth()||0,i=o===0&&n?16:o;this.toggleCss("ag-scrollbar-invisible",n),zo(this.getGui(),i),zo(this.eViewport,i),zo(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,o=this.getScrollPosition(),i=n.scrollTop;o!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!vo(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},$i="Viewport",SS="fakeVScrollComp",Ig=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],bS=100,Ag=150,cI=class extends ee{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=qt(this,()=>this.lastScrollSource[1]=null,Ag),this.resetLastVScrollDebounced=qt(this,()=>this.lastScrollSource[0]=null,Ag)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,$i)});for(const e of Ig){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?qt(this,this.onVScroll.bind(this,$i),bS):this.onVScroll.bind(this,$i),o=t?qt(this,this.onVScroll.bind(this,SS),bS):this.onVScroll.bind(this,SS);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,o)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Ig,$i]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);cd(n,e,this.enableRtl)}}getViewportForSource(e){return e===$i?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const o=ld(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(o),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===$i?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===$i?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Ag)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Vr()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Fm(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of Ig)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll($i)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const o=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:o:e=Math.min(Math.max(e,0),o)),cd(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:o}=this;return{top:o,bottom:o+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,o=n.getRowCount();let i=-1;for(let r=0;r<o;r++){const s=n.getRow(r);if(typeof e=="function"){if(s&&e(s)){i=r;break}}else if(e===s||e===s.data){i=r;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(en(this.gos,"print"))return;const{rowModel:o}=this.beans,i=o.getRowCount();if(typeof e!="number"||e<0||e>=i){oe(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:r,pageBounds:s,rowContainerHeight:l,rowRenderer:u}=this.beans;r.wrapIncoming(()=>{const d=this.ctrlsSvc.getGridBodyCtrl(),p=o.getRow(e);let g,m,C=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:w,stickyBottomHeight:y}=d,R=p.rowTop,x=p.rowHeight,E=s.getPixelOffset(),P=p.rowTop-E,M=P+p.rowHeight,T=this.getVScrollPosition(),k=l.divStretchOffset,I=T.top+k,z=T.bottom+k,_=z-I,$=l.getScrollPositionForPixel(P),V=l.getScrollPositionForPixel(M-_),F=Math.min(($+V)/2,P),B=I+w>P,G=z-y<M;let O=null;t==="top"?O=$-w:t==="bottom"?O=V+y:t==="middle"?O=F:B?O=$-w:G&&(V-$>_?O=$-w:O=V+y),O!==null&&(this.setVerticalScrollPosition(O),u.redraw({afterScroll:!0})),g=R!==p.rowTop||x!==p.rowHeight,m=w!==d.stickyTopHeight||y!==d.stickyBottomHeight,C++}while((g||m)&&C<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(p?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const w=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const y=this.getVScrollPosition().top;w!==y&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=o.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:o}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const r=this.getPositionedHorizontalScroll(i,t);o.wrapIncoming(()=>{r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:o}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let l=(s?n:o)||i,u=s?o:n;t!=="auto"&&(l=t==="start",u=t==="end");const d=t==="middle";if(l||u||d){const{colLeft:p,colMiddle:g,colRight:m}=this.getColumnBounds(e);return d?g-r/2:l?s?m:p:s?p-r:m-r}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:o,colRight:i}=this.getColumnBounds(e),r=this.enableRtl,s=r?t>i:n<i,l=r?n<o:t>o;return{columnBeforeStart:s,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,o=e.getActualWidth(),i=e.getLeft(),r=t?-1:1,s=t?n-i:i,l=s+o*r,u=s+o/2*r;return{colLeft:s,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,o=e+t;return{start:n,end:o,width:e}}},RS={horizontal:{overflow:e=>e.scrollWidth-e.clientWidth,scrollSize:e=>e.scrollWidth,clientSize:e=>e.clientWidth,opposite:"vertical"},vertical:{overflow:e=>e.scrollHeight-e.clientHeight,scrollSize:e=>e.scrollHeight,clientSize:e=>e.clientHeight,opposite:"horizontal"}};function uI(e,t,n=Gm()||0,o,i){return ax(e,t,"horizontal",n,o,i)}function dI(e,t,n=Gm()||0,o,i){return ax(e,t,"vertical",n,o,i)}function ax(e,t,n,o,i,r){const s=RS[n],l=RS[s.opposite],u=i?vo(i):!0,d=r?vo(r):!0,p=s.overflow(e);if(p<=0)return!1;if(!t||o===0)return!0;const g=l.overflow(t);if(g<=0)return!0;if(p<=o){if(u&&d&&hI({candidateOverflow:g,candidateScrollSize:l.scrollSize(t),candidateClientSize:l.clientSize(t),scrollbarWidth:o}))return!1;const m=s.clientSize(e)+o;return s.scrollSize(e)<=m}return!0}function hI({candidateOverflow:e,candidateScrollSize:t,candidateClientSize:n,scrollbarWidth:o}){if(e<=0||e>o)return!1;const i=n+o;return t>n&&t<=i}var pI=class extends ee{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,o=()=>{bi(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(o),n.registerBodyViewportResizeListener(o)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=Fm(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const{centerContainerCtrl:e,beans:t}=this,n=e.getCenterWidth(),o=e.getViewportScrollLeft();t.colViewport.setScrollPosition(n,o)}};function lx(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function Qu(e,t,n,o){const i=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return cx(e,t,n,o,i)}function gI(e,t,n,o){const i=t?.suppressMouseEventHandling;return cx(e,void 0,n,o,i)}function cx(e,t,n,o,i){return i?i(ke(e,{column:t,node:n,event:o})):!1}function ux(e,t,n){let o=t;for(;o;){const i=fR(e,o,n);if(i)return i;o=o.parentElement}return null}var xd="cellCtrl";function Jm(e,t){return ux(e,t,xd)}var Fd="renderedRow";function fI(e,t){return ux(e,t,Fd)}function Lf(e,t,n,o,i){const r=o?o.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const s=ke(e,{event:t,editing:i,column:o,node:n,data:n.data,colDef:o.getColDef()});return!!(r&&r(s))}function mI(e){const{pinnedRowModel:t,rowModel:n,rangeSvc:o,visibleCols:i}=e;if(!o||i.allCols.length===0)return;const r=t?.isEmpty("top")??!0,s=t?.isEmpty("bottom")??!0,l=r?null:"top";let u,d;s?(u=null,d=n.getRowCount()-1):(u="bottom",d=t?.getPinnedBottomRowCount()??-1),o.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:d,rowEndPinned:u})}var CI=class extends ee{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){let e="mousedown";dd("pointerdown")?e="pointerdown":dd("touchstart")&&(e="touchstart");const t=["dblclick","contextmenu","mouseover","mouseout","click",e];for(const n of t){const o=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:o})}}processMouseEvent(e,t){if(!_l(this.beans,t)||gi(t))return;const{cellCtrl:n,rowCtrl:o}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,o,n)):(n&&n.onMouseEvent(e,t),o&&o.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:Jm(t,e),rowCtrl:fI(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:o}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):o?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,e,t))}processCellKeyboardEvent(e,t,n){const o=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!Lf(this.gos,n,e.rowNode,e.column,o)&&t==="keydown"&&(!o&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,o),lx(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:o}=e,{focusSvc:i,navigation:r}=this.beans,l=i.getFocusedCell()?.column;if(!Lf(this.gos,n,o,l,!1)){const d=n.key;if(t==="keydown")switch(d){case q.PAGE_HOME:case q.PAGE_END:case q.PAGE_UP:case q.PAGE_DOWN:r?.handlePageScrollingKey(n,!0);break;case q.LEFT:case q.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case q.UP:case q.DOWN:e.onKeyboardNavigate(n);break;case q.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!_l(this.beans,e))return;const n=NR(e),{clipboardSvc:o,undoRedo:i}=this.beans;if(n===q.A)return this.onCtrlAndA(e);if(n===q.C)return this.onCtrlAndC(o,e);if(n===q.D)return this.onCtrlAndD(o,e);if(n===q.V)return this.onCtrlAndV(o,e);if(n===q.X)return this.onCtrlAndX(o,e);if(n===q.Y)return this.onCtrlAndY(i);if(n===q.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:o},gos:i}=this;n&&er(i)&&!pT(i)&&t.isRowsToRender()?mI(this.beans):o&&o.selectAllRowNodes({source:"keyboardSelectAll",selectAll:SR(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},Pu=e=>e.topRowCtrls,Eu=e=>e.getStickyTopRowCtrls(),Du=e=>e.getStickyBottomRowCtrls(),Tu=e=>e.bottomRowCtrls,Mu=e=>e.allRowCtrls,Lg=e=>e.getCtrls("top"),Og=e=>e.getCtrls("center"),Ng=e=>e.getCtrls("bottom"),vI={center:{type:"center",name:"center-cols",getRowCtrls:Mu,getSpannedRowCtrls:Og},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Mu,getSpannedRowCtrls:Og},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Mu,getSpannedRowCtrls:Og},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Mu},topCenter:{type:"center",name:"floating-top",getRowCtrls:Pu,getSpannedRowCtrls:Lg},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Pu,getSpannedRowCtrls:Lg},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Pu,getSpannedRowCtrls:Lg},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Pu},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Eu},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Eu},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Eu},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Eu},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Du},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Du},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Du},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Du},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Tu,getSpannedRowCtrls:Ng},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Tu,getSpannedRowCtrls:Ng},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Tu,getSpannedRowCtrls:Ng},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Tu}};function dx(e){return`ag-${ic(e).name}-viewport`}function hx(e){const t=ic(e);return t.container??`ag-${t.name}-container`}function wI(e){return`ag-${ic(e).name}-spanned-cells-container`}function ic(e){return vI[e]}var yI=["topCenter","topLeft","topRight"],SI=["bottomCenter","bottomLeft","bottomRight"],bI=["center","left","right"],RI=["center","left","right","fullWidth"],xI=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],FI=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],PI=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],px=["stickyTopCenter","stickyTopLeft","stickyTopRight"],gx=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],EI=[...px,"stickyTopFullWidth",...gx,"stickyBottomFullWidth"],DI=[...yI,...SI,...bI,...px,...gx],TI=class extends ee{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=ic(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new pI(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,o){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=o,this.createManagedBean(new CI(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:r}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(FI,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(PI,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(RI,()=>this.createManagedBean(new sx(this.eContainer,this.name==="center"?o:void 0))),r&&this.forContainers(DI,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(xI,()=>this.createManagedBean(new $m(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:o=>this.onDisplayedRowsChanged(o.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const o=this.options.getSpannedRowCtrls(e);o&&this.comp.setSpannedRowCtrls(o,!1)}})}listenOnDomOrder(){if(EI.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),o=en(this.gos,"print");this.comp.setDomOrder(n||o)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Wl(this.eViewport)}getCenterViewportScrollLeft(){return ld(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=Si(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Pm(this.eViewport)}getViewportScrollLeft(){return ld(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){const{beans:e,gos:t,eViewport:n}=this,o=t.get("alwaysShowHorizontalScroll"),{ctrlsSvc:i}=e,r=i.getGridBodyCtrl()?.eBodyViewport,s=i.get("fakeHScrollComp")?.getGui(),l=i.get("fakeVScrollComp")?.getGui();return o||uI(n,r,void 0,s,l)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){cd(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=en(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,r=t.filter(s=>{const l=s.isFullWidth();return this.options.fullWidth?!i&&l:i||!l});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},MI="ag-force-vertical-scroll",kI="ag-selectable",II="ag-column-moving",AI=class extends ee{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,o,i,r,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=o,this.eBottom=i,this.eStickyTop=r,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${dx("center")}`),this.eFullWidthContainer=n.querySelector(`.${hx("fullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new Zm(this.comp)),this.scrollFeature=this.createManagedBean(new cI(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,i,r,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(o),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,o=jR()?16:0,i=`calc(100% + ${n+o}px)`;bi(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t,gos:n}=this;let o=n.get("treeData");if(!o){const i=t.isPivotMode();o=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(o?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:n=>{const{target:o}=n,i=Nr(o,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:o,relatedTarget:i}=n,r=t.contains(i),s=Nr(i,"ag-root",t);Nr(o,"ag-root",t)||(!r||s)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(II,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(kI,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,o=n===-1?-1:e+n;this.comp.setRowCount(o)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const{gos:e,comp:t,ctrlsSvc:n}=this,o=e.get("alwaysShowVerticalScroll"),i=o?MI:null,r=en(e,"normal");t.setAlwaysVerticalScrollClass(i,o);const s=n.get("center")?.eViewport,l=n.get("fakeHScrollComp")?.getGui(),u=n.get("fakeVScrollComp")?.getGui();return o||r&&dI(this.eBodyViewport,s,void 0,u,l)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const o=()=>{const i=n&&Qs(this.gos)&&!e.stretching,r=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,i)};o(),this.addManagedEventListeners({heightScaleChanged:o}),this.addManagedPropertyListener("animateRows",o),this.addManagedEventListeners({stylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,o())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:o,eBottom:i,beans:{popupSvc:r,touchSvc:s}}=this,l=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:l}),s?.mockBodyContextMenu(this,l),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,r)});const u=this.onStickyWheel.bind(this);for(const p of[t,n,o,i])this.addManagedElementListeners(p,{wheel:u});const d=this.onHorizontalWheel.bind(this);for(const p of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(p).eContainer,{wheel:d});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:o}=e;(o||Math.abs(t)>Math.abs(n))&&_l(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:o}=e;(o||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:o}=e||t;(o===this.eBodyViewport||o===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),o=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),r=t.getRowBorderWidth(),s=i-r,l=n?s+n:0,u=o?s+o:0;this.comp.setTopHeight(l),this.comp.setBottomHeight(u),this.comp.setTopInvisible(l<=0),this.comp.setBottomInvisible(u<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let o=0;t>0&&(o+=t),n>0&&(o+=n),o>0&&(o+=1),this.comp.setStickyTopTop(`${o}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,o=e?.getPinnedBottomTotalHeight()??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=o+r;n.setStickyBottomBottom(`${s}px`)}},na={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},fx=class extends mn{constructor(e,t){super(),this.stopPropagationCallbacks=t,this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:n,eTopGuard:o,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:l,focusInnerElement:u,onFocusIn:d,onFocusOut:p,shouldStopEventPropagation:g,onTabKeyDown:m,handleKeyDown:C,isEmpty:w,eFocusableElement:y}=e;this.comp=n,this.eTopGuard=o,this.eBottomGuard=i,this.providedFocusInnerElement=u,this.eFocusableElement=y,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!l,this.providedFocusIn=d,this.providedFocusOut=p,this.providedShouldStopEventPropagation=g,this.providedOnTabKeyDown=m,this.providedHandleKeyDown=C,this.providedIsEmpty=w}postConstruct(){this.createManagedBean(new YR(this.eFocusableElement,this.stopPropagationCallbacks,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():ta(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=_t(this.beans),n=ta(t.body,null,!0),o=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(o===-1)return;let i,r;e?(i=0,r=o):(i=o+1,r=n.length);const s=n.slice(i,r),l=this.gos.get("tabIndex");s.sort((u,d)=>{const p=Number.parseInt(u.getAttribute("tabindex")||"0"),g=Number.parseInt(d.getAttribute("tabindex")||"0");return g===l?1:p===l?-1:p===0?1:g===0?-1:p-g}),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=ta(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return is(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},LI=class extends mn{constructor(e,t){super(),this.comp=e,this.stopPropagationCallbacks=t}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:o,stopPropagationCallbacks:i}=this,r=[t,n],s={setTabIndex:x=>{for(const E of r)x==null?E.removeAttribute("tabindex"):E.setAttribute("tabindex",x)}};this.addTabGuards(t,n);const{focusTrapActive:l=!1,onFocusIn:u,onFocusOut:d,focusInnerElement:p,handleKeyDown:g,onTabKeyDown:m,shouldStopEventPropagation:C,isEmpty:w,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:R}=e;this.tabGuardCtrl=this.createManagedBean(new fx({comp:s,focusTrapActive:l,eTopGuard:t,eBottomGuard:n,eFocusableElement:o,onFocusIn:u,onFocusOut:d,focusInnerElement:p,handleKeyDown:g,onTabKeyDown:m,shouldStopEventPropagation:C,isEmpty:w,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:R},i))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=_t(this.beans).createElement("div"),n=e==="top"?na.TAB_GUARD_TOP:na.TAB_GUARD_BOTTOM;return t.classList.add(na.TAB_GUARD,n),Ur(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.prepend(e),n.append(t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Tn(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){Tm(t)||(t=t.getGui());const{eBottomGuard:o}=this;o?o.before(t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Zi(e),Zi(t),super.destroy()}},OI=class extends ya{initialiseTabGuard(e,t){this.tabGuardFeature=this.createManagedBean(new LI(this,t)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},NI=class extends OI{initialiseTabGuard(t){super.initialiseTabGuard(t,Vm)}},BI=class extends ee{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:o,ctrlsSvc:i}=this.beans;o?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new Zm(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=Si(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),i.register("gridCtrl",this)}isDetailGrid(){return qR(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:o}=this.getNextFocusableIndex(t,e);if(o<0||o>=t.length)return!1;if(o===0){if(n>0){const{visibleCols:i,focusSvc:r}=this.beans,s=i.allCols,l=pt(s);if(r.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[o],e)}focusInnerElement(e){if(this.gos.getCallback("focusGridInnerElement")?.({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:o,visibleCols:i}=this.beans,r=i.allCols;if(e){if(n.length>1)return this.focusContainer(pt(n),e);const s=pt(r);if(o.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Wr(this.beans)){if(o.focusGridView({column:r[0],backwards:e}))return!0;for(let s=1;s<n.length;s++)if(Yr(n[s].getGui(),e))return!0;return!1}return o.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n}=this.getNextFocusableIndex(t,e),o=t[n];o?this.focusContainer(o):this.forceFocusOutOfContainer(e)}isFocusable(){const e=this.beans;return!Qd(e)||!Wr(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=St(this.beans),o=e.findIndex(r=>r.getGui().contains(n)),i=o+(t?-1:1);return{indexWithFocus:o,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Yr(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Oe=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},xS={dispatchEvent:"CommunityCore",...Oe("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Oe("GridState",{getState:0,setState:0}),...Oe("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Oe("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Oe("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Oe("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Oe("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Oe("ValueCache",{expireValueCache:0}),...Oe("CellApi",{getCellValue:0}),...Oe("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Oe("Sort",{onSortChanged:0}),...Oe("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Oe("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Oe("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Oe("HighlightChanges",{flashCells:0}),...Oe("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Oe("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Oe("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Oe("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Oe("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Oe("ColumnResize",{setColumnWidths:0}),...Oe("ColumnHover",{isColumnHovered:0}),...Oe("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Oe("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Oe("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Oe("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Oe("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Oe("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Oe("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Oe("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Oe("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...Oe("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Oe("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...Oe("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Oe("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Oe("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Oe("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Oe("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Oe("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Oe("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Oe("ContextMenu",{showContextMenu:0}),...Oe("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Oe("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Oe("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Oe("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Oe("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Oe("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...Oe("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Oe("StatusBar",{getStatusPanel:0}),...Oe("AiToolkit",{getStructuredSchema:0})},Bg={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},HI=(e,t)=>e.eventSvc.dispatchEvent(t),mx=class{};Reflect.defineProperty(mx,"name",{value:"GridApi"});var GI=class extends ee{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new mx,this.fns={...Bg,dispatchEvent:HI},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(xS))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:o}=this;n!==Bg&&(n[e]=o?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:o}}=this;return o?o(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:o}=this;if(!t)oe(26,{fnName:e,preDestroyLink:o});else{const i=xS[e];n.assertModuleRegistered(i,`api.${e}`)&&oe(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=Bg,this.beans=null}};function VI(e){return e.context.getId()}function WI(e){e.gridDestroySvc.destroy()}function zI(e){return e.gridDestroySvc.destroyCalled}function _I(e,t){return e.gos.get(t)}function $I(e,t,n){Cx(e,{[t]:n})}function Cx(e,t){e.gos.updateGridOptions({options:t})}function UI(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var jI={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},KI=class extends kt{constructor(e,t,n){super(jI),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(En("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:o,gos:i}=this,r=n.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(o,0,0),r){const l=ke(i,{rowNode:t,dragEvent:e});r(l)}else try{const l=JSON.stringify(t.data);s.setData("application/json",l),s.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function qI(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function YI(e,t){const n=e.dragAndDrop?.findExternalZone(t.getContainer());n&&e.dragAndDrop?.removeDropTarget(n)}function QI(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function XI(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function ZI(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const o=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const r=o?.rowIndex;r==null||i==="none"?n.clear():n.set(o,i)}var vx=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},JI=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;const n=t.pointerId;if(!vx(e,n))return null;const o={eElement:e,pointerId:n,onLost(i){tA(o,i)}};return e.addEventListener("lostpointercapture",o.onLost),o},eA=e=>{if(!e)return;wx(e);const{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},wx=e=>{const{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener("lostpointercapture",n),e.onLost=null)},tA=(e,t)=>{wx(e);const{eElement:n,pointerId:o}=e;n&&t.pointerId===o&&vx(n,o)},Ms,_s,Hg={passive:!0},Ui={passive:!1},Mo=e=>{if(!_s)_s=new WeakSet;else if(_s.has(e))return!1;return _s.add(e),!0},nA=class extends mn{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!Ms?.has(Lo(this.beans))}hasPointerCapture(){const e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)FS(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let n=0,o=t.length;n<o;++n){const i=t[n];if(i.params===e){t.splice(n,1),FS(i);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:n}=e,o=[];let i;if(n){const d=t.style;d&&(i=d.touchAction,d.touchAction="none")}const r={handlers:o,params:e,oldTouchAction:i};this.dragSources.push(r),zu(o,[t,"pointerdown",d=>this.onPointerDown(e,d),Ui],[t,"mousedown",d=>this.onMouseDown(e,d)]);const u=this.gos.get("suppressTouch");n&&!u&&zu(o,[t,"touchstart",p=>this.onTouchStart(e,p),Ui])}cancelDrag(e){const t=this.drag;e??(e=t?.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&_l(this.beans,e)&&!El(Vg(e))}initDrag(e,...t){this.drag=e;const n=this.beans,o=l=>this.onScroll(l),i=l=>this.onKeyDown(l),r=Lo(n),s=_t(n);zu(e.handlers,[r,"contextmenu",qi],[r,"keydown",i],[s,"scroll",o,{capture:!0}],[s.defaultView||window,"scroll",o],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;Ms?.get(t)===e&&Ms.delete(t),this.drag=null,eA(e.pointerCapture),Mm(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const n=this.beans;if(_s?.has(t))return;const o=t.pointerType;if(o==="touch"&&(n.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),El(Vg(t))))||!t.isPrimary||o==="mouse"&&t.button!==0)return;this.destroyDrag();const i=Lo(n),r=e.eElement,s=t.pointerId,l=new Gg(i,e,t,s);Ms??(Ms=new WeakMap),Ms.set(i,l);const u=m=>{m.pointerId===s&&this.onMouseOrPointerMove(m)},d=m=>{m.pointerId===s&&this.onMouseOrPointerUp(m)},p=m=>{m.pointerId===s&&Mo(m)&&this.cancelDrag()},g=m=>this.draggingPreventDefault(m);this.initDrag(l,[i,"pointerup",d],[i,"pointercancel",p],[i,"pointermove",u,Ui],[i,"touchmove",g,Ui],[r,"mousemove",g,Ui]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Mo(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!Mo(t)||El(Vg(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){this.dragging&&qi(t);return}this.destroyDrag();const o=this.beans,i=Lo(o),r=new Gg(i,e,t.touches[0]),s=m=>this.onTouchMove(m),l=m=>this.onTouchUp(m),u=m=>this.onTouchCancel(m),d=m=>this.draggingPreventDefault(m),p=Lo(o),g=t.target??e.eElement;this.initDrag(r,[g,"touchmove",s,Hg],[g,"touchend",l,Hg],[g,"touchcancel",u,Hg],[p,"touchmove",d,Ui],[p,"touchend",l,Ui],[p,"touchcancel",u,Ui]),e.dragStartPixels===0&&this.onMove(r.start)}draggingPreventDefault(e){this.dragging&&qi(e)}onMouseDown(e,t){if(t.button!==0||_s?.has(t)||this.isPointer())return;const n=this.beans;this.destroyDrag();const o=new Gg(Lo(n),e,t),i=l=>this.onMouseOrPointerMove(l),r=l=>this.onMouseOrPointerUp(l),s=Lo(n);this.initDrag(o,[s,"mousemove",i],[s,"mouseup",r]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Mo(t)}onScroll(e){if(!Mo(e))return;const t=this.drag,n=t?.lastDrag;n&&this.dragging&&t.params?.onDragging?.(n)}onMouseOrPointerMove(e){Mo(e)&&(sr()&&_t(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&qi(e),this.onMove(e))}onTouchCancel(e){const t=this.drag;!t||!Mo(e)||Ks(t.start,e.changedTouches)&&this.cancelDrag()}onTouchMove(e){const t=this.drag;if(!t||!Mo(e))return;const n=Ks(t.start,e.touches);n&&(this.onMove(n),this.draggingPreventDefault(e))}onMove(e){const t=this.drag;if(!t)return;t.lastDrag=e;const n=t.params;if(!this.dragging){const o=t.start,r=n.dragStartPixels??4;if(Z0(e,o,r)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=JI(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:n.eElement}),n.onDragStart?.(o),this.drag!==t)||(n.onDragging?.(o),this.drag!==t))return}n.onDragging?.(e)}onTouchUp(e){const t=this.drag;t&&Mo(e)&&this.onUp(Ks(t.start,e.changedTouches))}onMouseOrPointerUp(e){Mo(e)&&this.onUp(e)}onUp(e){const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop?.(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===q.ESCAPE&&this.cancelDrag()}},FS=e=>{Mm(e.handlers);const t=e.oldTouchAction;if(t!=null){const n=e.params.eElement.style;n&&(n.touchAction=t)}},Gg=class{constructor(e,t,n,o=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=o,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},Vg=e=>{const t=e.target;return t instanceof Element?t:null},oA=class extends nA{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},iA=class extends ee{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},rA={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},ku={skipAriaHidden:!0},sA=class extends kt{constructor(e,t,n,o,i,r=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=o,this.dragStartPixels=i,this.alwaysVisible=r,this.dragSource=null,this.disabled=!1}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(rA),this.getGui().appendChild(En("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,rowNode:t}=this,n=this.refreshVisibility.bind(this);this.addManagedListeners(e.eventSvc,{rowDragVisibilityChanged:n}),this.addManagedListeners(t,{dataChanged:n,cellChanged:n}),this.refreshVisibility()}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const{beans:e,column:t,rowNode:n}=this,{gos:o,dragAndDrop:i,rowDragSvc:r}=e,s=r?.visibility;let u=!(s==="suppress"||s==="hidden"&&!i?.hasExternalDropZones()),d=u;if(u&&!this.isCustomGui()&&t){const p=t.getColDef().rowDrag;if(p===!1)u=!1;else{const g=typeof p=="function";d=t.isRowDrag(n),u=g||d}}u&&d&&n.footer&&o.get("rowDragManaged")&&(d=!1,u=!0),d&&(d=u),u||this.setDisplayed(u,ku),d||this.setVisible(d,ku),this.setDisabled(!d||s==="disabled"&&!i?.hasExternalDropZones()),u&&this.setDisplayed(u,ku),d&&this.setVisible(d,ku)}setDisabled(e){e!==this.disabled&&(this.disabled=e,this.getGui()?.classList?.toggle("ag-drag-handle-disabled",e))}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();if(this.gos.get("enableCellTextSelection")){this.removeMouseDownListener();const o=dd("pointerdown")?{pointerdown:qi}:{mousedown:qi};this.mouseDownListener=this.addManagedElementListeners(t,o)[0]}const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:o=>this.getDragItemName(o,n),getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}getDragItemName(e,t){const n=e?.dragItem||this.getDragItem(),o=(e?.dropTarget?.rows.length??n.rowNodes?.length)||1,i=this.column?.getColDef()?.rowDragText??this.gos.get("rowDragText");if(i)return i(n,o);if(o!==1)return`${o} ${t("rowDragRows","rows")}`;const r=this.cellValueFn();return r||`1 ${t("rowDragRow","rows")}`}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},aA=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick??20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const o=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<o.left+i,this.tickRight=e.clientX>o.right-i,this.tickUp=e.clientY<o.top+i&&!n,this.tickDown=e.clientY>o.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Xu=class{constructor(){this.reordered=!1,this.removals=[],this.updates=new Set,this.adds=new Set}},Pd=e=>{let t=e.childrenAfterGroup;for(;t?.length;){const n=t[0];if(n.sourceRowIndex>=0)return n;t=n.childrenAfterGroup}},lA=(e,t,n,o)=>{if(!t.size||!e)return!1;let i=!1;const r=e.length??0;let s=-1;n&&(s=n.sourceRowIndex,n=s<0?Pd(n):null,n&&(s=n.sourceRowIndex)),s<0||s>=r?s=r:o||++s;let l=s,u=Math.min(s,r-1);for(const g of t){const m=g.sourceRowIndex;m<l&&(l=m),m>u&&(u=m)}let d=l;for(let g=l;g<s;++g){const m=e[g];t.has(m)||(m.sourceRowIndex!==d&&(m.sourceRowIndex=d,e[d]=m,i=!0),++d)}let p=u;for(let g=u;g>=s;--g){const m=e[g];t.has(m)||(m.sourceRowIndex!==p&&(m.sourceRowIndex=p,e[p]=m,i=!0),--p)}for(const g of t)g.sourceRowIndex!==d&&(g.sourceRowIndex=d,e[d]=g,i=!0),++d;return i};function cA(e,t){return Jm(e,t.target)?.getFocusedCellPosition()??null}function PS(e,t){const n=en(e.gos,"normal"),o=t;let i,r;o.clientX!=null||o.clientY!=null?(i=o.clientX,r=o.clientY):(i=o.x,r=o.y);const{pageFirstPixel:s}=e.pageBounds.getCurrentPagePixelRange();if(r+=s,n){const l=e.ctrlsSvc.getScrollFeature(),u=l.getVScrollPosition(),d=l.getHScrollPosition();i+=d.left,r+=u.top}return{x:i,y:r}}var Kl=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:o}=e;if(o)for(let i=0;i<o.length;++i)this.depthFirstSearchChangedPath(o[i],t);t(n)}depthFirstSearchEverything(e,t,n){const o=e.childrenAfterGroup;if(o)for(let i=0,r=o.length;i<r;++i){const s=o[i];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,n):n&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const o={rowNode:t,children:null};this.mapToItems[t.id]=o,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(const o of t)this.nodeIdsToColumns[n.id][o.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let o=0;o<t;o++){const i=this.mapToItems[n.id],r=this.mapToItems[n.parent.id];r.children||(r.children=[]),r.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},uA=.25,dA=class extends ee{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.autoScroll=null,this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,t=>{const n=()=>t.gridBodyCtrl.scrollFeature.getVScrollPosition().top,o=new aA({scrollContainer:t.gridBodyCtrl.eBodyViewport,scrollAxis:"y",getVerticalPosition:n,setVerticalPosition:i=>t.gridBodyCtrl.scrollFeature.setVerticalScrollPosition(i),onScrollCallback:()=>{const i=n();if(this.autoScrollOldV!==i){this.autoScrollOldV=i,this.autoScrollChanging=!0;return}const r=this.autoScrollChanging;this.autoScrollChanged=r,this.autoScrollChanging=!1,r&&(e.dragAndDrop?.nudge(),this.autoScrollChanged=!1)}});this.autoScroll=o,this.clearAutoScroll()})}destroy(){super.destroy(),this.clearAutoScroll(),this.autoScroll=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.beans.rowDragSvc.visibility!=="visible"?"notAllowed":"move"}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=this.beans.selectionSvc?.getSelectedNodes();if(n&&n.indexOf(t)>=0)return n.slice().sort(hA)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){const{lastDraggingEvent:n,beans:o}=this;if(t){const l=this.getRowNodes(e);e.dragItem.rowNodes=l,DS(l,!0)}this.lastDraggingEvent=e;const i=e.fromNudge,r=this.makeRowsDrop(n,e,i,!1);o.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e);const s=this.autoScroll;r?.rowDragManaged&&r.moved&&r.allowed&&r.sameGrid&&!r.suppressMoveWhenRowDragging&&(!i&&!s?.scrolling||this.autoScrollChanged)&&this.dropRows(r),s?.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,o){const{beans:i,gos:r}=this,s=this.newRowsDrop(t,o),l=i.rowModel;if(t.dropTarget=s,t.changed=!1,!s)return null;let{sameGrid:u,rootNode:d,source:p,target:g}=s;g??(g=l.getRow(l.getRowCount()-1)??null);const m=this.beans.groupEditSvc,C=!!m?.canSetParent(s);let w=null;if(g?.footer){const R=kf(l,-1,g)??kf(l,1,g);C&&(w=g.sibling??d),g=R??null}g?.detail&&(g=g.parent),s.moved&&(s.moved=p!==g);let y=.5;if(g&&(u&&s.moved&&(w||!C)?y=p.rowIndex>g.rowIndex?-.5:.5:y=(s.y-g.rowTop-g.rowHeight/2)/g.rowHeight||0),!C&&u&&g&&s.moved&&Nt(r)){const R=pA(l,s);R&&(y=p.rowIndex>R.rowIndex?-.5:.5,g=R,s.moved&&(s.moved=p!==g))}return s.target=g,s.newParent=w,s.pointerPos=gA(g,s.y),s.yDelta=y,m?.fixRowsDrop(s,C,n,y),this.validateRowsDrop(s,C,o),t.changed||(t.changed=ES(e?.dropTarget,s)),s}newRowsDrop(e,t){const{beans:n,gos:o}=this,i=n.rowModel.rootNode,r=Nt(o)?o.get("rowDragManaged"):!1,s=o.get("suppressMoveWhenRowDragging"),l=this.isFromThisGrid(e);let{rowNode:u,rowNodes:d}=e.dragItem;if(d||(d=u?[u]:[]),u||(u=d[0]),!u||!i)return null;const p=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let g=!0;r&&(!d.length||n.rowDragSvc.visibility!=="visible"||(s||!l)&&!p)&&(g=!1);const m=PS(n,e).y,C=this.getOverNode(m);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:r,suppressMoveWhenRowDragging:s,sameGrid:l,withinGrid:p,treeData:!1,rootNode:i,moved:u!==C,y:m,overNode:C,overIndex:C?.rowIndex??-1,pointerPos:"none",position:"none",source:u,target:C??null,newParent:null,rows:d,allowed:g,highlight:!t&&r&&s&&(p||!l),yDelta:0,inside:!1,droppedManaged:!1}}validateRowsDrop(e,t,n){const{source:o,target:i,yDelta:r,inside:s,moved:l,rowDragManaged:u,suppressMoveWhenRowDragging:d}=e;e.moved&&(e.moved=o!==i);const{position:p,fallbackPosition:g}=this.computeDropPosition(l,s,r);e.position=p,t||(e.newParent=null),this.enforceSuppressMoveWhenRowDragging(e,d,"initial");const m=(!u||e.allowed)&&this.gos.get("isRowValidDropPosition");m&&this.applyDropValidator(e,t,n,u,m),u&&(e.rows=this.filterRows(e)),this.beans.groupEditSvc?.clearNewSameParent(e,t),this.enforceSuppressMoveWhenRowDragging(e,d,"final"),e.position==="inside"&&(!e.allowed||!e.newParent)&&(e.position=g)}computeDropPosition(e,t,n){const o=n<0?"above":"below";return e?{position:t?"inside":o,fallbackPosition:o}:{position:"none",fallbackPosition:o}}enforceSuppressMoveWhenRowDragging(e,t,n){if(t){if(n==="initial"){e.moved||(e.allowed=!1);return}(!e.rows.length||e.position==="none")&&(e.allowed=!1)}}applyDropValidator(e,t,n,o,i){this.beans.groupEditSvc?.clearNewSameParent(e,t);const r=i(e);if(!r){e.allowed=!1;return}if(typeof r!="object")return;r.rows!==void 0&&(e.rows=r.rows??[]),t&&r.newParent!==void 0&&(e.newParent=r.newParent),r.target!==void 0&&(e.target=r.target),r.position&&(e.position=r.position),r.allowed!==void 0?e.allowed=r.allowed:o||(e.allowed=!0);const s=e.draggingEvent;r.changed&&s&&(s.changed=!0),!n&&r.highlight!==void 0&&(e.highlight=r.highlight)}addRowDropZone(e){if(!e.getContainer()){oe(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){oe(56);return}const n=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(i=>e.onDragEnter(this.rowDragEvent("rowDragEnter",i))),onDragLeave:e.onDragLeave&&(i=>e.onDragLeave(this.rowDragEvent("rowDragLeave",i))),onDragging:e.onDragging&&(i=>e.onDragging(this.rowDragEvent("rowDragMove",i))),onDragStop:e.onDragStop&&(i=>e.onDragStop(this.rowDragEvent("rowDragEnd",i))),onDragCancel:e.onDragCancel&&(i=>e.onDragCancel(this.rowDragEvent("rowDragCancel",i)))},o={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(o),this.addDestroyFunc(()=>t.removeDropTarget(o))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:n=>{this.onDragEnter(n),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",n))},onDragLeave:n=>{this.onDragLeave(n),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",n))},onDragging:n=>{this.onDragging(n),e?.onDragging?.(this.rowDragEvent("rowDragMove",n))},onDragStop:n=>{this.onDragStop(n),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",n))},onDragCancel:n=>{this.onDragCancel(n),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",n))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:n}=this.beans,i=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return i>=0?n.getRow(i):void 0}rowDragEvent(e,t){const n=this.beans,{dragItem:o,dropTarget:i,event:r,vDirection:s}=t,l=i?.rootNode===n.rowModel.rootNode,u=l?i.y:PS(n,t).y,d=l?i.overNode:this.getOverNode(u),p=l?i.overIndex:d?.rowIndex??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:r,node:o.rowNode,nodes:o.rowNodes,overIndex:p,overNode:d,y:u,vDirection:s,rowsDrop:i}}dispatchGridEvent(e,t){const n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e,!1)}onDragStop(e){const t=this.lastDraggingEvent?.dropTarget??null,n=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),n?.allowed&&n.rowDragManaged&&(!t?.droppedManaged||ES(t,n))&&this.dropRows(n),this.stopDragging(e,!0)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e,!0)}stopDragging(e,t){this.clearAutoScroll(),this.beans.groupEditSvc?.stopDragging(t),this.beans.rowDropHighlightSvc?.fromDrag(null),DS(e.dragItem.rowNodes,!1),this.lastDraggingEvent=null}clearAutoScroll(){this.autoScroll?.ensureCleared(),this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}dropRows(e){return e.droppedManaged=!0,e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){const o=la(this.gos),i=this.beans.rowModel,r=n.filter(({data:l,rowPinned:u})=>!i.getRowNode(o?.({data:l,level:0,rowPinned:u})??l.id)).map(({data:l})=>l);if(r.length===0)return!1;let s;if(t){const l=t.sourceRowIndex>=0?t:Pd(t);l&&(s=l.sourceRowIndex+(e==="above"?0:1))}return i.updateRowData({add:r,addIndex:s}),!0}filterRows(e){const{groupEditSvc:t}=this.beans,{rows:n,sameGrid:o}=e;let i;for(let r=0,s=n.length;r<s;++r){let l=!0;const u=n[r];(!u||u.footer||o&&u.destroyed&&!u.group||!this.csrmGetLeaf(u))&&(l=!1),l&&t&&!t.canDropRow(u,e)&&(l=!1),l?i?.push(u):i??(i=n.slice(0,r))}return i??n}csrmMoveRows(e){const t=this.beans.groupEditSvc;return t?.isGroupingDrop(e)?t.dropGroupEdit(e):this.csrmMoveRowsReorder(e)}csrmMoveRowsReorder({position:e,target:t,rows:n,newParent:o,rootNode:i}){let r=!1;const s=new Set;for(const m of n){o&&m.parent!==o&&(m.treeParent=o,r=!0);const C=this.csrmGetLeaf(m);C&&s.add(C)}if(!r&&s.size===0)return!1;const l=this.beans.focusSvc,u=l.getFocusedCell(),d=u&&zs(this.beans,u);if(s.size&&lA(i._leafs,s,t,e==="above")&&(r=!0),!r)return!1;const p=this.beans.rowModel,g=new Xu;return g.reordered=!0,p.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Kl(!1,i),changedRowNodes:g}),d?d.focusCell():l.clearFocusedCell(),!0}csrmGetLeaf(e){if(e.sourceRowIndex>=0)return e.destroyed?void 0:e;const t=this.beans.groupEditSvc;return t?t.csrmFirstLeaf(e):Pd(e)}},ES=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!ir(e.rows,t.rows)),hA=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,DS=(e,t)=>{for(let n=0,o=e?.length||0;n<o;++n){const i=e[n];i.dragging!==t&&(i.dragging=t,i.dispatchRowEvent("draggingChanged"))}},pA=(e,t)=>{let n=null,o=t.target;if(o&&t.rows.indexOf(o)<0)return null;const i=t.source;if(!o||!i)return null;let r=o.rowIndex-i.rowIndex;const s=r<0?-1:1;r=t.suppressMoveWhenRowDragging?Math.abs(r):1;const l=new Set(t.rows);do{const u=kf(e,s,o);if(!u)break;l.has(u)||(n=u,--r),o=u}while(r>0);return n},gA=(e,t)=>{const n=e?.rowTop,o=e?.rowHeight??0;if(n==null||!o||o<=0)return"none";const i=t-n,r=o*uA;return i<=r?"above":i>=o-r?"below":"inside"},fA=class extends ee{constructor(){super(...arguments),this.beanName="rowDragSvc",this.rowDragFeature=null,this.visibility="suppress"}setupRowDrag(e,t){const n=t.createManagedBean(new dA(e)),o=this.beans.dragAndDrop;o.addDropTarget(n),t.addDestroyFunc(()=>o.removeDropTarget(n)),this.rowDragFeature=n;const i=()=>this.refreshVisibility();this.addManagedPropertyListeners(["rowDragManaged","suppressRowDrag","refreshAfterGroupEdit"],i),this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:i,columnPivotModeChanged:i,sortChanged:i,filterChanged:i}),this.visibility=this.computeVisibility()}createRowDragComp(e,t,n,o,i,r){return new sA(e,t,n,o,i,r)}createRowDragCompForRow(e,t){if(er(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,o,i,r){const s=this.gos;return s.get("rowDragManaged")&&(!Nt(s)||s.get("pagination"))?void 0:this.createRowDragComp(n,e,t,o,i,r)}cancelRowDrag(){this.rowDragFeature?.lastDraggingEvent&&this.beans.dragSvc?.cancelDrag()}computeVisibility(){const e=this.beans,t=e.gos;if(t.get("suppressRowDrag"))return"suppress";if(!t.get("rowDragManaged"))return"visible";const o=e.colModel.isPivotMode();return(o||e.rowGroupColsSvc?.columns?.length)&&!t.get("refreshAfterGroupEdit")?"hidden":o||e.filterManager?.isAnyFilterPresent()||e.sortSvc?.isSortActive()?"disabled":"visible"}refreshVisibility(){const e=this.visibility,t=this.computeVisibility();e!==t&&(this.visibility=t,this.eventSvc?.dispatchEvent({type:"rowDragVisibilityChanged"}))}},mA=class extends ee{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,o=e.uiLevel,i=t!==this.position,r=o!==this.uiLevel;this.dragging=!1,(n||i||r)&&(n&&this.clear(),this.uiLevel=o,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e?.dropTarget;if(t){const{highlight:n,target:o,position:i}=t;if(n&&o&&i!=="none"){this.set(o,i),this.dragging=!0;return}}this.dragging&&this.clear()}},yx={moduleName:"Drag",version:ue,beans:[oA]},CA={moduleName:"DragAndDrop",version:ue,dynamicBeans:{dndSourceComp:KI},icons:{rowDrag:"grip"}},Sx={moduleName:"SharedDragAndDrop",version:ue,beans:[NM],dependsOn:[yx],userComponents:{agDragAndDropImage:iM},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},vA={moduleName:"RowDrag",version:ue,beans:[mA,fA],apiFunctions:{addRowDropZone:qI,removeRowDropZone:YI,getRowDropZoneParams:QI,getRowDropPositionIndicator:XI,setRowDropPositionIndicator:ZI},dependsOn:[Sx]},wA={moduleName:"HorizontalResize",version:ue,beans:[iA],dependsOn:[yx]},yA=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",SA=class extends ee{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:o}=this;if(n.length===0&&o.length===0){e(),t();return}const i=r=>{for(;r.length;){const s=r.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(o)},200)})}};function bA(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function RA(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var xA=class extends ee{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const n of t)n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:o}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&o?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function FA(e,t){!t||t.length<=1||t.filter(o=>e.indexOf(o)<0).length>0||t.sort((o,i)=>{const r=e.indexOf(o),s=e.indexOf(i);return r-s})}function PA(e){const t=[...e];for(const n of e){let o=null,i=n.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)o=i,i=i.getParent();if(o!=null){const s=!!o.getColGroupDef()?.marryChildren?o.getProvidedColumnGroup().getLeafColumns():o.getLeafColumns();for(const l of s)t.includes(l)||t.push(l)}}return t}function EA(e,t,n,o){const i=o.allCols;let r=null,s=null;for(let l=0;l<e.length;l++){const u=e[l],d=n.getProposedColumnOrder(t,u);if(!n.doesOrderPassRules(d))continue;const p=d.filter(m=>i.includes(m));if(s===null)s=p;else if(!ir(p,s))break;const g=TA(d);(r===null||g<r.fragCount)&&(r={move:u,fragCount:g})}return r}function bx(e){const{isFromHeader:t,fromLeft:n,xPosition:o,fromEnter:i,fakeEvent:r,pinned:s,gos:l,colModel:u,colMoves:d,visibleCols:p}=e;let{allMovingColumns:g}=e;t&&(g=PA(g));const m=g.slice();FA(u.getCols(),m);const C=kA({movingCols:m,draggingRight:n,xPosition:o,pinned:s,gos:l,colModel:u,visibleCols:p}),w=DA(m,u);if(C.length===0)return;const y=C[0];if(w!==null&&(t||!i)&&!r&&(!n&&y>=w||n&&y<=w))return;const x=EA(C,m,d,p);if(!x)return;const E=x.move;if(!(E>u.getCols().length-m.length))return{columns:m,toIndex:E}}function Rx(e){const{columns:t,toIndex:n}=bx(e)||{},{finished:o,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",o),o?null:{columns:t,toIndex:n})}function DA(e,t){const n=t.getCols(),o=e.map(u=>n.indexOf(u)).sort((u,d)=>u-d),i=o[0];return pt(o)-i!==o.length-1?null:i}function TA(e){function t(o){const i=[];let r=o.getOriginalParent();for(;r!=null;)i.push(r),r=r.getOriginalParent();return i}let n=0;for(let o=0;o<e.length-1;o++){let i=t(e[o]),r=t(e[o+1]);[i,r]=i.length>r.length?[i,r]:[r,i];for(const s of i)r.indexOf(s)===-1&&n++}return n}function MA(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function kA(e){const{movingCols:t,draggingRight:n,xPosition:o,pinned:i,gos:r,colModel:s,visibleCols:l}=e;if(r.get("suppressMovableColumns")||t.some(P=>P.getColDef().suppressMovable))return[];const d=MA(l,i),p=s.getCols(),g=d.filter(P=>t.includes(P)),m=d.filter(P=>!t.includes(P)),C=p.filter(P=>!t.includes(P));let w=0,y=o;if(n){let P=0;for(const M of g)P+=M.getActualWidth();y-=P}if(y>0){for(let P=0;P<m.length;P++){const M=m[P];if(y-=M.getActualWidth(),y<0)break;w++}n&&w++}let R;if(w>0){const P=m[w-1];R=C.indexOf(P)+1}else R=C.indexOf(m[0]),R===-1&&(R=0);const x=[R],E=(P,M)=>P-M;if(n){let P=R+1;const M=p.length-1;for(;P<=M;)x.push(P),P++;x.sort(E)}else{let P=R;const M=p.length-1;let T=p[P];for(;P<=M&&d.indexOf(T)<0;)P++,x.push(P),T=p[P];P=R-1;const k=0;for(;P>=k;)x.push(P),P--;x.sort(E).reverse()}return x}function Of(e){const{pinned:t,fromKeyboard:n,gos:o,ctrlsSvc:i,useHeaderRow:r,skipScrollPadding:s}=e;let l=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:u}=e;return l?(n&&(u-=l.getBoundingClientRect().left),o.get("enableRtl")&&(r&&(l=l.querySelector(".ag-header-row")),u=l.clientWidth-u),t==null&&!s&&(u+=i.get("center").getCenterViewportScrollLeft()),u):0}function Wg(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var TS=7,Nf=100,Iu=Nf/2,IA=5,AA=100,LA=class extends ee{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!de(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},o=n?.columns??[];for(const i of o){const r=i.getPinned();if(i.getColDef().lockPinned){if(r==e)return"move";continue}const s=n?.containerType;if(s===e||!e)return"move";if(e&&(!r||s!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,r=(n||[]).filter(s=>i[s.getId()]&&!s.isVisible());this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,o=!1){const{gos:i,ctrlsSvc:r}=this.beans,s=i.get("suppressMoveWhenColumnDragging");if(o&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!o&&Pt(e.hDirection))return;const l=Of({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:r});t||this.checkCenterForScrolling(l),s?this.handleColumnDragWhileSuppressingMovement(e,t,n,l,o):this.handleColumnDragWhileAllowingMovement(e,t,n,l,o)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const o=e.filter(i=>!i.getColDef().lockVisible);o.length&&this.beans.colModel.setColsVisible(o,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,o,i){const r=this.getAllMovingColumns(e,!0);if(i){const s=this.isAttemptingToPin(r);s&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:l,xPosition:u}=this.getNormalisedXPositionInfo(r,s)||{};if(l==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:u,fromEnter:t,fakeEvent:n,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,o)}}handleColumnDragWhileAllowingMovement(e,t,n,o,i){const r=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:l,xPosition:o,fromLeft:s,fromEnter:t,fakeEvent:n}),d=Rx({...u,finished:i});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let o=null;t?(o=n.columnsInSplit,o||(o=n.columns)):o=n.columns;const i=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return o?o.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:o,fromLeft:i,fromEnter:r,fakeEvent:s}=e,{gos:l,colModel:u,colMoves:d,visibleCols:p}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:o,pinned:this.pinned,fromEnter:r,fakeEvent:s,gos:l,colModel:u,colMoves:d,visibleCols:p}}highlightHoveredColumn(e,t){const{gos:n,colModel:o}=this.beans,i=n.get("enableRtl"),r=o.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let s=null,l=null,u=null;for(const p of r){if(l=p.getActualWidth(),s=this.getNormalisedColumnLeft(p,0,i),s!=null){const g=s+l;if(s<=t&&g>=t){u=p;break}}s=null,l=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let p=r.length-1;p>=0;p--){const g=r[p],m=r[p].getParent();if(!m){u=g;break}const C=m?.getDisplayedLeafColumns();if(C.length){u=pt(C);break}}if(!u)return;s=this.getNormalisedColumnLeft(u,0,i),l=u.getActualWidth()}if(u==null||s==null||l==null){this.lastHighlightedColumn?.column!==u&&this.clearHighlighted();return}let d;if(t-s<l/2){const p=r.indexOf(u);p===0?d=0:(d=1,u=r[p-1])}else d=1;(this.lastHighlightedColumn?.column!==u||this.lastHighlightedColumn?.position!==d)&&this.clearHighlighted(),MS(u,d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:o}=this.beans,i=n.get("enableRtl"),{firstMovingCol:r,column:s,position:l}=this.getColumnMoveAndTargetInfo(e,t,i);if(!r||!s||l==null)return;const u=o.allCols,d=u.indexOf(r),p=u.indexOf(s),g=l===0,m=d<p||d===p&&!g;let C=0;if(g?m&&(C-=1):m||(C+=1),p+C===d)return;const w=u[p+C];if(!w)return;const y=this.getNormalisedColumnLeft(w,20,i);return{fromLeft:m,xPosition:y}}getColumnMoveAndTargetInfo(e,t,n){const o=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:r}=OA(e);if(!i||!r||o.column||!t)return{firstMovingCol:i,...o};const l=this.getPinDirection()==="left";return{firstMovingCol:i,position:l?1:0,column:l!==n?i:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:o,ctrlsSvc:i}=this.beans,r=e.getLeft();if(r==null)return null;const s=e.getActualWidth();return Of({x:n?r+s-t:r+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:o,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>TS;return t&&n||e.some(o=>o.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:o,fakeEvent:i,fromLeft:r}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:r,fromEnter:o,fakeEvent:i}),{columns:l,toIndex:u}=bx(s)||{};l&&u!=null&&(this.lastMovedInfo={columns:l,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(MS(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),o=n+t.getCenterWidth();let i,r;this.gos.get("enableRtl")?(i=e<n+Iu,r=e>o-Iu):(r=e<n+Iu,i=e>o-Iu),this.needToMoveRight=i,this.needToMoveLeft=r,r||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),AA),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*IA,e>Nf&&(e=Nf);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:o,dragAndDrop:i,gos:r}=this.beans;if(this.failedMoveAttempts<=TS+1||!o)return;if(i.setDragImageCompIcon("pinned"),!r.get("suppressMoveWhenColumnDragging")){const s=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const o=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!o.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:r}=this.beans;return i?.setColsPinned(o,t,"uiColumnDragged"),n&&r.nudge(),o.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function MS(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function OA(e){const t=e.length;let n,o;for(let i=0;i<t;i++){if(!n){const r=e[i];r.getLeft()!=null&&(n=r)}if(!o){const r=e[t-1-i];r.getLeft()!=null&&(o=r)}if(n&&o)break}return{firstMovingCol:n,lastMovingCol:o}}var NA=class extends ee{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,o=>{let i;const r=o.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[r,o.left.eContainer],[o.bottomLeft.eContainer],[o.topLeft.eContainer]];break;case"right":i=[[r,o.right.eContainer],[o.bottomRight.eContainer],[o.topRight.eContainer]];break;default:i=[[r,o.center.eViewport],[o.bottomCenter.eViewport],[o.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new LA(n)),this.bodyDropPivotTarget=this.createManagedBean(new xA(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},BA=class extends ee{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const o=this.beans.colModel.getCols();if(!o)return;const i=o[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,o=!0){const{colModel:i,colAnimation:r,visibleCols:s,eventSvc:l}=this.beans,u=i.getCols();if(!u)return;if(t>u.length-e.length){oe(30,{toIndex:t});return}r?.start();const d=i.getColsForKeys(e);this.doesMovePassRules(d,t)&&(Qy(i.getCols(),d,t),s.refresh(n),l.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:o,source:n})),r?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!MR(e,t.getColTree())||!(i=>{const r=d=>d?d==="left"||d===!0?-1:1:0,s=n.get("enableRtl");let l=s?1:-1,u=!0;for(const d of i){const p=r(d.getColDef().lockPosition);s?p>l&&(u=!1):p<l&&(u=!1),l=p}return u})(e))}getProposedColumnOrder(e,t){const o=this.beans.colModel.getCols().slice();return Qy(o,e,t),o}createBodyDropTarget(e,t){return new NA(e,t)}moveHeader(e,t,n,o,i){const{ctrlsSvc:r,gos:s,colModel:l,visibleCols:u,focusSvc:d}=this.beans,p=t.getBoundingClientRect(),g=p.left,m=Ot(n),C=m?p.width:n.getActualWidth(),w=e==="left"!==s.get("enableRtl"),y=Of({x:w?g-20:g+C+20,pinned:o,fromKeyboard:!0,gos:s,ctrlsSvc:r}),R=d.focusedHeader;Rx({allMovingColumns:m?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:y,pinned:o,fromEnter:!1,fakeEvent:!1,gos:s,colModel:l,colMoves:this,visibleCols:u,finished:!0});let x;if(m){const E=n.getDisplayedLeafColumns();x=w?E[0]:pt(E)}else x=n;if(r.getScrollFeature().ensureColumnVisible(x,"auto"),(!i.isAlive()||s.get("ensureDomOrder"))&&R){let E;if(m){const P=n.getGroupId(),M=n.getLeafColumns();if(!M.length)return;const T=M[0].getParent();if(!T)return;E=HA(T,P)}else E=n;E&&d.focusHeaderPosition({headerPosition:{...R,column:E}})}}setDragSourceForHeader(e,t,n){const{gos:o,colModel:i,dragAndDrop:r,visibleCols:s}=this.beans;let l=!o.get("suppressDragLeaveHidesColumns");const u=Ot(t),d=u?t.getProvidedColumnGroup().getLeafColumns():[t],g={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:u?()=>VA(t,s.allCols):()=>GA(t),dragItemName:n,onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),Wg(d,!0)},onDragStopped:()=>Wg(d,!1),onDragCancelled:()=>Wg(d,!1),onGridEnter:m=>{if(l){const{columns:C=[],visibleState:w}=m??{},y=u?x=>!w||w[x.getColId()]:()=>!0,R=C.filter(x=>!x.getColDef().lockVisible&&y(x));i.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:m=>{if(l){const C=m?.columns?.filter(w=>!w.getColDef().lockVisible)||[];i.setColsVisible(C,!1,"uiColumnMoved")}}};return r.addDragSource(g,!0),g}};function HA(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function GA(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function VA(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),o={};for(const l of n)o[l.getId()]=l.isVisible();const i=[];for(const l of t)n.indexOf(l)>=0&&(i.push(l),Uo(n,l));for(const l of n)i.push(l);const r=[],s=e.getLeafColumns();for(const l of i)s.indexOf(l)!==-1&&r.push(l);return{columns:i,columnsInSplit:r,visibleState:o,containerType:r[0]?.pinned}}var WA={moduleName:"ColumnMove",version:ue,beans:[BA,SA],apiFunctions:{moveColumnByIndex:bA,moveColumns:RA},dependsOn:[Sx],css:[yA]},zA=class extends ee{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const o=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||o.push(n),this.getPreferredWidthForElements(o)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const o=this.centerRowContainerCtrl.eContainer;for(const r of e)this.cloneItemIntoDummy(r,n);o.appendChild(n);const i=Math.ceil(n.getBoundingClientRect().width);return n.remove(),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;for(const n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const o=n.getHtmlElementForColumnHeader(e);o!=null&&(t=o)}return t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const o=document.createElement("div"),i=o.classList;["ag-header-cell","ag-header-group-cell"].some(l=>n.classList.contains(l))?(i.add("ag-header","ag-header-row"),o.style.position="static"):i.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(u=>s.classList.contains(u))){for(let u=0;u<s.classList.length;u++){const d=s.classList[u];d!="ag-row-position-absolute"&&i.add(d)}break}s=s.parentElement}o.appendChild(n),t.appendChild(o)}},xx={moduleName:"AutoWidth",version:ue,beans:[zA]};function _A(e,t,n=!0,o="api"){e.colResize?.setColumnWidths(t,!1,n,o)}var $A=class extends ee{constructor(e,t,n,o){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=o}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,o=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(o),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:i,groupAfterStartWidth:r,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=o,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const o=this.normaliseDragChange(t),i=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=u=>u.reduce((d,p)=>d+p.getActualWidth(),0),n=(u,d)=>u.map(p=>p.getActualWidth()/d),o=this.getColumnsToResize(),i=t(o),r=n(o,i),s={columnsToResize:o,resizeStartWidth:i,resizeRatios:r};let l=null;if(e&&(l=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),l){const u=l.getDisplayedLeafColumns(),d=s.groupAfterColumns=u.filter(g=>g.isResizable()),p=s.groupAfterStartWidth=t(d);s.groupAfterRatios=n(d,p)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(o,e,t,n)}resizeColumns(e,t,n,o=!0){const{columnsToResize:i,resizeStartWidth:r,resizeRatios:s,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:d}=e,p=[];if(p.push({columns:i,ratios:s,width:t}),l){const g=t-r;p.push({columns:l,ratios:d,width:u-g})}this.beans.colResize?.resizeColumnSets({resizeSets:p,finished:o,source:n}),o&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},UA=class extends ee{constructor(e,t,n,o,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=o,this.ctrl=i}postConstruct(){const e=[];let t,n;const o=()=>{if(ht(this.eResize,t),!t)return;const{horizontalResizeSvc:s,colAutosize:l}=this.beans,u=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(u),n&&l&&e.push(l.addColumnAutosizeListeners(this.eResize,this.column))},i=()=>{for(const s of e)s();e.length=0},r=()=>{const s=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||l!==n)&&(t=s,n=l,i(),o())};r(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:n,lastResizeAmount:o,resizeStartWidth:i,beans:r}=this,s=this.normaliseResizeAmount(t),l=i+s,u=[{key:n,newWidth:l}],{pinnedCols:d,ctrlsSvc:p,colResize:g}=r;if(this.column.getPinned()){const m=d?.leftWidth??0,C=d?.rightWidth??0,w=Wl(p.getGridBodyCtrl().eBodyViewport)-50;if(m+C+(s-o)>w)return}this.lastResizeAmount=s,g?.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",o=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):o&&(t*=-1),t}},jA=class extends ee{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,o){const i=[],{colModel:r,gos:s,visibleCols:l}=this.beans;for(const u of e){const d=r.getColDefCol(u.key)||r.getCol(u.key);if(!d)continue;if(i.push({width:u.newWidth,ratios:[1],columns:[d]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){const g=l.getColAfter(d);if(!g)continue;const m=d.getActualWidth()-u.newWidth,C=g.getActualWidth()+m;i.push({width:C,ratios:[1],columns:[g]})}}i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:o})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:o}=e;if(!(!t||t.every(p=>KA(p)))){if(n){const p=t&&t.length>0?t[0].columns:null;ca(this.eventSvc,p,n,o)}return}const r=[],s=[];for(const p of t){const{width:g,columns:m,ratios:C}=p,w={},y={};for(const E of m)s.push(E);let R=!0,x=0;for(;R;){if(x++,x>1e3){et(31);break}R=!1;const E=[];let P=0,M=g;m.forEach((k,I)=>{if(y[k.getId()])M-=w[k.getId()];else{E.push(k);const _=C[I];P+=_}});const T=1/P;E.forEach((k,I)=>{const z=I===E.length-1;let _;z?_=M:(_=Math.round(C[I]*g*T),M-=_);const $=k.getMinWidth(),V=k.getMaxWidth();_<$?(_=$,y[k.getId()]=!0,R=!0):V>0&&_>V&&(_=V,y[k.getId()]=!0,R=!0),w[k.getId()]=_})}for(const E of m){const P=w[E.getId()];E.getActualWidth()!==P&&(E.setActualWidth(P,o),r.push(E))}}const l=r.length>0;let u=[];if(l){const{colFlex:p,visibleCols:g,colViewport:m}=this.beans;u=p?.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0})??[],g.setLeftValues(o),g.updateBodyWidths(),m.checkViewportColumns()}const d=s.concat(u);(l||n)&&ca(this.eventSvc,d,n,o,u)}resizeHeader(e,t,n){if(!e.isResizable())return;const o=e.getActualWidth(),i=e.getMinWidth(),r=e.getMaxWidth(),s=Math.min(Math.max(o+t,i),r);this.setColumnWidths([{key:e,newWidth:s}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,o,i){return new UA(e,t,n,o,i)}createGroupResizeFeature(e,t,n,o){return new $A(e,t,n,o)}};function KA(e){const{columns:t,width:n}=e;let o=0,i=0,r=!0;for(const u of t){const d=u.getMinWidth();o+=d||0;const p=u.getMaxWidth();p>0?i+=p:r=!1}const s=n>=o,l=!r||n<=i;return s&&l}var qA={moduleName:"ColumnResize",version:ue,beans:[jA],apiFunctions:{setColumnWidths:_A},dependsOn:[wA,xx]},YA=class extends ee{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},QA=class extends jm{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,o,i){const{column:r,beans:s}=this,{context:l,colNames:u,colHover:d,rangeSvc:p,colResize:g}=s;this.comp=e,i=oc(this,l,i),this.setGui(t,i),this.displayName=u.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.refreshAnnouncement(),this.setupAutoHeight({wrapperElement:o,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i,o),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,C=r.getProvidedColumnGroup().getLeafColumns();d?.createHoverFeature(i,C,t),p?.createRangeHighlightFeature(i,r,e),i.createManagedBean(new Um(r,t,s)),i.createManagedBean(new YA(e,r)),g?this.resizeFeature=i.createManagedBean(g.createGroupResizeFeature(e,n,m,r)):e.setResizableDisplayed(!1),i.createManagedBean(new tc(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,C),this.addManagedEventListeners({cellSelectionChanged:()=>this.refreshAnnouncement()}),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return ke(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,o=pt(t)===e;if(!n&&!o)return;const i=e.getHighlighted(),r=!!this.rowCtrl.getHeaderCellCtrls().find(u=>u.column.isMoving());let s=!1,l=!1;if(r){const u=this.beans.gos.get("enableRtl"),d=i===1,p=i===0;n&&(u?l=d:s=p),o&&(u?s=p:l=d)}this.comp.toggleCss("ag-header-highlight-before",s),this.comp.toggleCss("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const o=n.getInitialValues(t);n.resizeColumns(o,o.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:o}=this.beans,i=this.column,r=i.getProvidedColumnGroup(),s=ke(n,{displayName:this.displayName,columnGroup:i,setExpanded:u=>{e.setColumnGroupOpened(r,u,"gridInitializing")},setTooltip:(u,d)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(u,d)},showColumnMenu:(u,d)=>o?.showMenuAfterButtonClick(r,u,"columnMenu",d),showColumnMenuAfterMouseClick:(u,d)=>o?.showMenuAfterMouseEvent(r,u,"columnMenu",d),eGridHeader:this.eGui}),l=PM(t,s);l&&this.comp.setUserCompDetails(l)}addHeaderMouseListeners(e,t){const{column:n,comp:o,beans:{rangeSvc:i},gos:r}=this,s=p=>this.handleMouseOverChange(p.type==="mouseenter"),l=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",n.getProvidedColumnGroup()),u=p=>this.handleContextMenuMouseEvent(p,void 0,n.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:s,mouseleave:s,click:l,contextmenu:u}),o.toggleCss("ag-header-group-cell-selectable",Zs(r));const d=i?.createHeaderGroupCellMouseListenerFeature(this.column,t);d&&this.createManagedBean(d)}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=ex(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text"));for(const o of n)this.comp.toggleCss(o,!0)}setupMovingCss(e){const{column:t}=this,o=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const r of o)e.addManagedListeners(r,{movingChanged:i});i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription())}handleKeyDown(e){if(super.handleKeyDown(e),!this.getWrapperHasFocus())return;const{column:n,expandable:o,gos:i,beans:r}=this,s=Zs(i);if(e.key==q.ENTER){if(s&&!e.altKey)r.rangeSvc?.handleColumnSelection(n,e);else if(o){const l=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),l,"uiColumnExpanded")}}}refreshAnnouncement(){let e;const{gos:t,column:n,beans:o}=this;if(Zs(t)){const r=this.getLocaleTextFunc(),s=o.rangeSvc?.isColumnInAnyRange(n);e=r("ariaColumnCellSelection",`Press CTRL+SPACE to ${s?"de":""}select all visible cells in this column group`)}this.ariaAnnouncement=e}announceAriaDescription(){const{beans:e,eGui:t,ariaAnnouncement:n}=this;!n||!t.contains(St(e))||e.ariaAnnounce?.announceValue(n,"columnHeader")}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function XA(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function ZA(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function JA(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function eL(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function tL(e){return e.colGroupSvc?.getColumnGroupState()??[]}function nL(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function oL(e){e.colGroupSvc?.resetColumnGroupState("api")}function iL(e){return e.visibleCols.treeLeft}function rL(e){return e.visibleCols.treeCenter}function sL(e){return e.visibleCols.treeRight}function aL(e){return e.visibleCols.getAllTrees()}var Fx=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};function lL(e,t){for(let n=0;n<t.length;n++){const o=e.indexOf(t[n]);o>=0&&(e[o]=e[e.length-1],e.pop())}}var cL=class extends ee{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:o,colGroupSvc:i,colViewport:r,selectionColSvc:s}=this.beans;t||this.buildTrees(o,i),i?.updateOpenClosedVisibility(),this.leftCols=zg(this.treeLeft),this.centerCols=zg(this.treeCenter),this.rightCols=zg(this.treeRight),s?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(o),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(o,this.leftCols,this.rightCols,e),r.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const o=n.getProvidedColumnGroup().getLevel()+1;o>e&&(e=o);break}n=n.getParent()}}return e}updateBodyWidths(){const e=li(this.centerCols),t=li(this.leftCols),n=li(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,o){let i,r;this.gos.get("enableRtl")?(i=t?t[0]:null,r=n?pt(n):null):(i=t?pt(t):null,r=n?n[0]:null);for(const s of e.getCols())s.setLastLeftPinned(s===i,o),s.setFirstRightPinned(s===r,o)}buildTrees(e,t){const n=e.getColsToShow(),o=n.filter(u=>u.getPinned()=="left"),i=n.filter(u=>u.getPinned()=="right"),r=n.filter(u=>u.getPinned()!="left"&&u.getPinned()!="right"),s=new Fx,l=u=>t?t.createColumnGroups(u):u.columns;this.treeLeft=l({columns:o,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:i,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:r,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],o=[],i=[];for(const r of t){const s=r.getPinned();s?s===!0||s==="left"?n.push(r):i.push(r):o.push(r)}this.ariaOrderColumns=n.concat(o).concat(i)}getAriaColIndex(e){let t;return Ot(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)Ot(t)&&t.checkLeft()}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const o=t.getCols().slice(0),i=this.gos.get("enableRtl");for(const r of[this.leftCols,this.rightCols,this.centerCols]){if(i){let s=li(r);for(const l of r)s-=l.getActualWidth(),l.setLeft(s,e)}else{let s=0;for(const l of r)l.setLeft(s,e),s+=l.getActualWidth()}lL(o,r)}for(const r of o)r.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,o){const i=[];let r=null;for(let s=0;s<t.length;s++){const l=t[s],u=t.length-s,d=Math.min(l.getColSpan(e),u),p=[l];if(d>1){const m=d-1;for(let C=1;C<=m;C++)p.push(t[s+C]);s+=m}let g;if(n){g=!1;for(const m of p)n(m)&&(g=!0)}else g=!0;g&&(i.length===0&&r&&o&&o(l)&&i.push(r),i.push(l)),r=l}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};zr(this.treeCenter,!1,e),zr(this.treeLeft,!1,e),zr(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const o=this[t[n]];if(o.length)return e?pt(o):o[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return li(this.leftCols)}getDisplayedColumnsRightWidth(){return li(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const o=t==="first";let i;if(Ot(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;i=o?r[0]:pt(r)}else i=e;return(o?n[0]:pt(n))===i}};function zr(e,t,n){if(e)for(let o=0;o<e.length;o++){const i=e[o];if(Ot(i)){const r=t?i.getDisplayedChildren():i.getChildren();zr(r,t,n)}n(i)}}function zg(e){const t=[];return zr(e,!0,n=>{tr(n)&&t.push(n)}),t}var uL=class extends ee{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return pi(null,t,n=>{ln(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];pi(null,t,o=>{if(ln(o)){const i=o.getColGroupDef(),r={groupId:o.getGroupId(),open:i?i.openByDefault:void 0};n.push(r)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:o,visibleCols:i,eventSvc:r}=this.beans;if(!n.getColTree().length)return;o?.start();const l=[];for(const u of e){const d=u.groupId,p=u.open,g=this.getProvidedColGroup(d);g&&g.isExpanded()!==p&&(g.setExpanded(p),l.push(g))}i.refresh(t,!0),l.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),o?.finish()}setColumnGroupOpened(e,t,n){let o;ln(e)?o=e.getId():o=e||"",this.setColumnGroupState([{groupId:o,open:t}],n)}getProvidedColGroup(e){let t=null;return pi(null,this.beans.colModel.getColTree(),n=>{ln(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),i=t==="After"?pt(o):o[0],r=`getCol${t}`;for(;;){const s=this.beans.visibleCols[r](i);if(!s)return null;const l=this.getColGroupAtLevel(s,n);if(l!==e)return l}}getColGroupAtLevel(e,t){let n=e.getParent(),o,i;for(;o=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(o+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();zr(e,!1,t=>{Ot(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Ot(e))return e;const n=this.beans.visibleCols.getAllTrees(),o=typeof t=="number";let i=null;return zr(n,!1,r=>{if(Ot(r)){const s=r;let l;o?l=e===s.getGroupId()&&t===s.getPartId():l=e===s.getGroupId(),l&&(i=s)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:o,oldDisplayedGroups:i,isStandaloneStructure:r}=e,s=this.mapOldGroupsById(i),l=[];let u=t;for(;u.length;){const d=u;u=[];let p=0;const g=m=>{const C=p;p=m;const w=d[C],R=(Ot(w)?w.getProvidedColumnGroup():w).getOriginalParent();if(R==null){for(let E=C;E<m;E++)l.push(d[E]);return}const x=this.createColumnGroup(R,n,s,o,r);for(let E=C;E<m;E++)x.addChild(d[E]);u.push(x)};for(let m=1;m<d.length;m++){const C=d[m],y=(Ot(C)?C.getProvidedColumnGroup():C).getOriginalParent(),R=d[p],E=(Ot(R)?R.getProvidedColumnGroup():R).getOriginalParent();y!==E&&g(m)}p<d.length&&g(d.length)}return r||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,n,o,i,r,s){const l=i.getUniqueKey(t.groupId||null,null),u=rS(this.beans,t,l),d=new qu(u,l,!1,n);this.createBean(d);const p=this.findExistingGroup(t,r);p&&r.splice(p.idx,1);const g=p?.group;g&&d.setExpanded(g.isExpanded());const m=ER(this.beans,u.children,n+1,e,o,i,r,s);return d.setChildren(m),d}balanceColumnTree(e,t,n,o){const i=[];for(let r=0;r<e.length;r++){const s=e[r];if(ln(s)){const l=s,u=this.balanceColumnTree(l.getChildren(),t+1,n,o);l.setChildren(u),i.push(l)}else{let l,u;for(let d=t;d<n;d++){const p=o.getUniqueKey(null,null),g=rS(this.beans,null,p),m=new qu(g,p,!0,d);this.createBean(m),u&&u.setChildren([m]),u=m,l||(l=u)}if(l&&u)if(i.push(l),e.some(p=>ln(p))){u.setChildren([s]);continue}else{u.setChildren(e);break}i.push(s)}}return i}findDepth(e){let t=0,n=e;for(;n?.[0]&&ln(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let o=0;o<e.length;o++){const i=e[o];if(ln(i)){const r=i,s=this.findMaxDepth(r.getChildren(),t+1);n<s&&(n=s)}}return n}balanceTreeForAutoCols(e,t){const n=[];for(const o of e){let i=o;for(let r=t-1;r>=0;r--){const s=new qu(null,`FAKE_PATH_${o.getId()}_${r}`,!0,r);this.createBean(s),s.setChildren([i]),i.originalParent=s,i=s}t===0&&(o.originalParent=null),n.push(i)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let o=0;o<t.length;o++){const i=t[o];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:o,group:i}}}createColumnGroup(e,t,n,o,i){const r=e.getGroupId(),s=t.getInstanceIdForKey(r),l=OR(r,s);let u=n[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),de(u)?u.reset():(u=new jl(e,r,s,o),i||this.createBean(u)),u}mapOldGroupsById(e){const t={},n=o=>{for(const i of o)if(Ot(i)){const r=i;t[i.getUniqueId()]=r,n(r.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(const n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Ot(n)){const o=n;this.setupParentsIntoCols(o.getChildren(),o)}}},dL={moduleName:"ColumnGroup",version:ue,dynamicBeans:{headerGroupCellCtrl:QA},beans:[uL],apiFunctions:{getAllDisplayedColumnGroups:aL,getCenterDisplayedColumnGroups:rL,getColumnGroup:ZA,getColumnGroupState:tL,getDisplayNameForColumnGroup:eL,getLeftDisplayedColumnGroups:iL,getProvidedColumnGroup:JA,getRightDisplayedColumnGroups:sL,resetColumnGroupState:oL,setColumnGroupOpened:XA,setColumnGroupState:nL}},hL=class extends ee{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(ea(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),ea(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:o,rowGroupColsSvc:i,pivotColsSvc:r,valueColsSvc:s,visibleCols:l,eventSvc:u,groupHierarchyColSvc:d}=t,p=this.colDefs?AR(t,e):void 0;n?.expire();const g=this.colDefCols?.list,m=this.colDefCols?.tree,C=AT(t,this.colDefs,!0,m,e);vd(t,this.colDefCols?.tree,C.columnTree);const w=C.columnTree,y=C.treeDepth,R=FR(w),x={};for(const E of R)x[E.getId()]=E;this.colDefCols={tree:w,treeDepth:y,list:R,map:x},this.createColumnsForService([d],this.colDefCols,e),i?.extractCols(e,g),r?.extractCols(e,g),s?.extractCols(e,g),this.ready=!0,this.changeEventsDispatching=!0,this.refreshCols(!0,e),this.changeEventsDispatching=!1,l.refresh(e),u.dispatchEvent({type:"columnEverythingChanged",source:e}),p&&(this.changeEventsDispatching=!0,p(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&o?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;const n=this.cols?.tree;this.saveColOrder();const{autoColSvc:o,selectionColSvc:i,rowNumbersSvc:r,quickFilter:s,pivotResultCols:l,showRowGroupCols:u,rowAutoHeight:d,visibleCols:p,colViewport:g,eventSvc:m,formula:C}=this.beans,w=this.selectCols(l,this.colDefCols);C?.setFormulasActive(w),this.createColumnsForService([o,i,r],w,t);const y=iT(this.gos,this.showingPivotResult);(!e||y)&&this.restoreColOrder(w),this.positionLockedCols(w),u?.refresh(),s?.refreshCols(),this.setColSpanActive(),d?.setAutoHeightActive(w),p.clear(),g.clear(),ir(n,this.cols.tree)||m.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,n){for(const o of e)o&&(o.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)},n),o.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:o,list:i,tree:r,treeDepth:s}=n??t;return this.cols={list:i.slice(),map:{...o},tree:r.slice(),treeDepth:s},n&&(n.list.some(u=>this.cols?.map[u.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{beans:e,showingPivotResult:t,cols:n}=this,{valueColsSvc:o,selectionColSvc:i}=e,r=this.isPivotMode()&&!t,s=i?.isSelectionColumnEnabled(),l=rT(e),u=o?.columns;return n.list.filter(p=>{const g=Nm(p);if(r){const m=u?.includes(p);return g||m||s&&rr(p)||l&&hi(p)}else return g||p.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Co(this.beans,{state:e.map(o=>({colId:typeof o=="string"?o:o.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(g=>e.map[g.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const o=g=>{const m=g.getOriginalParent();return m?m.getChildren().length>1?!0:o(m):!1};if(!n.some(g=>o(g))){const g=new Set(n);for(const m of e.list)g.has(m)||n.push(m);e.list=n;return}const i=new Map;for(let g=0;g<n.length;g++){const m=n[g];i.set(m,g)}const r=e.list.filter(g=>!i.has(g));if(r.length===0){e.list=n;return}const s=(g,m)=>{const C=m?m.getOriginalParent():g.getOriginalParent();if(!C)return null;let w=null,y=null;for(const R of C.getChildren())if(!(R===m||R===g)){if(R instanceof os){const x=i.get(R);if(x==null)continue;(w==null||w<x)&&(w=x,y=R);continue}R.forEachLeafColumn(x=>{const E=i.get(x);E!=null&&(w==null||w<E)&&(w=E,y=x)})}return y??s(g,C)},l=[],u=new Map;for(const g of r){const m=s(g,null);if(m==null){l.push(g);continue}const C=u.get(m);C===void 0?u.set(m,g):Array.isArray(C)?C.push(g):u.set(m,[C,g])}const d=new Array(e.list.length);let p=d.length-1;for(let g=l.length-1;g>=0;g--)d[p--]=l[g];for(let g=n.length-1;g>=0;g--){const m=n[g],C=u.get(m);if(C)if(Array.isArray(C))for(let w=C.length-1;w>=0;w--){const y=C[w];d[p--]=y}else d[p--]=C;d[p--]=m}e.list=d}positionLockedCols(e){e.list=TR(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);const{visibleCols:n,eventSvc:o}=this.beans;n.refresh(t),o.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=ea(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){vd(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:o,groupHierarchyColSvc:i}=this.beans;cl(this.colDefCols?.list,e)||cl(n?.columns?.list,e)||cl(o?.columns?.list,e)||cl(i?.columns?.list,e)||cl(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:o}=t;if(typeof e=="string"&&n[e])return n[e];for(let l=0;l<o.length;l++)if(Ml(o[l],e))return o[l];const{autoColSvc:i,selectionColSvc:r,groupHierarchyColSvc:s}=this.beans;return i?.getColumn(e)??r?.getColumn(e)??s?.getColumn(e)??null}},pL={tag:"div",cls:"ag-skeleton-container"},gL=class extends kt{constructor(){super(pL)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Gl(t.eParentOfValue)),Gl(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");aa(this.getGui(),n)}setupLoading(t){const n=Vn({tag:"div",cls:"ag-skeleton-effect"}),o=t.node.rowIndex;if(o!=null){const s=75+25*(o%2===0?Math.sin(o):Math.cos(o));n.style.width=`${s}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),r=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");aa(this.getGui(),r)}refresh(t){return!1}},fL={moduleName:"CheckboxCellRenderer",version:ue,userComponents:{agCheckboxCellRenderer:Bk}},mL={moduleName:"SkeletonCellRenderer",version:ue,userComponents:{agSkeletonCellRenderer:gL}};function CL(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function vL(e){return e.colModel.getColumnDefs(!0)}function wL(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function yL(e,t){return e.colModel.getColDefCol(t)}function SL(e){return e.colModel.getColDefCols()}function bL(e,t){return Co(e,t,"api")}function RL(e){return yd(e)}function xL(e){_T(e,"api")}function FL(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function PL(e){return e.visibleCols.isPinningLeft()}function EL(e){return e.visibleCols.isPinningRight()}function DL(e,t){return e.visibleCols.getColAfter(t)}function TL(e,t){return e.visibleCols.getColBefore(t)}function ML(e,t,n){e.colModel.setColsVisible(t,n,"api")}function kL(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function IL(e){return e.colModel.getCols()}function AL(e){return e.visibleCols.leftCols}function LL(e){return e.visibleCols.centerCols}function OL(e){return e.visibleCols.rightCols}function NL(e){return e.visibleCols.allCols}function BL(e){return e.colViewport.getViewportColumns()}function Bf(e,t){if(!e)return;const n=e,o={};for(const i of Object.keys(n)){if(t&&t.indexOf(i)>=0||eR.has(i))continue;const r=n[i];typeof r=="object"&&r!==null&&r.constructor===Object?o[i]=Bf(r):o[i]=r}return o}var HL=class extends ee{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,o,i=!1){const r=e.slice();t?r.sort((u,d)=>n.indexOf(u)-n.indexOf(d)):(n||i)&&r.sort((u,d)=>o.indexOf(u)-o.indexOf(d));const s=this.rowGroupColsSvc?.columns,l=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,s,l)}buildColumnDefs(e,t=[],n=[]){const o=[],i={};for(const r of e){const s=this.createDefFromColumn(r,t,n);let l=!0,u=s,d=r.getOriginalParent(),p=null;for(;d;){let g=null;if(d.isPadding()){d=d.getOriginalParent();continue}const m=i[d.getGroupId()];if(m){m.children.push(u),l=!1;break}if(g=this.createDefFromGroup(d),g&&(g.children=[u],i[g.groupId]=g,u=g,d=d.getOriginalParent()),d!=null&&p===d){l=!1;break}p=d}l&&o.push(u)}return o}createDefFromGroup(e){const t=Bf(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const o=Bf(e.getColDef());return o.colId=e.getColId(),o.width=e.getActualWidth(),o.rowGroup=e.isRowGroupActive(),o.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,o.pivot=e.isPivotActive(),o.pivotIndex=e.isPivotActive()?n.indexOf(e):null,o.aggFunc=e.isValueActive()?e.getAggFunc():null,o.hide=e.isVisible()?void 0:!0,o.pinned=e.isPinned()?e.getPinned():null,o.sort=e.getSortDef(),o.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,o}},GL=class extends ee{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth,{visibleCols:o,colDelayRenderSvc:i}=this.beans,r=o.centerCols;let s=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let R=r.length-1;R>=0;R--)if(y.has(r[R])){s=R;break}}let l=!1;const u=r.map((y,R)=>{const x=y.getFlex(),E=x!=null&&x>0&&R>s;return l||(l=E),{col:y,isFlex:E,flex:Math.max(0,x??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(l?(i?.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(i),!n||!l)return[];let d=u.length,p=u.reduce((y,R)=>y+R.flex,0),g=n;const m=(y,R)=>{y.frozenSize=R,y.col.setActualWidth(R,t),g-=R,p-=y.flex,d-=1},C=y=>y.frozenSize!=null;for(const y of u)y.isFlex||m(y,y.initialSize);for(;d>0;){const y=Math.round(p<1?g*p:g);let R,x=0,E=0;for(const T of u){if(C(T))continue;R=T,E+=y*(T.flex/p);const k=E-x,I=Math.round(k);T.targetSize=I,x+=I}R&&(R.targetSize+=y-x);let P=0;for(const T of u){if(C(T))continue;const k=T.targetSize,I=Math.min(Math.max(k,T.min),T.max);P+=I-k,T.violationType=I===k?void 0:I<k?"max":"min",T.targetSize=I}const M=P===0?"all":P>0?"min":"max";for(const T of u)C(T)||(M==="all"||T.violationType===M)&&m(T,T.targetSize)}e.skipSetLeft||o.setLeftValues(t),e.updateBodyWidths&&o.updateBodyWidths();const w=u.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=u.filter(x=>x.initialSize!==x.frozenSize).map(x=>x.col),R=u.filter(x=>x.flex).map(x=>x.col);ca(this.eventSvc,y,!0,t,R)}return this.revealColumns(i),w}revealColumns(e){this.columnsHidden&&(e?.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},Mn=e=>{if(typeof e=="bigint")return e;let t;if(typeof e=="number")t=e;else if(typeof e=="string"&&(t=e.trim(),t===""||(t.endsWith("n")&&(t=t.slice(0,-1)),!/^[+-]?\d+$/.test(t))))return null;if(t==null)return null;try{return BigInt(t)}catch{return null}},eC="T",VL=new RegExp(`[${eC} ]`),WL=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${eC}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Ho(e,t){return e.toString().padStart(t,"0")}function gn(e,t=!0,n=eC){if(!e)return null;let o=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Ho(i,2)).join("-");return t&&(o+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Ho(i,2)).join(":")),o}function Au(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Ho(e.getDate(),2),Ho(e.getHours(),2),`:${Ho(e.getMinutes(),2)}`,`:${Ho(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Ho(e.getDate(),2)].map(String):null}var _g=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},kS=["January","February","March","April","May","June","July","August","September","October","November","December"],$g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function zL(e,t){if(t==null)return gn(e,!1);const n=Ho(e.getFullYear(),4),o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>kS[e.getMonth()],MMM:()=>kS[e.getMonth()].slice(0,3),MM:()=>Ho(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${_g(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${_g(e.getDate())}`,DD:()=>Ho(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>$g[e.getDay()],ddd:()=>$g[e.getDay()].slice(0,3),dd:()=>$g[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${_g(e.getDay())}`,d:()=>`${e.getDay()}`},i=new RegExp(Object.keys(o).join("|"),"g");return t.replace(i,r=>r in o?o[r]():r)}function Zu(e,t=!1){return!!fn(e,t)}function _L(e){return Zu(e,!0)}function fn(e,t=!1,n){if(!e||!n&&!WL.test(e))return null;const[o,i]=e.split(VL);if(!o)return null;const r=o.split("-").map(C=>Number.parseInt(C,10));if(r.filter(C=>!isNaN(C)).length!==3)return null;const[s,l,u]=r,d=new Date(s,l-1,u);if(d.getFullYear()!==s||d.getMonth()!==l-1||d.getDate()!==u||!i&&t)return null;if(!i||i==="00:00:00")return d;const[p,g,m]=i.split(":").map(C=>Number.parseInt(C,10));if(p>=0&&p<24)d.setHours(p);else if(t)return null;if(g>=0&&g<60)d.setMinutes(g);else if(t)return null;if(m>=0&&m<60)d.setSeconds(m);else if(t)return null;return d}function Il(e,t,n){if(!t||!e)return;if(!n)return e[t];const o=t.split(".");let i=e;for(let r=0;r<o.length;r++){if(i==null)return;i=i[o[r]]}return i}var $L=["dateTimeString","dateString","text","number","bigint","boolean","date"],UL=class extends ee{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},bigint({filterModuleBean:e}){return e?{cellEditor:"agTextCellEditor"}:{cellEditor:"agTextCellEditor",comparator:{default:YL,absolute:QL}}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:({node:e,event:t,column:n})=>t.key===q.SPACE&&n.isCellEditable(e)}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(o,i)=>{const r=t.getColDefCol(n),s=r?.getColDef();if(!r||!s)return 0;const l=o==null?"":e({column:r,node:null,value:o}),u=i==null?"":e({column:r,node:null,value:i});return l===u?0:l>u?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},o=p=>g=>{const{column:m,node:C,value:w}=g;let y=m.getColDef().valueFormatter;return y===p.groupSafeValueFormatter&&(y=p.valueFormatter),this.beans.valueSvc.formatValue(m,C,w,y)};for(const p of Object.keys(e)){const g=e[p],m={...g,groupSafeValueFormatter:LS(g,this.gos)};t[p]=m,n[p]=o(m)}const i=this.gos.get("dataTypeDefinitions")??{},r={};for(const p of Object.keys(i)){const g=i[p],m=this.processDataTypeDefinition(g,i,[p],e);m&&(t[p]=m,g.dataTypeMatcher&&(r[p]=g.dataTypeMatcher),n[p]=o(m))}const{valueParser:s,valueFormatter:l}=e.object,{valueParser:u,valueFormatter:d}=t.object;this.hasObjectValueParser=u!==s,this.hasObjectValueFormatter=d!==l,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(r,e)}sortKeysInMatchers(e,t){const n={...e};for(const o of $L)delete n[o],n[o]=e[o]??t[o].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,o){let i;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=o[r];const l=t[r];if(s&&l&&(s=l),!AS(e,s,r))return;i=IS(s,e)}else{if(n.includes(r)){oe(44);return}const s=t[r];if(!AS(e,s,r))return;const l=this.processDataTypeDefinition(s,t,[...n,r],o);if(!l)return;i=IS(l,e)}return{...i,groupSafeValueFormatter:LS(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:o}=t;o===void 0&&(o=e.cellDataType);const{field:i}=t;if((o==null||o===!0)&&(o=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),this.addFormulaCellEditorToColDef(e,t),!o){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[o];if(!r){oe(47,{cellDataType:o});return}return e.cellDataType=o,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,r,n),r.columnTypes}addFormulaCellEditorToColDef(e,t){!(t.allowFormula??e.allowFormula)||t.cellEditor||(e.cellEditor="agFormulaCellEditor")}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=o=>{t.add(o.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Nt(n))return!1;const o={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Ug(t,o))return!1;const i=t.type===null?e.type:t.type;if(i){const r=n.get("columnTypes")??{};if(wd(i).some(l=>{const u=r[l.trim()];return u&&Ug(u,o)}))return!1}return!Ug(e,o)}inferCellDataType(e,t){if(!e)return;let n;const o=this.getInitialData();if(o){const r=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");n=Il(o,e,r)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(r=>this.dataTypeMatchers[r](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?._leafs;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:o}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:s}=r;s&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),o.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const o={},i={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const s=this.columnStateUpdatesPendingInference[r],l=this.colModel.getCol(r);if(!l)continue;const u=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))continue;const d=l.getColDef();if(t&&d.type&&d.type!==u.type){const p=XL(l,s);p.rowGroup&&p.rowGroupIndex==null&&(o[r]=p),p.pivot&&p.pivotIndex==null&&(i[r]=p),n.push(p)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(o,i)),n.length&&Co(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:o,pivotColsSvc:i}=this.beans;return o?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const o=Pf(this.beans,n,e.getColId());return e.setColDef(o,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!n||e.getColDef().allowFormula&&this.beans.formula?.isFormula(t)?!0:n(t)}validateColDef(e){const t=n=>oe(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:o,formatValueFuncs:i}=this,r=n[t];r&&o.colFilter?.setColDefPropsForDataType(e,r,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,o){const i=this.formatValueFuncs[t],r=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:o,formatValue:i,filterModuleBean:this.beans.filterManager});e.cellEditor==="agFormulaCellEditor"&&r.cellEditor!==e.cellEditor&&(r.cellEditor=e.cellEditor),Object.assign(e,r)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:o=>fn(o.newValue&&String(o.newValue)),valueFormatter:o=>o.value==null?"":!(o.value instanceof Date)||isNaN(o.value.getTime())?t("invalidDate","Invalid Date"):gn(o.value,n)??"",dataTypeMatcher:o=>o instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>fn(n)??void 0,dateFormatter:n=>gn(n??null,t)??void 0,valueParser:n=>Zu(String(n.newValue))?n.newValue:null,valueFormatter:n=>Zu(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&Zu(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},bigint:{baseDataType:"bigint",valueParser:t=>{const{newValue:n}=t;return n==null||typeof n=="string"&&n.trim()===""?null:Mn(n)},valueFormatter:t=>t.value==null?"":typeof t.value!="bigint"?e("invalidBigInt","Invalid BigInt"):String(t.value),dataTypeMatcher:t=>typeof t=="bigint"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:vf(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&_L(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>vf(t.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function IS(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...wd(e.columnTypes),...wd(t.columnTypes)]),n}function AS(e,t,n){return t?t.baseDataType!==e.baseDataType?(oe(46),!1):!0:(oe(45,{parentCellDataType:n}),!1)}var jL=e=>typeof e=="bigint"||typeof e=="number",KL=e=>e==="number"||e==="bigint";function LS(e,t){if(e.valueFormatter)return n=>{const{node:o,colDef:i,column:r,value:s}=n;if(o?.group){const l=(i.pivotValueColumn??r).getAggFunc();if(l){if(l==="first"||l==="last")return e.valueFormatter(n);const{baseDataType:u}=e;if(KL(u)&&l!=="count"){if(jL(s))return e.valueFormatter(n);if(s==null)return;if(typeof s=="object"){if(typeof s.toNumber=="function")return e.valueFormatter({...n,value:s.toNumber()});if("value"in s)return e.valueFormatter({...n,value:s.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function qL(e,t,n,o){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):o===void 0?!!i:i===o}function YL(e,t){if(e==null)return t==null?0:-1;if(t==null)return 1;const n=Mn(e),o=Mn(t);return n!=null&&o!=null?n===o?0:n>o?1:-1:0}function QL(e,t){if(e==null)return t==null?0:-1;if(t==null)return 1;const n=OS(e),o=OS(t);return n!=null&&o!=null?n===o?0:n>o?1:-1:0}function OS(e){const t=Mn(e);return t==null?null:t<0n?-t:t}function Ug(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,o])=>qL(e,t,n,o))}function XL(e,t){const n=LR(e);for(const o of t)delete n[o],o==="rowGroup"?delete n.rowGroupIndex:o==="pivot"&&delete n.pivotIndex;return n}var ZL={moduleName:"DataType",version:ue,beans:[UL],dependsOn:[fL]},JL={moduleName:"ColumnFlex",version:ue,beans:[GL]},Px={moduleName:"ColumnApi",version:ue,beans:[HL],apiFunctions:{getColumnDef:CL,getDisplayNameForColumn:wL,getColumn:yL,getColumns:SL,applyColumnState:bL,getColumnState:RL,resetColumnState:xL,isPinning:FL,isPinningLeft:PL,isPinningRight:EL,getDisplayedColAfter:DL,getDisplayedColBefore:TL,setColumnsVisible:ML,setColumnsPinned:kL,getAllGridColumns:IL,getDisplayedLeftColumns:AL,getDisplayedCenterColumns:LL,getDisplayedRightColumns:OL,getAllDisplayedColumns:NL,getAllDisplayedVirtualColumns:BL,getColumnDefs:vL}},eO=class extends ee{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const o=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,o):o}getDisplayNameForProvidedColumnGroup(e,t,n){const o=t?.getColGroupDef();return o?this.getHeaderName(o,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,o,i){const r=e.headerValueGetter;if(r){const s=ke(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:o,location:i});return typeof r=="function"?r(s):typeof r=="string"?this.beans.expressionSvc?.evaluate(r,s)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return n1(e.field)}return""}},tO=class extends ee{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}getScrollPosition(){return this.scrollPosition}setScrollPosition(e,t,n=!1){const{visibleCols:o}=this,i=o.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,o.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const s=o.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||nO(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),o=this.viewportLeft-200,i=this.viewportRight+200,r=t<o&&n<o,s=t>i&&n>i;return!r&&!s}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=r=>{const s=r.getLeft();return de(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:o}=this,i=o.centerCols;return o.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=o=>{const i=new Set,r={};for(const s of o){let l=s.getParent();const u=s.isSpanHeaderHeight();for(;l&&!i.has(l);){if(u&&l.isPadding()){l=l.getParent();continue}const p=l.getProvidedColumnGroup().getLevel();r[p]??(r[p]=[]),r[p].push(l),i.add(l),l=l.getParent()}}return r};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=o=>`${o.getId()}-${o.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function nO(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var oO=class extends ee{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const r=t(i),s=typeof r;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Em("<span>"+r+"</span>");return}if(r==null){this.eGui=Vn({tag:"span"});return}this.eGui=r}}return n}},iO={moduleName:"CellRendererFunction",version:ue,beans:[oO]},rO=class extends mn{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const o=this.dynamicBeans[e];if(o==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new o(...n)}};function sO(e){return typeof e=="object"&&!!e.getComp}var aO=class extends rO{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:o,selectors:i}=e;if(n){const r=(s,l,u,d)=>{this.agGridDefaults[s]=l,(u||d)&&(this.agGridDefaultOverrides[s]={params:u,processParams:d})};for(const s of Object.keys(n)){let l=n[s];if(sO(l)&&(l=l.getComp(this.beans)),typeof l=="object"){const{classImp:u,params:d,processParams:p}=l;r(s,u,d,p)}else r(s,l)}}this.registerDynamicBeans(o);for(const r of i??[])this.selectors[r.selector]=r;if(t)for(const r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){const n=(l,u,d,p)=>({componentFromFramework:u,component:l,params:d,processParams:p}),{frameworkOverrides:o}=this.beans,i=o.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const r=this.jsComps[t];if(r){const l=o.isFrameworkComponent(r);return n(r,l)}const s=this.agGridDefaults[t];if(s){const l=this.agGridDefaultOverrides[t];return n(s,!1,l?.params,l?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?_o(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??_o(256)}},lO=23,cO=class extends ee{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===lO&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},uO=':where([class^=ag-]),:where([class^=ag-]):after,:where([class^=ag-]):before{box-sizing:border-box}:where([class^=ag-]):where(button){color:inherit}:where([class^=ag-]):where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}:where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block}.ag-measurement-element-border:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}.ag-popup-child{top:0;z-index:5}.ag-popup-child:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled .ag-icon,[disabled] .ag-icon{opacity:.5}.ag-icon-grip.ag-disabled,.ag-icon-grip[disabled]{opacity:.35}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',tC=typeof window!="object"||!window?.document?.fonts?.forEach,Ex=!1,Xr=(e,t,n,o,i,r,s=!1)=>{if(tC||Ex)return;o&&(e=`@layer ${CSS.escape(o).replaceAll("\\.",".")} { ${e} }`);let l=Wo.map.get(t);if(l||(l=[],Wo.map.set(t,l)),l.some(g=>g.css===e))return;const u=document.createElement("style");r&&u.setAttribute("nonce",r),u.dataset.agGlobalCss=n,u.textContent=e;const d={css:e,el:u,priority:i,isParams:s};let p;for(const g of l){if(g.priority>i)break;p=g}if(p){p.el.after(u);const g=l.indexOf(p);l.splice(g+1,0,d)}else t.nodeName==="STYLE"?t.after(u):t.insertBefore(u,t.querySelector(":not(title, meta)")),l.push(d)},Dx=(e,t,n,o)=>{Xr(uO,e,"shared",t,0,n),o?.forEach((i,r)=>i.forEach(s=>Xr(s,e,r,t,0,n)))},dO=(e,t,n,o,i,r)=>{if(tC||Ex)return;const s=Wo.grids.get(e);s?s.paramsCss=t:Wo.grids.set(e,{styleContainer:o,paramsCss:t}),Hf(o),t&&n&&Xr(t,o,n,i,2,r,!0)},hO=e=>{const t=Wo.grids.get(e)?.styleContainer;if(!t)return;Wo.grids.delete(e),Array.from(Wo.grids.values()).some(o=>o.styleContainer===t)?Hf(t):(Hf(t,!0),Wo.map.delete(t))},Hf=(e,t=!1)=>{const n=new Set;for(const i of Wo.grids.values())i.styleContainer===e&&n.add(i.paramsCss);const o=Wo.map.get(e)??[];for(let i=o.length-1;i>=0;i--)(t||o[i].isParams&&!n.has(o[i].css))&&(o[i].el.remove(),o.splice(i,1))},NS,Wo=(NS=typeof window=="object"?window:{}).agStyleInjectionState??(NS.agStyleInjectionState={map:new WeakMap,grids:new Map}),wo=e=>new Tx(e),Ki="$default",pO=0,Tx=class{constructor({feature:e,params:t,modeParams:n={},css:o,cssImports:i}){this.feature=e,this.css=o,this.cssImports=i,this.modeParams={[Ki]:{...n[Ki]??{},...t??{}},...n}}use(e,t,n){let o=this._inject;if(o==null){let{css:i}=this;if(i){const r=`ag-theme-${this.feature??"part"}-${++pO}`;typeof i=="function"&&(i=i()),i=`:where(.${r}) {
${i}
}
`;for(const s of this.cssImports??[])i=`@import url(${JSON.stringify(s)});
${i}`;o={css:i,class:r}}else o=!1;this._inject=o}return o&&e&&Xr(o.css,e,o.class,t,1,n),o?o.class:!1}},gO=e=>e.replace(/[A-Z]|\d+/g,t=>`-${t}`).toLowerCase(),nC=e=>`--ag-${gO(e)}`,jo=e=>`var(${nC(e)})`,fO=(e,t,n)=>Math.max(t,Math.min(n,e)),mO=e=>{const t=new Map;return n=>{const o=n;return t.has(o)||t.set(o,e(n)),t.get(o)}},Oo=e=>({ref:"accentColor",mix:e}),Yn=e=>({ref:"foregroundColor",mix:e}),Jn=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),CO=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Dn={ref:"backgroundColor"},$s={ref:"foregroundColor"},ui={ref:"accentColor"},Ed={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Yn(.15),chromeBackgroundColor:Jn(.02),browserColorScheme:"light"},vO={...Ed,textColor:$s,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:Oo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:Dn,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:ui,toggleButtonOffBackgroundColor:Jn(.3),toggleButtonSwitchBackgroundColor:Dn,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},panelBackgroundColor:Dn,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontFamily:{ref:"headerFontFamily"},panelTitleBarFontSize:{ref:"headerFontSize"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,dialogShadow:{ref:"popupShadow"},dialogBorder:{color:Yn(.2)},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},dataFontSize:{ref:"fontSize"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},headerFontSize:{ref:"fontSize"},headerFontWeight:500,headerTextColor:{ref:"textColor"},headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,menuBorder:{color:Yn(.2)},menuBackgroundColor:Jn(.03),menuTextColor:Jn(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"}},wO=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],yO=mO(e=>(e=e.toLowerCase(),wO.find(t=>e.endsWith(t.toLowerCase()))??"length")),eh=e=>typeof e=="object"&&e?.ref?jo(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,oC=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e&&"ref"in e){const t=jo(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?jo(e.onto):"transparent"}, ${t} ${fO(e.mix*100,0,100)}%)`}return!1},SO=eh,Us=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:typeof e=="object"&&e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:" "+jo(n)+" ")})`:typeof e=="object"&&e&&"ref"in e?jo(e.ref):!1,bO=eh,Gf=(e,t)=>typeof e=="string"?e:e===!0?Gf({},t):e===!1?t==="columnBorder"?Gf({color:"transparent"},t):"none":typeof e=="object"&&e&&"ref"in e?jo(e.ref):Mx(e.style??"solid")+" "+Us(e.width??{ref:"borderWidth"})+" "+oC(e.color??{ref:"borderColor"}),BS=e=>[Us(e.offsetX??0),Us(e.offsetY??0),Us(e.radius??0),Us(e.spread??0),oC(e.color??{ref:"foregroundColor"}),...e.inset?["inset"]:[]].join(" "),RO=e=>typeof e=="string"?e:e===!1?"none":typeof e=="object"&&e&&"ref"in e?jo(e.ref):Array.isArray(e)?e.map(BS).join(", "):BS(e),Mx=eh,kx=e=>typeof e=="string"?e.includes(",")?e:HS(e):typeof e=="object"&&e&&"googleFont"in e?kx(e.googleFont):typeof e=="object"&&e&&"ref"in e?jo(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),HS(t))).join(", "):!1,HS=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),xO=eh,Ix=e=>typeof e=="string"?e:typeof e=="object"&&e&&"url"in e?`url(${JSON.stringify(e.url)})`:typeof e=="object"&&e&&"svg"in e?Ix({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):typeof e=="object"&&e&&"ref"in e?jo(e.ref):!1,FO=(e,t,n)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):typeof e=="object"&&e&&"ref"in e?jo(e.ref):!1,PO={color:oC,colorScheme:SO,length:Us,scale:bO,border:Gf,borderStyle:Mx,shadow:RO,image:Ix,fontFamily:kx,fontWeight:xO,duration:FO},EO=(e,t,n)=>{const o=yO(e);return PO[o](t,e,n)},DO=0,TO=(e,t)=>new Ax({themeLogger:e,overridePrefix:t}),Ax=class Lx{constructor(t,n=[]){this.params=t,this.parts=n}withPart(t){return typeof t=="function"&&(t=t()),t instanceof Tx?new Lx(this.params,[...this.parts,t]):(this.params.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(wo({feature:t}))}withParams(t,n=Ki){return this.withPart(wo({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:o,loadThemeGoogleFonts:i,moduleCss:r}){if(tC)return;kO(),Dx(t,n,o,r);const s=MO(this);if(s.length>0)for(const l of s)i&&IO(l,o);for(const l of this.parts)l.use(t,n,o)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=GS(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).concat(this._getParamsClassName()).join(" "))}_getParamsClassName(){return this._paramsClassName??(this._paramsClassName=`ag-theme-params-${++DO}`)}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Ki]:{...vO}};for(const o of GS(this.parts))for(const i of Object.keys(o.modeParams)){const r=o.modeParams[i];if(r){const s=n[i]??(n[i]={}),l=new Set;for(const u of Object.keys(r)){const d=r[u];d!==void 0&&(s[u]=d,l.add(u))}if(i===Ki)for(const u of Object.keys(n)){const d=n[u];if(u!==Ki)for(const p of l)delete d[p]}}}this._paramsCache=t=n}return t}_getParamsCss(){if(!this._paramsCssCache){let t="",n="";const o=this._getModeParams(),{overridePrefix:i,themeLogger:r}=this.params,s=i?`--ag-${i}-`:void 0;for(const d of Object.keys(o)){const p=o[d];if(d!==Ki){const m=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(d):d}"]) & {
`;t+=m,n+=m}for(const g of Object.keys(p).sort()){const m=p[g],C=EO(g,m,r);if(C===!1)r.error(107,{key:g,value:m});else{const w=nC(g),y=s?w.replace("--ag-",s):w,R=w.replace("--ag-","--ag-inherited-");t+=`	${w}: var(${R}, ${C});
`,n+=`	${R}: var(${y});
`}}d!==Ki&&(t+=`}
`,n+=`}
`)}const l=`:where(.${this._getParamsClassName()})`;let u=`${l} {
${t}}
`;u+=`:has(> ${l}):not(${l}) {
${n}}
`,this._paramsCssCache=u}return this._paramsCssCache}},GS=e=>{const t=new Map;for(const o of e)t.set(o.feature,o);const n=[];for(const o of e)(!o.feature||t.get(o.feature)===o)&&n.push(o);return n},MO=e=>{const t=new Set,n=r=>{if(Array.isArray(r))r.forEach(n);else{const s=r?.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(n),Array.from(t).sort()},VS=!1,kO=()=>{if(!VS){VS=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},IO=async(e,t)=>{const n=`@import url('https://${AO}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Xr(n,document.head,`googleFont:${e}`,void 0,0,t)},AO="fonts.googleapis.com",WS={changeKey:"listItemHeight",type:"length",defaultValue:24},LO=class extends mn{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t);const n=e.get("themeStyleContainer"),o=typeof ShadowRoot<"u",i=o&&t.getRootNode()instanceof ShadowRoot;this.eStyleContainer=(typeof n=="function"?n():n)??(i?t:document.head),!n&&!i&&o&&OO(t,this.shadowRootError.bind(this),this.addDestroyFunc.bind(this)),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.getSizeEl(WS),this.initVariables(),this.addDestroyFunc(()=>hO(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("theme")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:n}=this,o=n?n._getCssClass():this.applyLegacyThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(o){const i=e.className;e.className=`${i}${i?" ":""}${o}${t?.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(const o of Array.from(t.classList))o.startsWith("ag-theme-")&&(n=!0,e=e?`${e} ${o}`:o);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?Xr(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(WS)}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===jg?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=jr({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=jr({tag:"div"});const o=this.setSizeElStyles(t,e);n.appendChild(t),this.sizeEls.set(e,t);const{type:i,noWarn:r}=e;if(i!=="length"&&i!=="border")return t;let s=this.measureSizeEl(e);s==="no-styles"&&!r&&this.varError(o,e.defaultValue);const l=Si(this.beans,t,()=>{const u=this.measureSizeEl(e);u==="detached"||u==="no-styles"||(this.lastKnownValues.set(e,u),u!==s&&(s=u,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>l()),t}setSizeElStyles(e,t){const{changeKey:n,type:o}=t;let i=nC(n);return o==="border"?(i.endsWith("-width")&&(i=i.slice(0,-6)),e.className="ag-measurement-element-border",e.style.setProperty("--ag-internal-measurement-border",`var(${i}, solid ${jg}px)`)):e.style.width=`var(${i}, ${jg}px)`,i}handleThemeChange(){const{gos:e,theme:t}=this,n=e.get("theme");let o;if(n==="legacy")o=void 0;else{const i=n??this.getDefaultTheme();i instanceof Ax?o=i:this.themeError(i)}o!==t&&this.handleNewTheme(o),this.postProcessThemeChange(o,n)}handleNewTheme(e){const{gos:t,eRootDiv:n,globalCSS:o}=this,i=this.getAdditionalCss();if(e){Dx(this.eStyleContainer,this.cssLayer,this.styleNonce,i);for(const[r,s]of o)Xr(r,this.eStyleContainer,s,this.cssLayer,0,this.styleNonce);o.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:i}),dO(this,e?._getParamsCss()??null,e?._getParamsClassName()??null,this.eStyleContainer,this.cssLayer,this.styleNonce),this.applyThemeClasses(n),this.fireStylesChangedEvent("theme")}fireStylesChangedEvent(e){this.eventSvc.dispatchEvent({type:"stylesChanged",[`${e}Changed`]:!0})}},jg=15538,OO=(e,t,n)=>{let o=60;const i=setInterval(()=>{typeof ShadowRoot<"u"&&e.getRootNode()instanceof ShadowRoot&&(t(),clearInterval(i)),(Pm(e)||--o<0)&&clearInterval(i)},1e3);n(()=>clearInterval(i))},NO='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important}.ag-body-viewport::-webkit-scrollbar,.ag-center-cols-viewport::-webkit-scrollbar,.ag-floating-bottom-viewport::-webkit-scrollbar,.ag-floating-top-viewport::-webkit-scrollbar,.ag-header-viewport::-webkit-scrollbar,.ag-sticky-bottom-viewport::-webkit-scrollbar,.ag-sticky-top-viewport::-webkit-scrollbar{display:none!important}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-left-sticky-bottom,.ag-pinned-right-cols-container,.ag-pinned-right-sticky-bottom,.ag-sticky-bottom-container,.ag-sticky-top-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-active),&:where(.ag-scrollbar-scrolling){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-sticky-bottom{box-sizing:content-box!important;:where(.ag-pinned-left-sticky-bottom),:where(.ag-pinned-right-sticky-bottom),:where(.ag-sticky-bottom-container){border-top:var(--ag-row-border);box-sizing:border-box}}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;:where(.ag-column-group-closed-icon),:where(.ag-column-group-opened-icon){cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-drag-handle-disabled{opacity:.35;pointer-events:none}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-row-drag-indicator-color);border-radius:calc(var(--ag-row-drag-indicator-width)/2);content:"";height:var(--ag-row-drag-indicator-width);pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label,:where(.ag-header-group-cell-selectable) .ag-header-cell-comp-wrapper{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden)),:where(.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)):before,.ag-header-group-cell:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}.ag-header-cell:where(:not(.ag-floating-filter)):where(:hover):before,.ag-header-group-cell:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}.ag-header-cell:where(:not(.ag-floating-filter)):where(.ag-header-cell-moving):before,.ag-header-group-cell:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}:where(.ag-header-cell:not(.ag-floating-filter)>*,.ag-header-group-cell>*){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-column-drag-indicator-color);border-radius:calc(var(--ag-column-drag-indicator-width)/2);content:"";height:100%;position:absolute;top:0;width:var(--ag-column-drag-indicator-width)}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2}:where(.ag-ltr) .ag-header-cell-resize{right:-3px}:where(.ag-rtl) .ag-header-cell-resize{left:-3px}.ag-header-cell-resize:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}:where(.ag-ltr) .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}:where(.ag-rtl) .ag-header-cell-resize:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{container-type:normal;display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{container-type:normal;display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);container-type:inline-size;display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color)}.ag-chart-menu-icon:hover,.ag-chart-settings-next:hover,.ag-chart-settings-prev:hover,.ag-column-group-icons:hover,.ag-column-select-header-icon:hover,.ag-filter-toolpanel-expand:hover,.ag-floating-filter-button-button:hover,.ag-group-title-bar-icon:hover,.ag-header-cell-filter-button:hover,.ag-header-cell-menu-button:hover,.ag-header-expand-icon:hover,.ag-panel-title-bar-button-icon:hover,.ag-panel-title-bar-button:hover,.ag-set-filter-group-icons:hover,:where(.ag-group-contracted) .ag-icon:hover,:where(.ag-group-expanded) .ag-icon:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}:where(.ag-filter-active),:where(.ag-filter-toolpanel-group-instance-header-icon),:where(.ag-filter-toolpanel-instance-header-icon){position:relative}:where(.ag-filter-active):after,:where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-filter-toolpanel-instance-header-icon):after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-ltr) :where(.ag-filter-active):after,:where(.ag-ltr) :where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-ltr) :where(.ag-filter-toolpanel-instance-header-icon):after{right:-1px}:where(.ag-rtl) :where(.ag-filter-active):after,:where(.ag-rtl) :where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-rtl) :where(.ag-filter-toolpanel-instance-header-icon):after{left:-1px}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}',BO={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Dn,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},cellFontFamily:{ref:"fontFamily"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:ui,rangeSelectionBackgroundColor:Oo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Oo(.5),rangeHeaderHighlightColor:CO(.08),rowNumbersSelectedColor:Oo(.5),rowHoverColor:Oo(.08),columnHoverColor:Oo(.05),selectedRowBackgroundColor:Oo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:Dn,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:Yn(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Yn(.1),iconButtonActiveColor:ui,iconButtonActiveBackgroundColor:Oo(.28),iconButtonActiveIndicatorColor:ui,setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Yn(.8),cellEditingBorder:{color:ui},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:Yn(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Yn(.13)},selectCellBackgroundColor:Yn(.07),selectCellBorder:{color:Yn(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Dn,filterPanelApplyButtonBackgroundColor:ui,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:$s,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:$s,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Yn(.15),statusBarLabelColor:$s,statusBarLabelFontWeight:500,statusBarValueColor:$s,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"},rowDragIndicatorColor:{ref:"rangeSelectionBorderColor"},rowDragIndicatorWidth:2,columnDragIndicatorColor:{ref:"accentColor"},columnDragIndicatorWidth:2},HO=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",Ox={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},GO={...Ox,cellBatchEditTextColor:"#f3d0b3"},VO=()=>wo({feature:"batchEditStyle",params:Ox,css:HO}),WO=VO(),zO=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}.ag-standard-button:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}",_O={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},$O=()=>wo({feature:"buttonStyle",params:{..._O,buttonBackgroundColor:Dn,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:ui}},css:zO}),UO=$O(),jO=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",KO=()=>wo({feature:"columnDropStyle",css:jO}),Nx=KO(),qO={formulaToken1Color:"#3269c6",formulaToken1BackgroundColor:{ref:"formulaToken1Color",mix:.08},formulaToken1Border:{color:{ref:"formulaToken1Color"}},formulaToken2Color:"#c0343f",formulaToken2BackgroundColor:{ref:"formulaToken2Color",mix:.06},formulaToken2Border:{color:{ref:"formulaToken2Color"}},formulaToken3Color:"#8156b8",formulaToken3BackgroundColor:{ref:"formulaToken3Color",mix:.08},formulaToken3Border:{color:{ref:"formulaToken3Color"}},formulaToken4Color:"#007c1f",formulaToken4BackgroundColor:{ref:"formulaToken4Color",mix:.06},formulaToken4Border:{color:{ref:"formulaToken4Color"}},formulaToken5Color:"#b03e85",formulaToken5BackgroundColor:{ref:"formulaToken5Color",mix:.08},formulaToken5Border:{color:{ref:"formulaToken5Color"}},formulaToken6Color:"#b74900",formulaToken6BackgroundColor:{ref:"formulaToken6Color",mix:.06},formulaToken6Border:{color:{ref:"formulaToken6Color"}},formulaToken7Color:"#247492",formulaToken7BackgroundColor:{ref:"formulaToken7Color",mix:.08},formulaToken7Border:{color:{ref:"formulaToken7Color"}}},YO=()=>wo({feature:"formulaStyle",params:qO}),QO=YO(),XO={warn:(...e)=>{oe(e[0],e[1])},error:(...e)=>{et(e[0],e[1])},preInitErr:(...e)=>{vl(e[0],e[2],e[1])}},ZO=()=>TO(XO).withParams(BO).withPart(UO).withPart(Nx).withPart(WO).withPart(QO),JO='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color)}&:where(.ag-checked):after{background-color:var(--ag-checkbox-checked-shape-color)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input,.ag-radio-button-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}.ag-checkbox-input-wrapper:after,.ag-radio-button-input-wrapper:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}.ag-checkbox-input-wrapper:where(:focus-within,:active),.ag-radio-button-input-wrapper:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color)}&:where(.ag-indeterminate):after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',e2=()=>wo({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Dn,checkboxUncheckedBorderColor:Jn(.3),checkboxCheckedBackgroundColor:ui,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Dn,checkboxIndeterminateBackgroundColor:Jn(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Dn,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:JO}),t2=e2(),Bx=()=>({...Ed,...GO,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Jn(.05),rowHoverColor:Oo(.15),selectedRowBackgroundColor:Oo(.2),menuBackgroundColor:Jn(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:$s,findMatchColor:Dn,findActiveMatchColor:Dn,checkboxUncheckedBorderColor:Jn(.4),toggleButtonOffBackgroundColor:Jn(.4),rowBatchEditBackgroundColor:Jn(.1),formulaToken1Color:"#4da3e5",formulaToken2Color:"#f55864",formulaToken3Color:"#b688f2",formulaToken4Color:"#24bb4a",formulaToken5Color:"#e772ba",formulaToken6Color:"#f69b5f",formulaToken7Color:"#a3e6ff"}),n2=()=>({...Bx(),backgroundColor:"#1f2836"}),o2=()=>wo({feature:"colorScheme",params:Ed,modeParams:{light:Ed,dark:Bx(),"dark-blue":n2()}}),i2=o2(),Hx={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>'},Gx={aasc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2012 8.07928C13.6346 8.0793 14.0128 8.15365 14.3359 8.30193C14.6609 8.45018 14.9141 8.65595 15.0947 8.9201C15.2754 9.18439 15.3683 9.49109 15.374 9.83904H14.1904C14.1676 9.60898 14.0695 9.4303 13.8965 9.30291C13.7235 9.1756 13.4889 9.1115 13.1924 9.1115C12.9909 9.1115 12.8204 9.1404 12.6816 9.19744C12.543 9.25255 12.4364 9.32917 12.3623 9.42791C12.2901 9.52678 12.2539 9.63933 12.2539 9.76482C12.2501 9.8692 12.272 9.9604 12.3193 10.0383C12.3688 10.1162 12.4369 10.1843 12.5225 10.2414C12.6079 10.2964 12.7064 10.3451 12.8184 10.3869C12.9304 10.4268 13.0505 10.4609 13.1777 10.4894L13.7031 10.6144C13.9578 10.6715 14.1914 10.7479 14.4043 10.8429C14.6173 10.938 14.8021 11.0547 14.958 11.1935C15.1138 11.3323 15.2348 11.4957 15.3203 11.6838C15.4077 11.8719 15.4522 12.088 15.4541 12.3312C15.4522 12.6885 15.3611 12.9986 15.1807 13.2609C15.0019 13.5214 14.7427 13.7248 14.4043 13.8693C14.0678 14.0118 13.6617 14.0832 13.1865 14.0832C12.7153 14.0832 12.3048 14.0107 11.9551 13.8664C11.6071 13.7219 11.3345 13.5071 11.1387 13.2238C10.9449 12.9387 10.8435 12.5862 10.834 12.1662H12.0283C12.0416 12.362 12.0984 12.5252 12.1973 12.6564C12.298 12.7857 12.4323 12.8838 12.5996 12.9504C12.7688 13.0149 12.96 13.047 13.1729 13.047C13.3817 13.047 13.563 13.0169 13.7168 12.9562C13.8727 12.8954 13.9935 12.8106 14.0791 12.7023C14.1647 12.5939 14.208 12.469 14.208 12.3283C14.2079 12.1974 14.1686 12.0875 14.0908 11.9982C14.0148 11.9089 13.9022 11.8324 13.7539 11.7697C13.6076 11.707 13.4276 11.6501 13.2148 11.5988L12.5791 11.4387C12.0869 11.3189 11.6982 11.1318 11.4131 10.8771C11.128 10.6224 10.9855 10.2793 10.9873 9.84783C10.9854 9.49418 11.0804 9.18439 11.2705 8.9201C11.4625 8.65603 11.7261 8.45015 12.0605 8.30193C12.3951 8.15369 12.7754 8.07928 13.2012 8.07928Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 14.0002H4.48926L4.05664 12.6681H1.94824L1.51465 14.0002H0.19043L2.20703 8.15935H3.79883L5.8125 14.0002ZM2.26172 11.7043H3.74316L3.02539 9.49334H2.98047L2.26172 11.7043Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 8.15935C8.88165 8.15935 9.24031 8.22251 9.52734 8.34978C9.81445 8.47717 10.0303 8.65477 10.1748 8.88103C10.3192 9.10536 10.3916 9.36368 10.3916 9.65642C10.3916 9.88452 10.3461 10.085 10.2549 10.258C10.1637 10.4289 10.0384 10.5696 9.87891 10.6799C9.72117 10.7882 9.54024 10.8657 9.33691 10.9113V10.9679C9.55917 10.9775 9.76716 11.0406 9.96094 11.1564C10.1568 11.2724 10.3158 11.4356 10.4375 11.6447C10.5591 11.8519 10.6201 12.099 10.6201 12.3859C10.6201 12.6958 10.5427 12.9727 10.3887 13.216C10.2366 13.4573 10.0113 13.6486 9.71289 13.7892C9.41443 13.9299 9.04655 14.0002 8.60938 14.0002H6.11426V8.15935H8.45215ZM7.34863 12.9904H8.35547C8.69943 12.9904 8.95057 12.9252 9.1084 12.7941C9.26621 12.661 9.34473 12.4834 9.34473 12.2629C9.34468 12.1014 9.30643 11.9587 9.22852 11.8351C9.15056 11.7116 9.03903 11.6145 8.89453 11.5441C8.75195 11.4738 8.58148 11.4387 8.38379 11.4387H7.34863V12.9904ZM7.34863 10.6037H8.26465C8.43369 10.6036 8.58376 10.5737 8.71484 10.5148C8.84793 10.454 8.95227 10.3683 9.02832 10.258C9.10628 10.1477 9.14551 10.0155 9.14551 9.8615C9.14546 9.65055 9.07008 9.48001 8.91992 9.35076C8.77165 9.22169 8.56064 9.15741 8.28711 9.1574H7.34863V10.6037Z" fill="black"/><path d="M7.16602 0.377127C7.44584 0.189493 7.82551 0.20905 8.08496 0.442557L11.418 3.44256C11.7257 3.71966 11.7507 4.19428 11.4736 4.50213C11.1966 4.80961 10.7228 4.83441 10.415 4.55779L7.60938 2.03338L5.11328 4.53045C4.82042 4.82326 4.34562 4.82322 4.05273 4.53045C3.75986 4.23757 3.75989 3.7628 4.05273 3.4699L7.05273 0.4699L7.16602 0.377127Z" fill="black"/></svg>',adesc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.3867 11.4697C10.6796 11.1771 11.1544 11.1769 11.4473 11.4697C11.7399 11.7626 11.7399 12.2374 11.4473 12.5303L8.44727 15.5303L8.33398 15.623C8.05425 15.8106 7.67449 15.7909 7.41504 15.5576L4.08203 12.5576C3.77415 12.2805 3.74927 11.8059 4.02637 11.498C4.30342 11.1907 4.77722 11.1657 5.08496 11.4424L7.89062 13.9668L10.3867 11.4697Z" fill="black"/><path d="M13.2012 3.0791C13.6346 3.07912 14.0128 3.1535 14.3359 3.30176C14.6611 3.45006 14.9141 3.65661 15.0947 3.9209C15.2752 4.18513 15.3683 4.49104 15.374 4.83887H14.1904C14.1676 4.60882 14.0695 4.43012 13.8965 4.30273C13.7235 4.17546 13.4889 4.11133 13.1924 4.11133C12.9909 4.11133 12.8204 4.14023 12.6816 4.19727C12.5431 4.25236 12.4364 4.32902 12.3623 4.42773C12.2901 4.52659 12.2539 4.63919 12.2539 4.76465C12.2501 4.86901 12.272 4.96023 12.3193 5.03809C12.3688 5.11604 12.4369 5.18417 12.5225 5.24121C12.6079 5.29623 12.7064 5.34496 12.8184 5.38672C12.9304 5.42661 13.0505 5.46075 13.1777 5.48926L13.7031 5.61426C13.9578 5.67128 14.1914 5.74776 14.4043 5.84277C14.6172 5.93784 14.8021 6.05457 14.958 6.19336C15.1139 6.33216 15.2348 6.49633 15.3203 6.68457C15.4076 6.8727 15.4522 7.08885 15.4541 7.33203C15.4521 7.68929 15.3612 7.99944 15.1807 8.26172C15.0019 8.52216 14.7427 8.72465 14.4043 8.86914C14.0678 9.01165 13.6617 9.08301 13.1865 9.08301C12.7153 9.08299 12.3048 9.01057 11.9551 8.86621C11.6072 8.72173 11.3345 8.50786 11.1387 8.22461C10.9447 7.9394 10.8435 7.58622 10.834 7.16602H12.0283C12.0416 7.36176 12.0985 7.52509 12.1973 7.65625C12.298 7.78554 12.4323 7.88365 12.5996 7.9502C12.7688 8.01477 12.96 8.04785 13.1729 8.04785C13.3817 8.04781 13.5629 8.01678 13.7168 7.95605C13.8727 7.89522 13.9935 7.81051 14.0791 7.70215C14.1646 7.59387 14.2079 7.46965 14.208 7.3291C14.208 7.19796 14.1687 7.08739 14.0908 6.99805C14.0148 6.90868 13.9022 6.83228 13.7539 6.76953C13.6076 6.70685 13.4276 6.64993 13.2148 6.59863L12.5791 6.43848C12.0868 6.31871 11.6982 6.13163 11.4131 5.87695C11.1279 5.62221 10.9855 5.27916 10.9873 4.84766C10.9854 4.49404 11.0804 4.18517 11.2705 3.9209C11.4625 3.65661 11.7259 3.45006 12.0605 3.30176C12.3951 3.15353 12.7754 3.0791 13.2012 3.0791Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 9H4.48926L4.05664 7.66797H1.94824L1.51465 9H0.19043L2.20703 3.15918H3.79883L5.8125 9ZM2.26172 6.7041H3.74316L3.02539 4.49414H2.98047L2.26172 6.7041Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 3.15918C8.88181 3.15918 9.24025 3.22322 9.52734 3.35059C9.81445 3.47798 10.0303 3.6546 10.1748 3.88086C10.3193 4.10518 10.3916 4.36351 10.3916 4.65625C10.3916 4.88432 10.3461 5.08484 10.2549 5.25781C10.1636 5.4289 10.0386 5.57039 9.87891 5.68066C9.72118 5.78898 9.54022 5.86549 9.33691 5.91113V5.96875C9.55913 5.9783 9.76719 6.04044 9.96094 6.15625C10.1568 6.27223 10.3158 6.43538 10.4375 6.64453C10.5591 6.85173 10.6201 7.09875 10.6201 7.38574C10.6201 7.69567 10.5427 7.97245 10.3887 8.21582C10.2366 8.45719 10.0113 8.64841 9.71289 8.78906C9.41442 8.9297 9.04658 8.99999 8.60938 9H6.11426V3.15918H8.45215ZM7.34863 7.99023H8.35547C8.69948 7.99023 8.95057 7.92504 9.1084 7.79395C9.26621 7.66085 9.34473 7.48325 9.34473 7.2627C9.34466 7.10125 9.3064 6.95844 9.22852 6.83496C9.15056 6.71143 9.03899 6.61427 8.89453 6.54395C8.75196 6.47365 8.58145 6.43848 8.38379 6.43848H7.34863V7.99023ZM7.34863 5.60352H8.26465C8.43369 5.60347 8.58376 5.57354 8.71484 5.51465C8.84791 5.45381 8.95228 5.36807 9.02832 5.25781C9.10623 5.14755 9.14551 5.01529 9.14551 4.86133C9.14542 4.65046 9.07002 4.48078 8.91992 4.35156C8.77163 4.22228 8.56087 4.15724 8.28711 4.15723H7.34863V5.60352Z" fill="black"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>'},r2=(e={})=>{let t="";for(const n of[...Object.keys(Hx),...Object.keys(Gx)]){const o=s2(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(o)}'); }
`}return t},s2=(e,t=1.5)=>{const n=Gx[e];if(n)return n;const o=Hx[e];if(!o)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+o+"</svg>"},a2=(e={})=>wo({feature:"iconSet",css:()=>r2(e)}),l2=a2(),c2=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}&:where(.ag-ltr,.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding:0 var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper),:where(.ag-filter-add-select),:where(.ag-filter-filter),:where(.ag-filter-toolpanel-search),:where(.ag-floating-filter-search-icon),:where(.ag-mini-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper),:where(.ag-ltr) :where(.ag-filter-add-select),:where(.ag-ltr) :where(.ag-filter-filter),:where(.ag-ltr) :where(.ag-filter-toolpanel-search),:where(.ag-ltr) :where(.ag-floating-filter-search-icon),:where(.ag-ltr) :where(.ag-mini-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper),:where(.ag-rtl) :where(.ag-filter-add-select),:where(.ag-rtl) :where(.ag-filter-filter),:where(.ag-rtl) :where(.ag-filter-toolpanel-search),:where(.ag-rtl) :where(.ag-floating-filter-search-icon),:where(.ag-rtl) :where(.ag-mini-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',u2=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",d2={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},h2=()=>wo({feature:"inputStyle",params:{...d2,inputBackgroundColor:Dn,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:ui},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Jn(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>c2+u2}),p2=h2(),g2='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative}.ag-tab:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}.ag-tab.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}:where(.ag-ltr) .ag-tab.ag-tab-selected:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}:where(.ag-rtl) .ag-tab.ag-tab-selected:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}:where(.ag-ltr) .ag-tab.ag-tab-selected:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}:where(.ag-rtl) .ag-tab.ag-tab-selected:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}.ag-tab:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}.ag-tab.ag-tab-selected:after{opacity:1}',f2={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},m2=()=>wo({feature:"tabStyle",params:{...f2,tabBarBorder:!0,tabBarBackgroundColor:Yn(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Dn},css:g2}),C2=m2(),v2=()=>({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),w2=()=>ZO().withPart(t2).withPart(i2).withPart(l2).withPart(C2).withPart(p2).withPart(Nx).withParams(v2()),y2=w2(),ar=(e,t,n,o,i)=>({changeKey:e,type:t,defaultValue:n,noWarn:o,cacheDefault:i}),S2=ar("cellHorizontalPadding","length",16),b2=ar("indentationLevel","length",0,!0,!0),R2=ar("rowGroupIndentSize","length",0),zS=ar("rowHeight","length",42),_S=ar("headerHeight","length",48),Kg=ar("rowBorderWidth","border",1),$S=ar("pinnedRowBorderWidth","border",1),x2=ar("headerRowBorderWidth","border",1);function F2(e,t){for(const n of t.sort((o,i)=>o.moduleName.localeCompare(i.moduleName))){const o=n.css;o&&e.set(`module-${n.moduleName}`,o)}}var P2=class extends LO{initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(zS),this.getSizeEl(_S),this.getSizeEl(Kg),this.getSizeEl($S),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue($S)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Kg)}getHeaderRowBorderWidth(){return this.getCSSVariablePixelValue(x2)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(zS)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(_S)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(S2)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(b2),n=this.getCSSVariablePixelValue(R2);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const o=`${n}px`;return t!=o?(e.style.setProperty("--ag-line-height",o),n):t!=""?Number.parseFloat(t):-1}fireStylesChangedEvent(e){e==="rowBorderWidth"&&this.refreshRowBorderWidthVariable(),super.fireStylesChangedEvent(e)}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(Kg);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&et(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",[NO]),F2(e,Array.from(K1())),e}getDefaultTheme(){return y2}varError(e,t){oe(9,{variable:{cssName:e,defaultValue:t}})}themeError(e){et(240,{theme:e})}shadowRootError(){et(293)}},E2=class extends mn{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new $r}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},D2=class extends E2{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function Vx(e,t,n){const o=e.visibleCols.headerGroupRowCount;if(n>=o)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const r=t.isSpanHeaderHeight();return!i||r&&i.isPadding()?{column:t,headerRowIndex:o}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var T2=class extends ee{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=_t(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:o,colGroupSvc:i,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(n=o.getCol(e),n||(n=i?.getColumnGroup(e)??null)):n=e,!n)return null;const l=r.getHeaderRowContainerCtrl()?.getAllCtrls(),u=pt(l||[]).type==="filter",d=Vo(this.beans)-1;let p=-1,g=n;for(;g;)p++,g=g.getParent();let m=p;return t&&u&&m===d-1&&m++,m===-1?null:{headerRowIndex:m,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:o}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:r}=i,s=i.column,l=Vo(this.beans),u=this.getHeaderRowType(r),d=o.headerGroupRowCount;let{headerRowIndex:p,column:g,headerRowIndexWithoutSpan:m}=e==="UP"?M2(u,s,r):k2(s,r,d),C=!1;return p<0&&(p=0,g=s,C=!0),p>=l?(p=-1,this.currentHeaderRowWithoutSpan=-1):m!==void 0&&(this.currentHeaderRowWithoutSpan=m),!C&&!g?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:p,column:g},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:o,gos:i}=this.beans,r={...o.focusedHeader};let s,l;this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(l="Before",s=this.findHeader(r,l)):(l="After",s=this.findHeader(r,l));const u=i.getCallback("tabToNextHeader");if(t&&u){const d=o.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:s,direction:l});if(d){const{headerRowIndex:p}=o.focusedHeader||{};p!=null&&p!=r.headerRowIndex&&(this.currentHeaderRowWithoutSpan=p)}return d}return s||!t?o.focusHeaderPosition({headerPosition:s,direction:l,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(r,l,n)}focusNextHeaderRow(e,t,n){const o=this.beans,i=e.headerRowIndex;let r=null,s;const l=Vo(o),u=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;r=pt(u),s=i-1,this.currentHeaderRowWithoutSpan-=1}else r=u[0],s=i+1,this.currentHeaderRowWithoutSpan<l?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:d,headerRowIndex:p}=Vx(this.beans,r,s);return p>=l&&(p=-1),o.focusSvc.focusHeaderPosition({headerPosition:{column:d,headerRowIndex:p},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Ot(e)){const o=e.getDisplayedLeafColumns();n=t==="Before"?pt(o):o[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:o}=this.beans;let i=e.column;if(i instanceof jl){const u=i.getDisplayedLeafColumns();i=t==="Before"?u[0]:u[u.length-1]}const r=t==="Before"?o.getColBefore(i):o.getColAfter(i);if(!r)return;const s=o.headerGroupRowCount;if(e.headerRowIndex>=s)return{headerRowIndex:e.headerRowIndex,column:r};const l=n?.getColGroupAtLevel(r,e.headerRowIndex);return l?l.isPadding()&&r.isSpanHeaderHeight()?{headerRowIndex:o.headerGroupRowCount,column:r}:{headerRowIndex:e.headerRowIndex,column:l??r}:{headerRowIndex:r instanceof os&&r.isSpanHeaderHeight()?o.headerGroupRowCount:e.headerRowIndex,column:r}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function M2(e,t,n){const o=n-1;if(e!=="filter"){const i=t instanceof os&&t.isSpanHeaderHeight();let r=t.getParent();for(;r&&(r.getProvidedColumnGroup().getLevel()>o||i&&r.isPadding());)r=r.getParent();if(r)return i?{column:r,headerRowIndex:r.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:o}:{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:o}}return{column:t,headerRowIndex:o,headerRowIndexWithoutSpan:o}}function k2(e,t,n){const o=t+1,i={column:e,headerRowIndex:o,headerRowIndexWithoutSpan:o};if(e instanceof jl){if(o>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:o};let s=e.getDisplayedChildren()[0];if(s instanceof jl&&s.isPadding()){const u=s.getDisplayedLeafColumns()[0];u.isSpanHeaderHeight()&&(s=u)}i.column=s,s instanceof os&&s.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=o)}return i}var I2=class extends ee{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(QM(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(St(this.beans),nx)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=St(this.beans);return this.isDomDataPresentInHierarchy(e,xd,!0)?!0:this.isDomDataPresentInHierarchy(e,Fd,!0)}isDomDataPresentInHierarchy(e,t,n){let o=e;for(;o;){const i=fR(this.gos,o,t);if(i)return i.destroyed&&n?(this.attemptToRecoverFocus(),!1):!0;o=o.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:o}=e,i={rowIndex:t,rowPinned:n,column:o,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return r&&(i.isFullWidthCell=r.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:o,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:r=!1,sourceEvent:s}=e,l=this.colModel.getCol(t);if(!l){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:di(o),column:l};const u=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...u,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:r,sourceEvent:s}),this.previousCellFocusParams=u}isCellFocused(e){return this.focusedCell==null?!1:Wm(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:o}}=e,{column:i,headerRowIndex:r}=this.focusedHeader;return t===i&&n===r&&o==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Wr(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:o,event:i,fromCell:r,rowWithoutSpanValue:s,scroll:l=!0}=e;let{headerPosition:u}=e;if(r&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(u);if(o){const d=this.focusedHeader,p=Vo(this.beans);if(n){const g=this.gos.getCallback("tabToNextHeader");g&&(u=this.getHeaderPositionFromUserFunc({userFunc:g,direction:t,currentPosition:d,headerPosition:u,headerRowCount:p}))}else{const g=this.gos.getCallback("navigateToNextHeader");if(g&&i){const m={key:i.key,previousHeaderPosition:d,nextHeaderPosition:u,headerRowCount:p,event:i};u=g(m)}}}return u?this.focusProvidedHeaderPosition({headerPosition:u,direction:t,event:i,fromCell:r,rowWithoutSpanValue:s,scroll:l}):!1}focusHeaderPositionFromUserFunc(e){if(Wr(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:o,event:i}=e,r=this.focusedHeader,s=Vo(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:o,currentPosition:r,headerPosition:n,headerRowCount:s});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:o,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:o,headerPosition:i,headerRowCount:r}=e,l=t({backwards:n==="Before",previousHeaderPosition:o,nextHeaderPosition:i,headerRowCount:r});return l===!0?o:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:o,rowWithoutSpanValue:i,event:r,scroll:s=!0}=e,{column:l,headerRowIndex:u}=t,{filterManager:d,ctrlsSvc:p,headerNavigation:g}=this.beans;if(this.focusedHeader&&hk(e.headerPosition,this.focusedHeader))return!1;if(u===-1)return d?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:l,event:r});s&&g?.scrollToColumn(l,n);const C=p.getHeaderRowContainerCtrl(l.getPinned())?.focusHeader(t.headerRowIndex,l,r)||!1;return g&&C&&(i!=null||o)&&(g.currentHeaderRowWithoutSpan=i??-1),C}focusFirstHeader(){if(this.overlays?.exclusive&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=Vx(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.exclusive&&this.focusOverlay(!0))return!0;const t=Vo(this.beans)-1,n=pt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===di(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Yr(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:o}=e;if(this.overlays?.exclusive)return n&&this.focusOverlay(t);if(Qd(this.beans))return t&&!Wr(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:da(this.beans,t);const i=t?ok(this.beans):nk(this.beans);if(i){const r=e.column??this.focusedHeader?.column,{rowIndex:s,rowPinned:l}=i,u=mi(this.beans,i);if(!r||!u||s==null)return!1;if(r.isSuppressNavigable(u)){const d=this.gos.get("enableRtl");let p;return!o||o.key===q.TAB?p=d?q.LEFT:q.RIGHT:p=o.key,this.beans.navigation?.navigateToNextCell(null,p,{rowIndex:s,column:r,rowPinned:l||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:s,column:r,rowPinned:l}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:s,column:r,rowPinned:di(l),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:s,rowPinned:l,column:r})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Vo(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},A2=class extends ee{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){const{gos:e}=this;this.horizontalScrollShowing=e.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=e.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth();const t=this.updateScrollVisible.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,newColumnsLoaded:t})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:Gm();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},L2=class extends ee{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},O2=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],Ju=new Set(["gridPreDestroyed","fillStart","pasteStart"]),iC=O2.reduce((e,t)=>(e[t]=mT(t),e),{}),oa={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agExportingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agNoMatchingRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agBigIntColumnFilter:"BigIntFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agBigIntColumnFloatingFilter:"BigIntFilter",agDateColumnFloatingFilter:"DateFilter",agFormulaCellEditor:"Formula",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function US(e){return`"${e}"`}var N2=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),B2={allowFormula:"Formula",aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t,...n})=>{const o=n.groupRowEditable;return!!t||!!o?typeof e=="string"?oa[e]??"CustomEditor":"CustomEditor":null},cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:oa[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?oa[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},H2=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},allowFormula:{supportedRowModels:["clientSide"]},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return _o(262);if(t.smallLeft)return _o(263);if(t.smallRight)return _o(264)}return null}},sort:{validate:t=>Js(t.sort)||Qi(t.sort)?null:`sort must be of type (SortDirection | SortDef), currently it is ${typeof t.sort=="object"?JSON.stringify(t.sort):$u(t.sort)}`},initialSort:{validate:t=>Js(t.initialSort)||Qi(t.initialSort)?null:`initialSort must be of non-null type (SortDirection | SortDef), currently it is ${typeof t.initialSort=="object"?JSON.stringify(t.initialSort):$u(t.initialSort)}`},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const o=n.filter(i=>!(Js(i)||Qi(i)));if(o.length>0)return`sortingOrder must be an array of type non-null (SortDirection | SortDef)[], incorrect items are: [${o.map(i=>typeof i=="string"||i==null?$u(i):JSON.stringify(i)).join(", ")}]`}else if(!Array.isArray(n)||!n.length)return`sortingOrder must be an array with at least one element, currently it is [${n}]`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:o,suppressRowTransform:i,enableCellSpan:r,rowDragEntireRow:s,enableCellTextSelection:l})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":o?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":r?s?"colDef.spanRows is not supported with rowDragEntireRow.":l?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:n={}},o){const i=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),r=[];for(const s of t.groupHierarchy??[]){if(typeof s=="object"){o.validation?.validateColDef(s);continue}!i.has(s)&&!(s in n)&&r.push(US(s))}if(r.length>0){const s=`The following parts of colDef.groupHierarchy are not recognised: ${r.join(", ")}.`,l=`Choose one of ${[...i].map(US).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${s}
${l}`}return null}}}),G2={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,groupRowEditable:void 0,groupRowValueSetter:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0,allowFormula:void 0},V2=()=>Object.keys(G2),W2=()=>({objectName:"colDef",allProperties:V2(),docsUrl:"column-properties/",deprecations:N2(),validations:H2()}),z2=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],_2=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","activeOverlayParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","formulaDataSource","formulaFuncs","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],$2=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector","suppressOverlays"],Wx=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipSwitchShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],U2=["theme","rowSelection"],j2=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],zx=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","refreshAfterGroupEdit","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows","animateColumnResizing"],K2=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","overlayComponent","loadingOverlayComponent","noRowsOverlayComponent","overlayComponentSelector","activeOverlay","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],q2=()=>[...$2,..._2,...z2,...Wx,...K2,...zx,...j2,...U2],Y2=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function ko(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var Q2={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",refreshAfterGroupEdit:["RowGrouping","TreeData"],rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},X2=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return ko("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return ko("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return ko("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const o=n.domLayout,i=["autoHeight","normal","print"];return o&&!i.includes(o)?`domLayout must be one of [${i.join()}], currently it's ${o}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:o,pinnedBottomRowData:i}){return n&&(o||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:o,pinnedTopRowData:i,pinnedBottomRowData:r}){return o&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&o?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:o,pinnedTopRowData:i,pinnedBottomRowData:r}){return o&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&o?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:n={}},o,i){for(const r of Object.keys(n))i.validation?.validateColDef(n[r]);return null}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return _o(262);if(n.smallLeft)return _o(263);if(n.smallRight)return _o(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return ko("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:n=>{if(typeof n.ssrmExpandAllAffectsAllRows=="boolean"){if(n.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(n.ssrmExpandAllAffectsAllRows&&typeof n.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return ko("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return ko("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const o=n.paginationPageSizeSelector;return typeof o=="boolean"||o==null||o.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return ko("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const o=n.rowStyle;return o&&typeof o=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return ko("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const o=n.sortingOrder;if(Array.isArray(o)&&o.length>0){const i=o.filter(r=>!fo(r));if(i.length>0)return`sortingOrder must be an array of type (SortDirection | SortDef)[], incorrect items are: ${i.map(r=>typeof r=="string"||r==null?$u(r):JSON.stringify(r))}]`}else if(!Array.isArray(o)||!o.length)return`sortingOrder must be an array with at least one element, currently it's ${o}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},tooltipSwitchShowDelay:{validate:n=>n.tooltipSwitchShowDelay&&n.tooltipSwitchShowDelay<0?"tooltipSwitchShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const o=n.rowModelType??"clientSide";switch(o){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:r,getDataPath:s,getRowId:l}=n;if(!i&&!r&&!s)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(s)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(r)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(r){if(!l)return"getRowId callback not provided, tree data with parent id cannot be built.";if(s)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${o} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return ko("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return ko("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:o}){return n?.field&&o?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&o?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const o=n.renderingMode,i=["default","legacy"];return o&&!i.includes(o)?`renderingMode must be one of [${i.join()}], currently it's ${o}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:n})=>{if(!n)return null;const o=["fitCellContents","fitGridWidth","fitProvidedWidth"],i=n.type;return i!=="fitCellContents"&&i!=="fitGridWidth"&&i!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${o.map(r=>'"'+r+'"').join(", ")}, currently it's ${i}`:i==="fitProvidedWidth"&&typeof n.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${n.width}`:null}}},t={};for(const n of zx)t[n]={expectedType:"boolean"};for(const n of Wx)t[n]={expectedType:"number"};return pn(t,e),t},Z2=()=>({objectName:"gridOptions",allProperties:[...q2(),...Object.values(iC)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Y2(),validations:X2()}),J2=0,eN=0,jS="__ag_grid_instance",tN=class extends ee{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=eN++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new $r,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const o=Ju.has(t);if(o&&!e||!o&&e||!nN(t))return;const i=(r,s)=>{const l=iC[r],u=this.gridOptions[l];typeof u=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>u(s))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const r of this.queueEvents)i(r.eventName,r.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??nR[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return de(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addCommon(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const o={id:J2++,properties:[]},i=[],{gridOptions:r,validation:s}=this;for(const l of Object.keys(e)){const u=Im.applyGlobalGridOption(l,e[l]);s?.warnOnInitialPropertyUpdate(n,l);const d=t||typeof u=="object"&&n==="api",p=r[l];if(d||p!==u){r[l]=u;const g={type:l,currentValue:u,previousValue:p,changeSet:o,source:n};i.push(g)}}this.validateGridOptions(this.gridOptions),o.properties=i.map(l=>l.type);for(const l of i)Kr(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const o=e[n];if(o==null||o===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,Q2),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,B2),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(o=>this.isModuleRegistered(o)):this.isModuleRegistered(e);return n||et(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Am(),rowModelType:this.get("rowModelType"),isUmd:aR()}}isModuleRegistered(e){return bf(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[jS]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const n=t[jS];if(de(n))return n===this.instanceId;t=t.parentElement}return!1}};function nN(e){return!!iC[e]}var oN=class extends ee{constructor(e,t){super(),this.column=e,this.eGui=t,this.lastMovingChanged=0}postConstruct(){this.addManagedElementListeners(this.eGui,{click:e=>e&&this.onClick(e)}),this.addManagedListeners(this.column,{movingChanged:()=>{this.lastMovingChanged=Date.now()}})}onClick(e){const{sortSvc:t,rangeSvc:n,gos:o}=this.beans;if(!(Zs(o)?e.altKey:!0))n?.handleColumnSelection(this.column,e);else if(this.column.isSortable()){const r=this.column.isMoving(),l=Date.now()-this.lastMovingChanged<50;r||l||t?.progressSortFromEvent(this.column,e)}}};function iN(e,t){const n={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:n},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:n},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[e?{tag:"span",ref:"eColRef",cls:"ag-header-col-ref"}:null,{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:n},t?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var rN=class extends kt{constructor(){super(...arguments),this.eFilter=Ce,this.eFilterButton=Ce,this.eSortIndicator=Ce,this.eMenu=Ce,this.eLabel=Ce,this.eText=Ce,this.eColRef=Ce,this.eSortOrder=Ce,this.eSortAsc=Ce,this.eSortDesc=Ce,this.eSortMixed=Ce,this.eSortNone=Ce,this.eSortAbsoluteAsc=Ce,this.eSortAbsoluteDesc=Ce,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||e.column.formulaRef!=this.currentRef||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};pn(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const{formula:n}=this.beans,o=e.template;return o?o?.trim?o.trim():o:iN(!!n?.active,t)}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:o,userCompFactory:i}=this.beans,r=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!r),this.setTemplate(this.currentTemplate,r?[r]:void 0),this.eLabel&&(this.mouseListener??(this.mouseListener=this.createManagedBean(new oN(e.column,this.eLabel)))),n?.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupColumnRefIndicator(),o?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=FM(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(o=>{this.isLoadingInnerComponent=!1,o&&(this.isAlive()?(this.innerHeaderComponent=o,this.eText&&this.eText.appendChild(o.getGui())):this.destroyBean(o))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=va(t))}addInIcon(e,t,n){const o=En(e,this.beans,n);o&&t.appendChild(o)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Zi(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,o=Hn(e);this.addInIcon(o?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!o);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:o,eMenu:i,eFilterButton:r}=this,s=t.column,l=Hn(n);if(e&&!l){if(o.menuSvc?.isFilterMenuInHeaderEnabled(s))return t.showFilter(r??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??r??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:o,eSortOrder:i,eSortAsc:r,eSortDesc:s,eSortMixed:l,eSortNone:u,eSortAbsoluteAsc:d,eSortAbsoluteDesc:p}=this;o.attachCustomElements(i,r,s,l,u,d,p)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n)}setupColumnRefIndicator(){const{eColRef:e,beans:{editModelSvc:t},params:n}=this;e&&(this.currentRef=n.column.formulaRef,e.textContent=this.currentRef,ht(e,!1),this.addManagedEventListeners({cellEditingStarted:()=>{const o=t?.getEditPositions(),i=!!this.currentRef&&!!o?.some(r=>r.column.isAllowFormula());ht(e,i)},cellEditingStopped:()=>{ht(e,!1)}}))}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const o=t.column.isFilterActive();ht(e,o,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,o){if(!e)return Zi(t),!1;const i=this.params.column;return this.addInIcon(o,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent=this.destroyBean(this.innerHeaderComponent),this.mouseListener=this.destroyBean(this.mouseListener)}},sN=class extends ee{constructor(e,t){super(),this.eLabel=e,this.columnGroup=t,this.isSticky=!1,this.left=null,this.right=null}postConstruct(){const{columnGroup:e,beans:t}=this,{ctrlsSvc:n}=t;n.whenReady(this,()=>{const o=this.refreshPosition.bind(this);e.getPinned()==null&&this.addManagedEventListeners({bodyScroll:i=>{i.direction==="horizontal"&&this.updateSticky(i.left)}}),this.addManagedListeners(e,{leftChanged:o,displayedChildrenChanged:o}),this.addManagedEventListeners({columnResized:o}),this.refreshPosition()})}refreshPosition(){const{columnGroup:e,beans:t}=this,n=e.getLeft(),o=e.getActualWidth();if(n==null||o===0){this.left=null,this.right=null,this.setSticky(!1);return}this.left=n,this.right=n+o;const i=t.colViewport.getScrollPosition();i!=null&&this.updateSticky(i)}updateSticky(e){const{beans:t,left:n,right:o}=this;if(n==null||o==null){this.setSticky(!1);return}const{gos:i,visibleCols:r}=t,l=i.get("enableRtl")?r.bodyWidth-e:e;this.setSticky(n<l&&o>l)}setSticky(e){const{isSticky:t,eLabel:n}=this;t!==e&&(this.isSticky=e,n.classList.toggle("ag-sticky-label",e))}},aN={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},lN=class extends kt{constructor(){super(aN),this.agOpened=Ce,this.agClosed=Ce,this.agLabel=Ce,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&oe(89)}workOutInnerHeaderGroupComponent(e,t){const n=EM(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(o=>{this.isLoadingInnerComponent=!1,o&&(this.isAlive()?(this.innerHeaderGroupComponent=o,this.agLabel.appendChild(o.getGui())):this.destroyBean(o))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:{colGroupSvc:o}}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=u=>{if(gi(u))return;const d=!n.isExpanded();o.setColumnGroupOpened(n.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(t,i),this.addTouchAndClickListeners(e,i);const r=u=>{Qr(u)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const s=n.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t){this.beans.touchSvc?.setupForHeaderGroupElement(this,e,t),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const o=n.isExpanded();ht(e,o),ht(t,!o)}else ht(e,!1),ht(t,!1)}addInIcon(e,t){const n=En(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;ht(t,!1),ht(n,!1)}}setupLabel(e){const{displayName:t,columnGroup:n}=e,{innerHeaderGroupComponent:o,isLoadingInnerComponent:i}=this,r=o||i;de(t)&&!r&&(this.agLabel.textContent=va(t)),n.getColGroupDef()?.suppressStickyLabel||this.createManagedBean(new sN(this.getGui(),n))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},cN={moduleName:"ColumnHeaderComp",version:ue,userComponents:{agColumnHeader:rN},icons:{menu:"menu",menuAlt:"menu-alt"}},uN={moduleName:"ColumnGroupHeaderComp",version:ue,userComponents:{agColumnGroupHeader:lN},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},dN=class extends ee{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&oe(92)}createTask(e,t,n,o,i=!1){this.verify();let r=n;o&&this.batchFrameworkComps&&(r="f1");const s={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[r],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,o)=>n.deferred!==o.deferred?n.deferred?-1:1:n.index!==o.index?t*(o.index-n.index):o.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:o,destroyTasks:i,beans:r}=this,{ctrlsSvc:s,frameworkOverrides:l}=r,u=t.list,d=n.list,p=o.list,g=Date.now();let m=0;const C=e<=0,w=s.getScrollFeature();for(;C||m<e;){if(!w.scrollGridIfNeeded()){let R;if(u.length)this.sortTaskList(t),R=u.pop().task;else if(d.length)this.sortTaskList(n),R=d.pop().task;else if(p.length)l.wrapOutgoing(()=>{for(;(C||m<e)&&!w.scrollGridIfNeeded();){if(p.length)this.sortTaskList(o),R=p.pop().task,R();else break;m=Date.now()-g}}),R=()=>{};else if(i.length)R=i.pop();else break;R()}m=Date.now()-g}u.length||d.length||p.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);bi(this.beans,e)}isQueueEmpty(){return!this.ticking}},hN={moduleName:"AnimationFrame",version:ue,beans:[dN]},pN=class extends ee{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return En(e,this.beans,t?.column)}},gN=class extends ee{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Vr())return;const t=(n,o,i)=>{const{rowCtrl:r,cellCtrl:s}=e.getControlsForEventTarget(i?.target??null);s?.column&&s.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,r,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Vr()||dd("dblclick"))return!1;const o=Date.now(),i=o-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=o,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:o}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:r,eFilterButton:s}=e,l=new Er(e.getGui(),!0);e.addDestroyFunc(()=>l.destroy());const u=e.shouldSuppressMenuHide(),d=u&&de(r)&&i.enableMenu;let p=l;if(d&&(p=new Er(r,!0),e.addDestroyFunc(()=>p.destroy())),i.enableMenu||o?.isHeaderContextMenuEnabled(i.column)){const g=d?"tap":"longTap",m=C=>i.showColumnMenuAfterMouseClick(C.touchStart);e.addManagedListeners(p,{[g]:m}),e.addManagedListeners(l,{longTap:m})}if(i.enableSorting){const g=m=>{const C=m.touchStart.target;u&&(r?.contains(C)||s?.contains(C))||n?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(l,{tap:g})}if(i.enableFilterButton&&s){const g=new Er(s,!0);e.addManagedListeners(g,{tap:()=>i.showFilter(s)}),e.addDestroyFunc(()=>g.destroy())}}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new Er(t.eGridHeader,!0),o=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(n,{longTap:o}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const o=new Er(t,!0);e.addManagedListeners(o,{tap:n}),e.addDestroyFunc(()=>o.destroy())}mockContextMenu(e,t,n){if(!Vr())return;const o=new Er(t),i=r=>{_l(this.beans,r.touchEvent)&&n(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(o,{longTap:i}),e.addDestroyFunc(()=>o.destroy())}},fN={moduleName:"Touch",version:ue,beans:[gN]},mN=class extends ee{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===q.UP,o=e===q.DOWN,i=e===q.LEFT;let r,s;const{pageBounds:l,gos:u,visibleCols:d,pinnedRowModel:p}=this.beans,{rowPinned:g}=t;if(n||o)g&&p?n?s=0:s=g==="top"?p.getPinnedTopRowCount()-1:p.getPinnedBottomRowCount()-1:s=n?l.getFirstRow():l.getLastRow(),r=t.column;else{const m=u.get("enableRtl");s=t.rowIndex,r=(i!==m?d.allCols:[...d.allCols].reverse()).find(w=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:w}))}return r?{rowIndex:s,rowPinned:g,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,o=!1;for(;!o;){switch(e){case q.UP:n=this.getCellAbove(n);break;case q.DOWN:n=this.getCellBelow(n);break;case q.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case q.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,oe(8,{key:e});break}n?o=this.isCellGoodToFocusOn(n):o=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:o,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=o?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=o?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=dS(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=Rd(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,o=t.allCols;let i=e.rowIndex,r=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=o[0];const l=dS(this.beans,e,!0);if(Pt(l)||!l.rowPinned&&!(n?.isRowInPage(l.rowIndex)??!0))return null;i=l?l.rowIndex:null,r=l?l.rowPinned:null}return{rowIndex:i,column:s,rowPinned:r}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:o}=t,i=n.allCols;let r=e.rowIndex,s=e.rowPinned,l=n.getColBefore(e.column);if(!l){l=pt(i);const u=Rd(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(Pt(u)||!u.rowPinned&&!(o?.isRowInPage(u.rowIndex)??!0))return null;r=u?u.rowIndex:null,s=u?u.rowPinned:null}return{rowIndex:r,column:l,rowPinned:s}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const o=e.createColumnFunctionCallbackParams(t);return n(o)}return!1}};function CN(e){return e.focusSvc.getFocusedCell()}function vN(e){return e.focusSvc.clearFocusedCell()}function wN(e,t,n,o){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:o,forceBrowserFocus:!0})}function yN(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function SN(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function bN(e,t,n=!1){const o=e.headerNavigation?.getHeaderPositionForColumn(t,n);o&&e.focusSvc.focusHeaderPosition({headerPosition:o})}function Zr(e){const t=e;return t?.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var RN=class extends ee{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new _x,this.rowValidations=new $x,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const o=e.pinnedSibling;if(o)return this.getEditRow(o)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const n=this.getEditRow(e),o=e.pinnedSibling,i=t&&o&&this.getEditRow(o);if(!n&&!i)return;const r={...e.data},s=(l,u)=>l.forEach(({pendingValue:d},p)=>{d!==Yt&&(u[p.getColId()]=d)});return n&&s(n,r),i&&s(i,r),r}getEdit(e={},t){const{rowNode:n,column:o}=e,i=this.edits;if(this.suspendEdits||i.size===0||!n||!o)return;const r=i.get(n)?.get(o);if(r)return r;if(t?.checkSiblings){const s=n.pinnedSibling;if(s)return i.get(s)?.get(o)}}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,o)=>{const i=new Map;n.forEach(({editorState:r,...s},l)=>i.set(l,{...s})),t.set(o,i)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const o=new Map;t.forEach((i,r)=>o.set(r,{...i})),this.edits.set(n,o)})}setEdit(e,t){const n=this.edits;(n.size===0||!n.has(e.rowNode))&&n.set(e.rowNode,new Map);const o=this.getEdit(e),i={editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...o,...t};return this.getEditRow(e.rowNode).set(e.column,i),i}clearEditValue(e){const{rowNode:t,column:n}=e;if(!t)return;const o=r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"};if(!n){this.getEditRow(t)?.forEach(o);return}const i=this.getEdit(e);i&&o(i)}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,o)=>{for(const i of n.keys()){const{editorState:r,...s}=n.get(i);t.push({rowNode:o,column:i,...s})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:o}=e,{withOpenEditor:i}=t;if(n){const r=this.getEditRow(n,t);return r?o?i?this.getEdit(e)?.state==="editing":r.has(o):r.size!==0?i?Array.from(r.values()).some(({state:s})=>s==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:r})=>r==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:o}=e;o&&!t.has(o)&&t.set(o,{editorValue:void 0,pendingValue:Yt,sourceValue:this.beans.valueSvc.getValue(o,n,"data"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e,t,n){if(this.hasEdits(e))if(t){const o=this.getEditRow(e.rowNode)?.get(e.column);o&&(o.pendingValue===Yt||o.pendingValue===o.sourceValue)?this.removeEdits(e):o&&n&&(o.editorValue=void 0)}else this.removeEdits(e)}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},_x=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:o}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(o,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},$x=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Dd(e,t={}){const{rowIndex:n,rowId:o,rowCtrl:i,rowPinned:r}=t;if(i)return i;const{rowModel:s,rowRenderer:l}=e;let{rowNode:u}=t;return u||(o?u=ik(e,o,r):n!=null&&(u=s.getRow(n))),l.getRowCtrls(u?[u]:[])?.[0]}function ct(e,t={}){const{cellCtrl:n,colId:o,columnId:i,column:r}=t;if(n)return n;const s=e.colModel.getCol(o??i??Vf(r)),l=t.rowCtrl??Dd(e,t),u=l?.getCellCtrl(s)??void 0;if(u)return u;const d=t.rowNode??l?.rowNode;if(d)return e.rowRenderer.getCellCtrls([d],[s])?.[0]}function KS(e){const{editSvc:t}=e;t?.isBatchEditing()?(Yi(e,{persist:!0}),Ar(e)):t?.stopEditing(void 0,{source:"api"})}function xN(e,t,n){const{gos:o,popupSvc:i}=t;if(!o.get("stopEditingWhenCellsLoseFocus"))return;const r=s=>{const l=s.relatedTarget;if(Tf(l)===null){KS(t);return}let u=n.some(d=>d.contains(l))&&o.isElementInThisInstance(l);u||(u=!!i&&(i.getActivePopups().some(d=>d.contains(l))||i.isElementWithinCustomPopup(l))),u||KS(t)};for(const s of n)e.addManagedElementListeners(s,{focusout:r})}function Vf(e){if(e)return typeof e=="string"?e:e.getColId()}var Yt=Symbol("unedited"),FN=(e,t={})=>{const n=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns),o=new Array(n.length);let i=0;for(let r=0,s=n.length;r<s;++r){const u=n[r].comp?.getCellEditor();u&&(o[i++]=Zr(u))}return o.length=i,o};function PN(e,t,n,o,i,r){t.length===0&&n?.rowNode&&n?.column&&ha(e,n,{key:o,event:i,cellStartedEdit:r});const{valueSvc:s,editSvc:l,editModelSvc:u}=e,{rowNode:d,column:p}=n??{};for(const g of t){const{rowNode:m,column:C}=g,w=ct(e,g);if(!w){if(m&&C){const R=s.getValue(C,m,"data"),P=(n?.rowNode===m&&n?.column===C&&o||void 0)??l?.getCellDataValue(g)??s.getValueForDisplay({column:C,node:m,from:"edit"})?.value??R??Yt;u?.setEdit(g,{pendingValue:pa(e,P,!1,C),sourceValue:R,state:"editing"})}continue}const y=r&&d===w.rowNode&&w.column===p;ha(e,{rowNode:d,column:w.column},{key:y?o:null,event:y?i:null,cellStartedEdit:y&&r})}}function mo({pendingValue:e,sourceValue:t}){return e===Yt&&(e=t),e!==t}function EN(e){const t=new Map;for(const[n,o]of e){const i=new Map;for(const[r,s]of o)mo(s)&&i.set(r,s);i.size>0&&t.set(n,i)}return t}function ha(e,t,n){const{key:o,event:i,cellStartedEdit:r,silent:s}=n??{},{editModelSvc:l,editSvc:u,gos:d,userCompFactory:p}=e,g=ct(e,t),m=g?.comp?.getCellEditor(),C=jx(e,t,o,r&&!s),w=l?.getEdit(t),y=C.value??w?.sourceValue;if(m){l?.setEdit(t,{editorValue:pa(e,y,!0,t.column),state:"editing"}),m.refresh?.(C);return}const R=t.column.getColDef(),x=GR(p,R,C);if(!x)return;const{popupFromSelector:E,popupPositionFromSelector:P}=x,M=E??!!R.cellEditorPopup,T=P??R.cellEditorPopupPosition;if(Kx(x.params,i),!g)return;const{rangeFeature:k,rowCtrl:I,comp:z,onEditorAttachedFuncs:_}=g;l?.setEdit(t,{editorValue:pa(e,y,!0,t.column),state:"editing"}),g.editCompDetails=x,_.push(()=>k?.unsetComp()),z?.setEditDetails(x,M,T,d.get("reactiveCustomComponents")),I?.refreshRow({suppressFlash:!0});const $=l?.getEdit(t);!s&&!$?.editorState?.cellStartedEditing&&(u?.dispatchCellEvent(t,i,"cellEditingStarted",{value:y}),l?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}function Ux(e,t,n){const o={editorValueExists:!1};if(rC(e)&&(t.getValidationErrors?.()?.length??0)>0||n?.isCancelling)return o;if(n?.isStopping){const r=t?.isCancelAfterEnd?.();if(r)return{...o,isCancelAfterEnd:r}}return{editorValue:t.getValue(),editorValueExists:!0}}function jx(e,t,n,o){const{valueSvc:i,gos:r,editSvc:s}=e,l=e.gos.get("enableGroupEdit"),u=ct(e,t),d=t.rowNode?.rowIndex??void 0,p=s?.isBatchEditing(),g=e.colModel.getCol(t.column.getId()),{rowNode:m,column:C}=t,w=u.comp?.getCellEditor(),y=s?.getCellDataValue(t),R=y===void 0?w?Ux(e,w)?.editorValue:void 0:y,x=R===Yt?i.getValueForDisplay({column:g,node:m,from:"edit"})?.value:R;let E=l?R:x;return C.isAllowFormula()&&e.formula?.isFormula(E)&&(E=e.formula?.normaliseFormula(E,!0)??E),ke(r,{value:E,eventKey:n??null,column:C,colDef:C.getColDef(),rowIndex:d,node:m,data:m.data,cellStartedEdit:!!o,onKeyDown:u?.onKeyDown.bind(u),stopEditing:P=>{s.stopEditing(t,{source:p?"ui":"api",suppressNavigateAfterEdit:P}),ql(e,t,{})},eGridCell:u?.eGui,parseValue:P=>i.parseValue(g,m,P,u?.value),formatValue:u?.formatValue.bind(u),validate:()=>{s?.validateEdit()}})}function ed(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((o,i)=>{o.forEach((r,s)=>{!t&&(r.state==="editing"||r.pendingValue===Yt)||!mo(r)&&(r.state!=="editing"||t)&&n?.removeEdits({rowNode:i,column:s})})})}function DN(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:o,cellStartedEdit:i}=t.editCompDetails.params,{column:r}=t,s=jx(e,t,o,i),l=r.getColDef(),u=GR(e.userCompFactory,l,s);n.refresh(Kx(u.params,o))}function Kx(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Yi(e,t){for(const n of e.editModelSvc?.getEditPositions()??[]){const o=ct(e,n);if(!o)continue;const i=o.comp?.getCellEditor();if(!i)continue;const{editorValue:r,editorValueExists:s,isCancelAfterEnd:l}=Ux(e,i,t);l&&e.editModelSvc?.setEdit(n,{editorState:{isCancelAfterEnd:l}}),yl(e,n,r,void 0,!s,t)}}function yl(e,t,n,o,i,r){const{editModelSvc:s,valueSvc:l}=e;if(!s)return;const{rowNode:u,column:d}=t;if(!(u&&d))return;let p=s.getEdit(t);if(p?.sourceValue===void 0){const g=p?pa(e,p.editorValue,!1,d):Yt,m={sourceValue:l.getValue(d,u,"data"),pendingValue:g};r?.persist&&(m.state="changed"),p=s.setEdit(t,m)}s.setEdit(t,{editorValue:i?pa(e,p.sourceValue,!0,d):n}),r?.persist&&TN(e,t)}function pa(e,t,n,o){const{formula:i}=e;return o.isAllowFormula()&&i?.isFormula(t)?i?.normaliseFormula(t,n)??t:t}function TN(e,t){const{editModelSvc:n}=e,o=n?.getEdit(t),r={pendingValue:pa(e,o?.editorValue,!1,t.column)};!o?.editorState?.cellStoppedEditing&&o?.state!=="editing"&&(r.state="changed"),n?.setEdit(t,r)}function Ar(e,t,n={}){if(t||(t=e.editModelSvc?.getEditPositions()),t)for(const o of t)ql(e,o,n)}function ql(e,t,n,o=ct(e,t)){const i=e.editModelSvc,r=i?.getEdit(t);let s;if(r&&r.state!=="editing"&&r.editorState?.cellStoppedEditing?s=r.state:s="changed",!o){r&&i?.setEdit(t,{state:s});return}const l=o.comp,u=l?.getCellEditor();if(l&&!u){if(o?.refreshCell(),r){i?.setEdit(t,{state:s});const p=e.gos.get("enableGroupEdit")?qS(r,n?.cancel):{valueChanged:!1,newValue:void 0,oldValue:r.sourceValue};YS(e,t,p,n)}return}if(rC(e)){const p=r&&u?.getValidationErrors?.(),g=i?.getCellValidationModel();p?.length?g?.setCellValidation(t,{errorMessages:p}):g?.clearCellValidation(t)}r&&i?.setEdit(t,{state:s}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),o?.refreshCell({force:!0,suppressFlash:!0});const d=i?.getEdit(t);if(d&&d.state!=="editing"){const p=n?.cancel,g=e.gos.get("enableGroupEdit")?qS(d,p):MN(d,r,p);YS(e,t,g,n)}}function qS(e,t){const{sourceValue:n,pendingValue:o}=e;let i;return!t&&o!==Yt&&(i=o),{valueChanged:!t&&mo(e),newValue:i,oldValue:n,value:n}}function MN(e,t,n){if(n||e.editorState.isCancelAfterEnd)return{valueChanged:!1,newValue:void 0,oldValue:e.sourceValue};let o=e.editorValue;return(o==null||o===Yt)&&(o=t?.pendingValue),o===Yt&&(o=void 0),{valueChanged:mo(e),newValue:o,oldValue:e.sourceValue}}function YS(e,t,n,{silent:o,event:i}={}){const{editSvc:r,editModelSvc:s}=e,l=s?.getEdit(t),{editorState:u}=l||{},{isCancelBeforeStart:d}=u||{};!o&&!d&&(r?.dispatchCellEvent(t,i,"cellEditingStopped",n),s?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function kN(e){if(!e)return!1;for(let t=0,n=e.length;t<n;++t){const o=e[t],i=o.cellEditorParams;if(!(!i||!o.editable&&!o.groupRowEditable)&&(i.minLength!==void 0||i.maxLength!==void 0||i.getValidationErrors!==void 0||i.min!==void 0||i.max!==void 0))return!0}return!1}function IN(e){const t=e.rowRenderer.getCellCtrls();for(let n=0,o=t.length;n<o;++n){const r=t[n].comp?.getCellEditor();if(r){const s=Zr(r);if(s.getValidationElement||s.getValidationErrors)return!0}}return!1}function rC(e){return!!e.gos.get("getFullRowEditValidationErrors")||kN(e.colModel.getColumnDefs())||IN(e)}function Jr(e,t){if(!(t||rC(e)))return;const n=new _x,{ariaAnnounce:o,localeSvc:i,editModelSvc:r,gos:s}=e,l=s.get("editType")==="fullRow",d=J0(i)("ariaValidationErrorPrefix","Cell Editor Validation"),p=new Set;for(const g of e.rowRenderer.getCellCtrls()){const m=g.comp?.getCellEditor();if(!m)continue;const C=Zr(m),{rowNode:w,column:y}=g,R=C.getValidationErrors?.()??[],x=C.getValidationElement?.(!1)||!C.isPopup?.()&&g.eGui;if(x){const E=R!=null&&R.length>0,P=E?R.join(". "):"";xm(x,E),E&&o.announceValue(`${d} ${R}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(P):x.classList.toggle("invalid",E)}R?.length>0&&n.setCellValidation({rowNode:w,column:y},{errorMessages:R}),p.add(g.rowCtrl)}if(Yi(e,{persist:!1}),r?.setCellValidationModel(n),l){const g=AN(e);r?.setRowValidationModel(g)}for(const g of p.values()){g.rowEditStyleFeature?.applyRowStyles();for(const m of g.getAllCellCtrls())m.tooltipFeature?.refreshTooltip(!0),m.editorTooltipFeature?.refreshTooltip(!0),m.editStyleFeature?.applyCellStyles?.()}}var AN=e=>{const t=new $x,n=e.gos.get("getFullRowEditValidationErrors"),o=e.editModelSvc?.getEditMap();if(!o)return t;for(const i of o.keys()){const r=o.get(i);if(!r)continue;const s=[],{rowIndex:l,rowPinned:u}=i;for(const p of r.keys()){const g=r.get(p);if(!g)continue;const{editorValue:m,pendingValue:C,sourceValue:w}=g,y=m??(C===Yt?void 0:C)??w;s.push({column:p,colId:p.getColId(),rowIndex:l,rowPinned:u,oldValue:w,newValue:y})}const d=n?.({editorsState:s})??[];d.length>0&&t.setRowValidation({rowNode:i},{errorMessages:d})}return t};function LN(e){Jr(e,!0);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((o,i)=>{o.forEach(({errorMessages:r},s)=>{n.push({column:s,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:r??null})})}),n}function rc(e){return!!(e.rowPinned&&e.pinnedSibling)}function qn(e,t,n,o){const i=t==="top";if(!n)return qn(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),o);if(!o){const u=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return qn(e,t,n,i?e.getPinnedTopRow(u-1):e.getPinnedBottomRow(u-1))}let r=!1,s=!1;const l=[];return e.forEachPinnedRow(t,u=>{if(u===n&&!r){r=!0,l.push(u);return}if(r&&u===o){s=!0,l.push(u);return}r&&!s&&l.push(u)}),l}function ON(e,t,n,{rowNode:o,column:i},r){return ke(e.gos,{type:n,node:o,data:o.data,value:r,column:i,colDef:i.getColDef(),rowPinned:o.rowPinned,event:t,rowIndex:o.rowIndex})}function NN(e,t=!1){return e===q.DELETE?!0:!t&&e===q.BACKSPACE?$R():!1}var BN=class extends ee{constructor(e,t,n,o){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=o,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case q.ENTER:this.onEnterKeyDown(e);break;case q.F2:this.onF2KeyDown(e);break;case q.ESCAPE:this.onEscapeKeyDown(e);break;case q.TAB:this.onTabKeyDown(e);break;case q.BACKSPACE:case q.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case q.DOWN:case q.UP:case q.RIGHT:case q.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:o}=this;if(!o.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=n.getFocusedCellPosition();o.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const o=t.extendLatestRangeInDirection(e);o&&(e.key===q.LEFT||e.key===q.RIGHT?n?.ensureColumnVisible(o.column):n?.ensureRowVisible(o.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:o,rowNode:i}=this,{gos:r,rangeSvc:s,eventSvc:l,editSvc:u}=o;if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),NN(e,r.get("enableCellEditingOnBackspace"))&&!u?.isEditing(n,{withOpenEditor:!0})){if(s&&er(r))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const d=o.valueSvc.getDeleteValue(n.column,i);i.setDataValue(n.column,d,"cellClear")}}else u?.isEditing(n,{withOpenEditor:!0})||o.editSvc?.startEditing(n,{startedEdit:!0,event:t});l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:o,navigation:i}=n,r=o?.isEditing(t,{withOpenEditor:!0}),s=t.rowNode,l=o?.isRowEditing(s,{withOpenEditor:!0}),u=d=>{o?.startEditing(d,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(r||l){if(this.isCtrlEnter(e)){o?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(Jr(n),o?.checkNavWithValidation(void 0,e)==="block-stop")return;o?.isEditing(t,{withOpenEditor:!0})?o?.stopEditing(t,{event:e,source:"edit"}):l&&!t.isCellEditable()?o?.stopEditing({rowNode:s},{event:e,source:"edit"}):u(t)}else if(n.gos.get("enterNavigatesVertically")){const d=e.shiftKey?q.UP:q.DOWN;i?.navigateToNextCell(null,d,t.cellPosition,!1)}else{if(o?.hasValidationErrors())return;o?.hasValidationErrors(t)&&o.revertSingleCellEdit(t,!0),u(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===q.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(Jr(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),setTimeout(()=>{n?.stopEditing(t,{event:e,cancel:!0})})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:o},cellCtrl:i}=this;if(n||o?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===q.SPACE)this.onSpaceKeyDown(e);else if(o?.isCellEditable(i,"ui")){if(o?.hasValidationErrors()&&!o?.hasValidationErrors(i))return;o?.startEditing(i,{startedEdit:!0,event:e,source:"api",editable:!0}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:o}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Hr(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,o,"spaceKey"),e.preventDefault()}},HN=class extends ee{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!gi(t))switch(e){case"click":this.onCellClicked(t);break;case"pointerdown":case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:o,editModelSvc:i,frameworkOverrides:r,gos:s}=this.beans,l=e.ctrlKey||e.metaKey,{cellCtrl:u}=this,{column:d,cellPosition:p,rowNode:g}=u,m=Qu(s,d,g,e);n&&l&&!m&&n.getCellRangeCount(p)>1&&n.intersectLastRange(!0);const C=u.createEvent(e,"cellClicked");C.isEventHandlingSuppressed=m,t.dispatchEvent(C);const w=d.getColDef();if(w.onCellClicked&&window.setTimeout(()=>{r.wrapOutgoing(()=>{w.onCellClicked(C)})},0),!m&&i?.getState(u)!=="editing"){const y=o?.isEditing(),R=o?.isRangeSelectionEnabledWhileEditing(),x=i?.getCellValidationModel().getCellValidationMap().size??0,E=i?.getRowValidationModel().getRowValidationMap().size??0;if(y&&(R||x>0||E>0))return;o?.shouldStartEditing(u,e)?o?.startEditing(u,{event:e}):o?.shouldStopEditing(u,e)&&(this.beans.gos.get("editType")==="fullRow"?o?.stopEditing(u,{event:e,source:"edit"}):o?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:o}=this,{eventSvc:i,frameworkOverrides:r,editSvc:s,editModelSvc:l,gos:u}=n,d=Qu(u,o.column,o.rowNode,e),p=t.getColDef(),g=o.createEvent(e,"cellDoubleClicked");if(g.isEventHandlingSuppressed=d,i.dispatchEvent(g),typeof p.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{p.onCellDoubleClicked(g)})},0),!d&&s?.shouldStartEditing(o,e)&&l?.getState(o)!=="editing"){const m=s?.isEditing(),C=s?.isRangeSelectionEnabledWhileEditing(),w=l?.getCellValidationModel().getCellValidationMap().size??0,y=l?.getRowValidationModel().getRowValidationMap().size??0;if(m&&(C||w>0||y>0))return;s?.startEditing(o,{event:e})}}onMouseDown(e){const{shiftKey:t}=e,n=e.target,{cellCtrl:o,beans:i}=this,{eventSvc:r,rangeSvc:s,rowNumbersSvc:l,focusSvc:u,gos:d,editSvc:p}=i,{column:g,rowNode:m,cellPosition:C}=o,w=Qu(d,g,m,e),y=()=>{const P=o.createEvent(e,"cellMouseDown");P.isEventHandlingSuppressed=w,r.dispatchEvent(P)};if(w){y();return}if(this.isRightClickInExistingRange(e))return;const R=s&&!s.isEmpty(),x=this.containsWidget(n),E=hi(g);if(!(l&&E&&!l.handleMouseDownOnCell(C,e))){if(!t||!R){const P=p?.isEditing(o),T=d.get("enableCellTextSelection")&&e.defaultPrevented,k=(sr()||T)&&!P&&!El(n)&&!x;o.focusCell(k,e)}if(t&&R&&!u.isCellFocused(C)){e.preventDefault();const P=u.getFocusedCell();if(P){const{column:M,rowIndex:T,rowPinned:k}=P,I=!!p?.isRangeSelectionEnabledWhileEditing?.();p?.isEditing(P)&&!I&&p?.stopEditing(P),I||u.setFocusedCell({column:M,rowIndex:T,rowPinned:k,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}x||(s?.handleCellMouseDown(e,C),y())}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),o=wT(this.beans,e);if(n&&o)return!0}return!1}containsWidget(e){return Nr(e,"ag-selection-checkbox",3)||Nr(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),o=t.contains(e.relatedTarget);return n&&o}},GN=class extends ee{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();ir(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),o=[];if(n===1)o.push(e);else{let i=e;const r=e.getPinned();for(let s=0;i&&s<n&&(o.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Pt(i)||r!==i.getPinned()));s++);}return o}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=pt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const o=t.bodyWidth;return n+o+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Gr(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},VN="ag-cell",WN="ag-cell-auto-height",zN="ag-cell-normal-height",_N="ag-cell-focus",$N="ag-cell-first-right-pinned",UN="ag-cell-last-left-pinned",jN="ag-cell-not-inline-editing",KN="ag-cell-wrap-text",qN=0,ia=class extends ee{constructor(e,t,n,o){super(),this.column=e,this.rowNode=t,this.rowCtrl=o,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+qN++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new GN(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this),this.mouseListener=new HN(this,e,this.column),this.keyboardListener=new BN(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&er(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(this)),hi(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Jr(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,o,i,r,s){this.comp=e,this.eGui=t,this.printLayout=i,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(o,s),this.refreshFirstAndLastStyles(),this.checkFormulaError(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer();const l=r?this.isCellEditable():void 0,u=!l&&this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0});if(l||u?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0,editable:l}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const d of this.onCompAttachedFuncs)d();this.onCompAttachedFuncs=[]}}checkFormulaError(){const e=!!this.beans.formula?.getFormulaError(this.column,this.rowNode);this.eGui.classList.toggle("formula-error",e)}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:o,eventSvc:i}=e,r=t.getColDef(),s=this.createCellRendererParams();s.deferRender=!0;const l=uS(n,r,s);if(o.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let u;const d=new $e(g=>{u=g}),[p]=this.addManagedListeners(i,{bodyScrollEnd:()=>{u(),p()}});return{loadingComp:l,onReady:d}}return{loadingComp:l,onReady:$e.resolve()}}showValue(e,t){const{beans:n,column:o,rowNode:i,rangeFeature:r}=this,{userCompFactory:s}=n;let l=this.getValueToDisplay(),u;const d=i.stub&&i.groupData?.[o.getId()]==null,p=o.getColDef();if(d||this.isCellRenderer()){const g=this.createCellRendererParams();!d||hi(o)?u=cS(s,p,g):u=uS(s,p,g)}if(!u&&!d&&n.findSvc?.isMatch(i,o)){const g=this.createCellRendererParams();u=cS(s,{...o.getColDef(),cellRenderer:"agFindCellRenderer"},g)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const g=this.editSvc.prepDetailsDuringBatch(this,{compDetails:u,valueToDisplay:l});g&&(g.compDetails?u=g.compDetails:g.valueToDisplay&&(l=g.valueToDisplay))}this.comp.setRenderDetails(u,l,e),this.customRowDragComp?.refreshVisibility(),!t&&r&&bi(n,()=>r?.refreshRangeStyleAndHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){const e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer";let n="";return t&&(n=" ag-allow-overflow"),`${e}${n}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&rc(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,o=gd(t),i=rr(this.column);return n==="custom"&&o!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&Xs(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||o||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:o,comp:i,eGui:r,beans:{valueSvc:s,gos:l,editSvc:u}}=this;return ke(l,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay({column:n,node:o,from:"edit"}).value,setValue:p=>u?.setDataValue({rowNode:o,column:n},p)||o.setDataValue(n,p),formatValue:this.formatValue.bind(this),data:o.data,node:o,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:i.getParentOfValue(),registerRowDragger:(p,g,m,C)=>this.registerRowDragger(p,g,C),setTooltip:(p,g)=>{l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(p,g),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:n}=this;!n?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){const{editStyleFeature:o,customStyleFeature:i,rowCtrl:{rowEditStyleFeature:r},beans:{cellFlashSvc:s,filterManager:l},column:u,comp:d,suppressRefreshCell:p,tooltipFeature:g}=this;if(p)return;const{field:m,valueGetter:C,showRowGroup:w,enableCellChangeFlash:y}=u.getColDef(),R=m==null&&C==null&&w==null,x=e||R||n,E=!!d,P=this.updateAndFormatValue(E),M=x||P;if(E){if(M){this.showValue(!!n,!1);const T=l?.isSuppressFlashingCellsBecauseFiltering();!t&&!T&&y&&s?.flashCell(this),o?.applyCellStyles?.(),i?.applyUserStyles(),i?.applyClassesFromColDef(),r?.applyRowStyles(),this.checkFormulaError()}g?.refreshTooltip(),i?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:o,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay({column:this.column,node:this.rowNode,includeValueFormatted:!0,from:"edit"});return this.value=o,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;qr(this.beans.gos,t,xd,this),e.addDestroyFunc(()=>qr(this.beans.gos,t,xd,null))}createEvent(e,t){const{rowNode:n,column:o,value:i,beans:r}=this;return ON(r,e,t,{rowNode:n,column:o},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;tx(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);U0(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:o}=this;if(!o||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const r=o.getFocusableElement();this.isCellFocused()&&r.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(hi(this.column)&&(e=!0),Pn(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss($N,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(UN,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(Qd(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),o=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(_N,n),n&&(e?.forceBrowserFocus||!this.hasBrowserFocus()&&this.beans.focusSvc.shouldTakeFocus())){let i=this.comp.getFocusableElement();if(o){const s=ta(i,null,!0);s.length&&(i=s[0])}const r=e?e.preventScrollOnBrowserFocus:!0;i.focus({preventScroll:r}),R1(t,i)}n&&this.focusEventWhileNotReady&&(this.focusEventWhileNotReady=null),n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:di(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(VN,!0),e.toggleCss(jN,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(WN,t),e.toggleCss(zN,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(KN,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:o}=this;o.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{o.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(St(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const o=this.createRowDragComp(e,t,n);o&&(this.customRowDragComp=o,this.addDestroyFunc(()=>{this.beans.context.destroyBean(o),this.customRowDragComp=null}),o.refreshVisibility())}createRowDragComp(e,t,n){const o=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(o)return this.beans.context.createBean(o),o}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function sC(e,t,n,o,i,r){if(n==null&&t==null)return;const s={},l={},u=(d,p)=>{for(const g of d.split(" "))g.trim()!=""&&p(g)};if(n){const d=Object.keys(n);for(let p=0;p<d.length;p++){const g=d[p],m=n[g];let C;typeof m=="string"?C=e?e.evaluate(m,o):!0:typeof m=="function"&&(C=m(o)),u(g,w=>{C?s[w]=!0:l[w]=!0})}}if(t&&r)for(const d of Object.keys(t))u(d,p=>{s[p]||(l[p]=!0)});r&&Object.keys(l).forEach(r),Object.keys(s).forEach(i)}function QS(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var YN=class extends ee{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,o=s=>{if(typeof s=="string")e.push(s);else if(Array.isArray(s))for(const l of s)e.push(l)},i=n.get("rowClass");i&&o(i);const r=n.getCallback("getRowClass");if(r){const s={data:t.data,node:t,rowIndex:t.rowIndex},l=r(s);o(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:o,expressionSvc:i}=this.beans,r=ke(o,{data:e.data,node:e,rowIndex:e.rowIndex});sC(i,void 0,o.get("rowClassRules"),r,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),o=t.getCallback("getRowStyle");let i;if(o){const r={data:e.data,node:e,rowIndex:e.rowIndex};i=o(r)}if(i||n)return Object.assign({},n,i)}},QN=0,Td=class extends ee{constructor(e,t,n,o,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=o,this.printLayout=i,this.focusEventWhileNotReady=null,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+QN++,this.rowId=Pl(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=QS(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Pl(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,o){const{context:i,rowRenderer:r}=this.beans;o=oc(this,i,o);const s={rowComp:e,element:t,containerType:n,compBean:o};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s);const l=this.rowNode,u=this.rowType==="FullWidthLoading"||l.stub,d=!l.data&&this.beans.rowModel.getType()==="infinite";!u&&!d&&!l.rowPinned&&r.dispatchFirstDataRenderedEvent(),this.setupFocus()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const n of this.allRowGuis)n.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Hr(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp,o=this.getInitialRowClasses(e.containerType);for(const i of o)n.toggleCss(i,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&wf(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),qr(t,e.element,Fd,this),e.compBean.addDestroyFunc(()=>qr(t,e.element,Fd,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Pl(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(Sf(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(Sf(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(o=>o!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:o}}=this,i=!!e||!o.isPinningLeft(),r=!!t,s=!!n||!o.isPinningRight();return i&&r&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const{rowNode:e,gos:t,beans:{colModel:n}}=this,o=e.stub&&!t.get("suppressServerSideFullWidthLoadingRow")&&!t.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),r=t.get("masterDetail")&&e.detail,s=n.isPivotMode(),l=wR(t,e,s);o?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":l?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new ia(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const o={list:[],map:{}},i=(d,p,g)=>{g!=null?o.list.splice(g,0,p):o.list.push(p),o.map[d]=p},r=[];for(const d of t){const p=d.getInstanceId();let g=e.map[p];g&&!this.isCorrectCtrlForSpan(g)&&(g.destroy(),g=void 0),g||(g=this.getNewCellCtrl(d)),g&&i(p,g)}for(const d of e.list){const p=d.column.getInstanceId();if(o.map[p]!=null)continue;!this.isCellEligibleToBeRemoved(d,n)?r.push([p,d]):d.destroy()}if(r.length)for(const[d,p]of r){const g=o.list.findIndex(C=>C.column.getLeft()>p.column.getLeft()),m=g===-1?void 0:Math.max(g-1,0);i(d,p,m)}const{focusSvc:s,visibleCols:l}=this.beans,u=s.getFocusedCell();if(u&&u.column.getPinned()==n){const d=u.column.getInstanceId();if(!o.map[d]&&l.allCols.includes(u.column)){const g=this.createFocusedCellCtrl();if(g){const m=o.list.findIndex(w=>w.column.getLeft()>g.column.getLeft()),C=m===-1?void 0:Math.max(m-1,0);i(d,g,C)}}}return o}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const o=t?.getCellSpan(n.column,this.rowNode);if(o){if(o.firstNode!==this.rowNode||!o.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const o=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:r,editSvc:s}=this.beans,l=s?.isEditing(e),u=e.isCellFocused();return l||u?!(r.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||en(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=de(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,o=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=o,r.right=i}else{const{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=o,r.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(s,l)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,l).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),o=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&o&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:o,eventSvc:i,context:r,rowSpanSvc:s}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...o?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),s&&this.addManagedListeners(s,{spannedCellsUpdated:({pinned:l})=>{l&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,r),this.tooltipFeature=this.destroyBean(this.tooltipFeature,r),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,r)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(const u of this.allRowGuis)this.addRowDraggerToRow(u);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,r)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(const n of this.getAllCellCtrls())n.refreshCell(e);for(const n of this.allRowGuis)this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",o=t==="inside",i=t==="below",r=t!=="none",s=n||i,l=this.rowNode.uiLevel,u=s&&l>0,d=u?l.toString():"0";for(const p of this.allRowGuis){const g=p.rowComp;g.toggleCss("ag-row-highlight-above",n),g.toggleCss("ag-row-highlight-inside",o),g.toggleCss("ag-row-highlight-below",i),g.toggleCss("ag-row-highlight-indent",u),r?p.element.style.setProperty("--ag-row-highlight-level",d):p.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:di(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:o}=t;if(!(n.element===e.target))return;const s=this.rowNode,{focusSvc:l,navigation:u}=this.beans,d=l.getFocusedCell(),p={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:d?.column??o};u?.navigateToNextCell(e,e.key,p,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||gi(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,o=n===e.target,i=St(this.beans);let r=!1;n&&i&&(r=n.contains(i)&&i.classList.contains("ag-cell"));let s=null;!o&&!r&&(s=is(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>vo(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const n of this.allRowGuis)Pn(n.element,"tabindex",t)}setupFocus(){this.isFullWidth()&&(this.restoreFullWidthFocus(!0),this.onFullWidthRowFocused(this.focusEventWhileNotReady??void 0))}restoreFullWidthFocus(e=!1){const{focusSvc:t,editSvc:n}=this.beans;if(n?.isEditing(this)||!t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)||!t.shouldTakeFocus())return;const o=this.getFullWidthRowGuiForFocus();if(!o)return;const i=()=>{this.isAlive()&&t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)&&o.element.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}getFullWidthRowGuiForFocus(e){if(this.fullWidthGui)return this.fullWidthGui;const t=this.beans.focusSvc.getFocusedCell(),n=this.beans.colModel.getCol(e?.column??t?.column);if(!n)return;const o=n?.pinned;return o==="right"?this.rightGui:o==="left"?this.leftGui:this.centerGui}setFullWidthRowFocusedClass(e,t){this.forEachGui(void 0,n=>{n.element.classList.toggle("ag-full-width-focus",t&&n===e)})}onFullWidthRowFocused(e){const{focusSvc:t}=this.beans;if(!(this.isFullWidth()&&t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))){this.setFullWidthRowFocusedClass(void 0,!1);return}const o=this.getFullWidthRowGuiForFocus(e);if(!o){e&&(this.focusEventWhileNotReady=e),this.setFullWidthRowFocusedClass(void 0,!1);return}this.setFullWidthRowFocusedClass(o,!0),this.focusEventWhileNotReady=null,e?.forceBrowserFocus&&o.element.focus({preventScroll:!0})}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};for(const o of e.list)o!==t&&(n.list.push(o),n.map[o.column.getInstanceId()]=o);return n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"pointerdown":case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return ke(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(gi(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Nr(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:n}=this.beans;t?.removeAllCellRanges();const o=this.findFullWidthInfoForEvent(e);if(!o)return;const{rowGui:i,column:r}=o,s=i.element,l=e.target,u=this.rowNode;let d=e.defaultPrevented||sr();s&&s.contains(l)&&El(l)&&(d=!1),n.setFocusedCell({rowIndex:u.rowIndex,column:r,rowPinned:u.rowPinned,forceBrowserFocus:d})}isSuppressMouseEvent(e){const{gos:t,rowNode:n}=this;if(this.isFullWidth()){const i=this.findFullWidthRowGui(e.target);return gI(t,i?.rowComp.getFullWidthCellRendererParams(),n,e)}const o=Jm(t,e.target);return o!=null&&Qu(t,o.column,n,e)}onRowClick(e){if(gi(e)||this.lastMouseDownOnDragger)return;const n=this.isSuppressMouseEvent(e),{eventSvc:o,selectionSvc:i}=this.beans,r=this.createRowEventWithSource("rowClicked",e);r.isEventHandlingSuppressed=n,o.dispatchEvent(r),!n&&i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:o}=this,i=ke(n,{fullWidth:!0,data:o.data,node:o,value:o.key,valueFormatted:o.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,l,u,d)=>this.addFullWidthRowDragging(s,l,u,d),setTooltip:(s,l)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(s,l)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return kM(r,i);case"FullWidthGroup":{const{value:s,valueFormatted:l}=this.beans.valueSvc.getValueForDisplay({node:this.rowNode,includeValueFormatted:!0,from:"edit"});return i.value=s,i.valueFormatted=l,MM(r,i)}case"FullWidthLoading":return TM(r,i);default:return DM(r,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",o){const{rowDragSvc:i,context:r}=this.beans;if(!i||!this.isFullWidth())return;const s=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,o);this.createBean(s,r),this.addDestroyFunc(()=>{this.destroyBean(s,r)})}onUiLevelChanged(){const e=QS(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;for(const o of this.allRowGuis)o.rowComp.toggleCss(t,!0),o.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(const t of e)for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:o,beans:i}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(o.rowIndex%2===0?"ag-row-even":"ag-row-odd"),o.isRowPinned()&&(r.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&r.push("ag-row-pinned-manual")),!o.isRowPinned()&&o.pinnedSibling&&r.push("ag-row-pinned-source"),o.isSelected()&&r.push("ag-row-selected"),o.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),o.stub&&r.push("ag-row-loading"),n&&r.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(r,o),o.dragging&&r.push("ag-row-dragging");const{rowStyleSvc:s}=i;return s&&(s.processClassesFromGridOptions(r,o),s.preProcessRowClassRules(r,o)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),n&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:o,beans:i,gos:r}=this;n.addManagedListeners(t,{pointerenter:s=>{s.pointerType==="mouse"&&o.dispatchRowEvent("mouseEnter")},pointerleave:s=>{s.pointerType==="mouse"&&o.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(o,{mouseEnter:()=>{!i.dragSvc?.dragging&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),o.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,o=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),o)}forEachGui(e,t){if(e)t(e);else for(const n of this.allRowGuis)t(n)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=gR(this.gos)?Ji(this.beans,this.rowNode).height:void 0,r=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,r&&s.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Qs(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else for(const i of this.allRowGuis)i.rowComp.toggleCss("ag-opacity-zero",!0);this.fullWidthGui?.element.contains(St(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>{for(const n of t.list)n.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&de(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const o=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(o);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(const o of this.getAllCellCtrls())o.column==e&&(n=o);if(n!=null||t)return n;for(const o of this.getAllCellCtrls())o?.getColSpanningList().indexOf(e)>=0&&(n=o);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),o=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,r=>{r.rowComp.setRowIndex(t),r.rowComp.toggleCss("ag-row-even",o),r.rowComp.toggleCss("ag-row-odd",!o),$0(r.element,i)})}},XN=class extends ee{constructor(){super(),this.beanName="navigation",this.onPageDown=eS(this.onPageDown,100),this.onPageUp=eS(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,o=e.altKey,i=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,s=cA(this.gos,e);let l=!1;switch(n){case q.PAGE_HOME:case q.PAGE_END:!i&&!o&&(this.onHomeOrEndKey(n),l=!0);break;case q.LEFT:case q.RIGHT:case q.UP:case q.DOWN:if(!s)return!1;i&&!o&&!r&&(this.onCtrlUpDownLeftRight(n,s),l=!0);break;case q.PAGE_DOWN:case q.PAGE_UP:!i&&!o&&(l=this.handlePageUpDown(n,s,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===q.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:o,focusColumn:i,isAsync:r,rowPinned:s}){const{scrollFeature:l}=this.gridBodyCon;de(n)&&!n.isPinned()&&l.ensureColumnVisible(n),de(e)&&l.ensureIndexVisible(e,t),r||l.ensureIndexVisible(o);const{focusSvc:u,rangeSvc:d}=this.beans;u.setFocusedCell({rowIndex:o,column:i,rowPinned:s,forceBrowserFocus:!0}),d?.setRangeToCell({rowIndex:o,rowPinned:s,column:i})}onPageDown(e){const t=this.beans,n=qg(t),o=this.getViewportHeight(),{pageBounds:i,rowModel:r,rowAutoHeight:s}=t,l=i.getPixelOffset(),u=n.top+o,d=r.getRowIndexAtPixel(u+l);s?.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,n=qg(t),{pageBounds:o,rowModel:i,rowAutoHeight:r}=t,s=o.getPixelOffset(),l=n.top,u=i.getRowIndexAtPixel(l+s);r?.active?this.navigateToNextPageWithAutoHeight(e,u,!0):this.navigateToNextPage(e,u,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:o,rowModel:i}=this.beans,r=this.getViewportHeight(),s=o.getFirstRow(),l=o.getLastRow(),u=o.getPixelOffset(),d=i.getRow(e.rowIndex),p=n?d?.rowHeight-r-u:r-u,g=d?.rowTop+p;let m=i.getRowIndexAtPixel(g+u);if(m===e.rowIndex){const w=n?-1:1;t=m=e.rowIndex+w}let C;n?(C="bottom",m<s&&(m=s),t<s&&(t=s)):(C="top",m>l&&(m=l),t>l&&(t=l)),this.isRowTallerThanView(i.getRow(m))&&(t=m,C="top"),this.navigateTo({scrollIndex:t,scrollType:C,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const o=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,o=this.getViewportHeight(),{pageBounds:i,rowModel:r}=this.beans,s=i.getLastRow();let l=0,u=e.rowIndex;for(;u>=0&&u<=s;){const d=r.getRow(u);if(d){const p=d.rowHeight??0;if(l+p>o)break;l+=p}u+=n}return Math.max(0,Math.min(u,s))}getViewportHeight(){const e=this.beans,t=qg(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let o=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(o-=n),o}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),o=this.getNormalisedPosition(n),{rowIndex:i,rowPinned:r,column:s}=o??n,l=s;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:l,focusIndex:i,focusColumn:l,rowPinned:r})}onHomeOrEndKey(e){const t=e===q.PAGE_HOME,{visibleCols:n,pageBounds:o,rowModel:i}=this.beans,r=n.allCols,s=t?o.getFirstRow():o.getLastRow(),l=i.getRow(s);if(!l)return;const u=(t?r:[...r].reverse()).find(d=>!d.isSuppressNavigable(l));u&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:u,focusIndex:s,focusColumn:u})}onTabKeyDown(e,t){const n=t.shiftKey,o=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:r,pageBounds:s,focusSvc:l,gos:u}=i;if(o!==!1){o?t.preventDefault():o===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:d,rowPinned:p}=e.getRowPosition();(p?d===0:d===s.getFirstRow())&&(u.get("headerHeight")===0||Wr(i)?da(i,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof ia&&e.focusCell(!0),(l.focusOverlay(!1)||da(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:o,rowRenderer:i}=n,r=o.getFocusedCell();if(!r)return!1;let s=zs(n,r);return!s&&(s=i.getRowByPosition(r),!s?.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t,"api")}tabToNextCellCommon(e,t,n,o="ui"){const{editSvc:i,focusSvc:r}=this.beans;let s;const l=e instanceof ia?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?s=i?.moveToNextCell(l,t,n,o):s=this.moveToNextCellNotEditing(e,t,n),s===null?s:s||!!r.focusedHeader}moveToNextCellNotEditing(e,t,n){const o=this.beans.visibleCols.allCols;let i;if(e instanceof Td){if(i={...e.getRowPosition(),column:t?o[0]:pt(o)},this.gos.get("embedFullWidthRows")&&n){const s=e.findFullWidthInfoForEvent(n);s&&(i.column=s.column)}}else i=e.getFocusedCellPosition();const r=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(r===!1)return null;if(r instanceof ia)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r,t);return de(r)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:o}){let i=e;const r=this.beans,{cellNavigation:s,gos:l,focusSvc:u,rowRenderer:d,rangeSvc:p}=r;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=s.getNextTabbedCell(i,t);const g=l.getCallback("tabToNextCell");if(de(g)){const y=g({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(y===!0)i=e;else{if(y===!1)return!1;i={rowIndex:y.rowIndex,column:y.column,rowPinned:y.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const w=Vo(r);return u.focusHeaderPosition({headerPosition:{headerRowIndex:w+i.rowIndex,column:i.column},fromCell:!0}),null}const m=l.get("editType")==="fullRow";if(n&&(!m||o)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const C=zs(r,i);if(!C){const w=d.getRowByPosition(i);if(!w||!w.isFullWidth()||n)continue;return{...w.getRowPosition(),column:i?.column}}if(!s.isSuppressNavigable(C.column,C.rowNode))return C.setFocusedCellPosition(i),p?.setRangeToCell(i),C}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:o}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):o.getRow(e)}navigateToNextCell(e,t,n,o){let i=n,r=!1;const s=this.beans,{cellNavigation:l,focusSvc:u,gos:d}=s;for(;i&&(i===n||!this.isValidNavigateCell(i));)d.get("enableRtl")?t===q.LEFT&&(i=this.getLastCellOfColSpan(i)):t===q.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=l.getNextCellToFocus(t,i),r=Pt(i);if(r&&e&&e.key===q.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),o){const g=d.getCallback("navigateToNextCell");if(de(g)){const C=g({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});de(C)?i={rowPinned:C.rowPinned,rowIndex:C.rowIndex,column:C.column}:i=null}}if(!i)return;if(i.rowIndex<0){const g=Vo(s);u.focusHeaderPosition({headerPosition:{headerRowIndex:g+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const p=this.getNormalisedPosition(i);p?this.focusPosition(p):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=zs(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:o,focusSvc:i,eventSvc:r}=this.beans,s=n.allCols;if(!o.getRowByPosition(e)?.isFullWidth())return!1;const u=i.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?pt(s):s[0])};this.focusPosition(d);const p=t??(u!=null&&ek(d,u));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:p}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!mi(this.beans,e)}getLastCellOfColSpan(e){const t=zs(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:pt(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=mR(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),o=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!o&&Pt(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function qg(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var ZN={moduleName:"KeyboardNavigation",version:ue,beans:[XN,mN,T2],apiFunctions:{getFocusedCell:CN,clearFocusedCell:vN,setFocusedCell:wN,setFocusedHeader:bN,tabToNextCell:yN,tabToPreviousCell:SN}},JN=class extends ee{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},eB=class extends ee{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,o=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:o}}calculateBounds(e,t){const{rowModel:n}=this.beans,o=n.getRowBounds(e);o&&(o.rowIndex=e),this.topRowBounds=o;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},tB=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",nB=class extends ee{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(ht(n,t),zo(n,e))}},oB=class extends ee{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,o=en(e,"print"),i=o?0:t.getColsLeftWidth(),r=o?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Wl(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),o=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:r}=n;let s=i;!s.length&&!r||(o&&(s=o({columns:s,viewportWidth:t})),s?.length&&(s=s.filter(l=>!hi(l)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new nB(e,t)}setColsPinned(e,t,n){const{colModel:o,colAnimation:i,visibleCols:r,gos:s}=this.beans;if(!o.cols||!e?.length)return;if(en(s,"print")){oe(37);return}i?.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const u=[];for(const d of e){if(!d)continue;const p=o.getCol(d);p&&p.getPinned()!==l&&(this.setColPinned(p,l),u.push(p))}u.length&&(r.refresh(n),IR(this.eventSvc,u,n)),i?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",o=e.pinned==="right";e.hidden=!0;const i=()=>{const r=n?this.leftWidth:this.rightWidth;if(r==null)return;const s=r==0,l=e.hidden!==s,u=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),g=t.verticalScrollShowing&&(u&&n||!u&&o)?r+d:r;e.comp.setPinnedContainerWidth(`${g}px`),e.comp.setDisplayed(!s),l&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:o,rightWidth:i}=this,r=Wl(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(o+i+e>r)if(r>o+i)e=r-o-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,o=t+n;let i=!1;if(o<e)return{columns:[],hasLockedPinned:i};const{visibleCols:r}=this.beans,s=[...r.leftCols],l=[...r.rightCols];let u=0,d=0;const p=0,g=[];let m=o-p-e;for(;(d<s.length||u<l.length)&&m>0;){if(u<l.length){const C=l[u++];if(C.colDef.lockPinned){i=!0;continue}m-=C.getActualWidth(),g.push(C)}if(d<s.length&&m>0){const C=s[d++];if(C.colDef.lockPinned){i=!0;continue}m-=C.getActualWidth(),g.push(C)}}return{columns:g,hasLockedPinned:i}}},iB={moduleName:"PinnedColumn",version:ue,beans:[oB],css:[tB]},rB=class extends mn{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=qt(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=_t(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),z0(n,"polite"),l1(n,"additions text"),a1(n,!0),e.eRootDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Tn(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},sB=class extends rB{},aB={moduleName:"Aria",version:ue,beans:[sB]},lB=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",XS="ag-delay-render",cB=class extends ee{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(XS)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(XS),this.alreadyRevealed=!0}},uB={moduleName:"ColumnDelayRender",version:ue,beans:[cB],css:[lB]};function dB(e){e.overlays?.showLoadingOverlay()}function hB(e){e.overlays?.showNoRowsOverlay()}function pB(e){e.overlays?.hideOverlay()}var gB=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{pointer-events:all}.ag-overlay-exporting-center,.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);display:flex;padding:var(--ag-spacing)}",fB={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},qx=class extends kt{constructor(){super(fB),this.eOverlayWrapper=Ce,this.activeOverlay=null,this.activePromise=null,this.activeCssClass=null,this.elToFocusAfter=null,this.overlayExclusive=!1,this.oldWrapperPadding=null,this.registerCSS(gB)}handleKeyDown(e){if(e.key!==q.TAB||e.defaultPrevented||gi(e))return;const{beans:t,eOverlayWrapper:n}=this;if(n&&is(t,n,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:pt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=da(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper;if(!n)return;const o=n.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=Yu;o.toggle(i,t.autoHeight),o.toggle(r,t.normal),o.toggle(s,t.print)}postConstruct(){this.createManagedBean(new Zm(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setWrapperComp(this,!1),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)}),this.addManagedEventListeners({gridSizeChanged:this.refreshWrapperPadding.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper?.classList;if(!t){this.activeCssClass=null;return}this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n){if(this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,this.overlayExclusive=n,!e)return this.refreshWrapperPadding(),$e.resolve();if(this.setWrapperTypeClass(t),this.setDisplayed(!0,{skipAriaHidden:!0}),this.refreshWrapperPadding(),n&&this.isGridFocused()){const o=St(this.beans);o&&!Sm(this.beans)&&(this.elToFocusAfter=o)}return e.then(o=>{const i=this.eOverlayWrapper;if(!i){this.destroyBean(o);return}if(this.activePromise!==e){this.activeOverlay!==o&&(this.destroyBean(o),o=null);return}this.activePromise=null,o&&(this.activeOverlay!==o&&(i.appendChild(o.getGui()),this.activeOverlay=o),n&&this.isGridFocused()&&Yr(i))}),e}refreshWrapperPadding(){if(!this.eOverlayWrapper){this.oldWrapperPadding=null;return}const e=!!this.activeOverlay||!!this.activePromise;let t=0;e&&!this.overlayExclusive&&(t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0),t!==this.oldWrapperPadding&&(this.oldWrapperPadding=t,this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`))}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e){this.overlayExclusive=!1,this.elToFocusAfter=null,this.refreshWrapperPadding();return}let t=this.elToFocusAfter;this.elToFocusAfter=null,this.activeOverlay=null,this.overlayExclusive=!1,t&&!this.isGridFocused()&&(t=null),this.destroyBean(e);const n=this.eOverlayWrapper;n&&Tn(n),t?.focus?.({preventScroll:!0}),this.refreshWrapperPadding()}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=St(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setWrapperComp(this,!0),super.destroy(),this.eOverlayWrapper=null}},mB={selector:"AG-OVERLAY-WRAPPER",component:qx},CB=["refresh"],sc=e=>({name:e,optionalMethods:CB}),Mr={id:"agLoadingOverlay",overlayType:"loading",comp:sc("loadingOverlayComponent"),wrapperCls:"ag-overlay-loading-wrapper",exclusive:!0,compKey:"loadingOverlayComponent",paramsKey:"loadingOverlayComponentParams",isSuppressed:e=>{const t=e.get("loading");return t===!1||e.get("suppressLoadingOverlay")===!0&&t!==!0}},js={id:"agNoRowsOverlay",overlayType:"noRows",comp:sc("noRowsOverlayComponent"),wrapperCls:"ag-overlay-no-rows-wrapper",compKey:"noRowsOverlayComponent",paramsKey:"noRowsOverlayComponentParams",isSuppressed:e=>e.get("suppressNoRowsOverlay")},aC={id:"agNoMatchingRowsOverlay",overlayType:"noMatchingRows",comp:sc("noMatchingRowsOverlayComponent"),wrapperCls:"ag-overlay-no-matching-rows-wrapper"},Md={id:"agExportingOverlay",overlayType:"exporting",comp:sc("exportingOverlayComponent"),wrapperCls:"ag-overlay-exporting-wrapper",exclusive:!0},td={id:"activeOverlay",comp:sc("activeOverlay"),wrapperCls:"ag-overlay-modal-wrapper",exclusive:!0},vB=e=>e?{agLoadingOverlay:Mr,agNoRowsOverlay:js,agNoMatchingRowsOverlay:aC,agExportingOverlay:Md}[e]??td:null,wB=e=>e?{loading:Mr,noRows:js,noMatchingRows:aC,exporting:Md}[e]:null,yB=class extends ee{constructor(){super(...arguments),this.beanName="overlays",this.eWrapper=void 0,this.exclusive=!1,this.oldExclusive=!1,this.currentDef=null,this.showInitialOverlay=!0,this.userForcedNoRows=!1,this.exportsInProgress=0,this.newColumnsLoadedCleanup=null}postConstruct(){const e=this.gos;this.showInitialOverlay=Nt(e);const t=()=>{this.userForcedNoRows||this.updateOverlay(!1)},[n,o,i,r]=this.addManagedEventListeners({newColumnsLoaded:t,rowCountReady:()=>{this.disableInitialOverlay(),t(),o()},rowDataUpdated:t,modelUpdated:t});this.newColumnsLoadedCleanup=n,this.addManagedPropertyListeners(["loading","activeOverlay","activeOverlayParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams"],s=>this.onPropChange(new Set(s.changeSet?.properties)))}destroy(){this.doHideOverlay(),super.destroy(),this.eWrapper=void 0}setWrapperComp(e,t){this.isAlive()&&(t?this.eWrapper===e&&(this.eWrapper=void 0):this.eWrapper=e,this.updateOverlay(!1))}isVisible(){return!!this.currentDef}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos;if(!this.eWrapper||e.get("activeOverlay")||this.isDisabled(Mr))return;const t=e.get("loading");!t&&t!==void 0||this.doShowOverlay(Mr)}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;!this.eWrapper||e.get("activeOverlay")||e.get("loading")||this.isDisabled(js)||(this.userForcedNoRows=!0,this.doShowOverlay(js))}async showExportOverlay(e){const{gos:t,beans:n}=this;if(!this.eWrapper||t.get("activeOverlay")||t.get("loading")||this.isDisabled(Md)||this.userForcedNoRows&&this.currentDef===js){e();return}const o=this.getDesiredDefWithOverride(Md);if(!o){e();return}this.exportsInProgress++,this.focusedCell=n.focusSvc.getFocusedCell(),await this.doShowOverlay(o),await new Promise(r=>setTimeout(()=>r()));const i=Date.now();try{e()}finally{const r=Date.now()-i,s=Math.max(0,300-r),l=()=>{this.exportsInProgress--,this.exportsInProgress===0&&(this.updateOverlay(!1),lk(n,this.focusedCell),this.focusedCell=null)};s>0?setTimeout(()=>l(),s):l()}}hideOverlay(){const e=this.gos;this.showInitialOverlay=!1;const t=this.userForcedNoRows;if(this.userForcedNoRows=!1,e.get("loading")){oe(99);return}if(e.get("activeOverlay")){oe(296);return}if(this.currentDef===aC){oe(297);return}this.doHideOverlay(),t&&this.getOverlayDef()!==js&&this.updateOverlay(!1)}getOverlayWrapperSelector(){return mB}getOverlayWrapperCompClass(){return qx}onPropChange(e){const t=e.has("activeOverlay");if((t||e.has("loading"))&&this.updateOverlay(t))return;const n=this.currentDef,o=this.eWrapper?.activeOverlay;if(o&&n){const i=e.has("activeOverlayParams");if(n===td)i&&o.refresh?.(this.makeCompParams(!0));else{const r=n.paramsKey;(e.has("overlayComponentParams")||r&&e.has(r))&&o.refresh?.(this.makeCompParams(!1,r,n.overlayType))}}}updateOverlay(e){const t=this.eWrapper;if(!t)return this.currentDef=null,!1;const n=this.getDesiredDefWithOverride(),o=this.currentDef,i=n===td&&e;return n!==o?n?(this.doShowOverlay(n),!0):(this.disableInitialOverlay(),this.doHideOverlay()):i&&n?(t.hideOverlay(),this.doShowOverlay(n),!0):(n||this.disableInitialOverlay(),!1)}getDesiredDefWithOverride(e){const{gos:t}=this;let n=vB(t.get("activeOverlay"));return n||(n=e??this.getOverlayDef(),n&&this.isDisabled(n)&&(n=null)),n}getOverlayDef(){const{gos:e,beans:t}=this,{rowModel:n}=t,o=e.get("loading");if(o!==void 0){if(this.disableInitialOverlay(),o)return Mr}else if(this.showInitialOverlay){if(!this.isDisabled(Mr)&&(!e.get("columnDefs")||!e.get("rowData")))return Mr;this.disableInitialOverlay()}else this.disableInitialOverlay();const r=n.getOverlayType();return wB(r)}disableInitialOverlay(){this.showInitialOverlay=!1,this.newColumnsLoadedCleanup?.(),this.newColumnsLoadedCleanup=null}doShowOverlay(e){const{gos:t,beans:n}=this,{userCompFactory:o}=n;this.currentDef=e;const i=e!==td,r=!!e.exclusive;this.exclusive=r;let s;(e.paramsKey&&t.get(e.paramsKey)||e.compKey&&t.get(e.compKey))&&(s=e.paramsKey);let l;i&&(t.get("overlayComponent")||t.get("overlayComponentSelector"))&&(l=o.getCompDetailsFromGridOptions({name:"overlayComponent",optionalMethods:["refresh"]},void 0,this.makeCompParams(!1,e.paramsKey,e.overlayType))),l??(l=o.getCompDetailsFromGridOptions(e.comp,i?e.id:void 0,this.makeCompParams(!i,s,e.overlayType),!1));const u=l?.newAgStackInstance()??null,d=this.eWrapper?this.eWrapper.showOverlay(u,e.wrapperCls,r):$e.resolve();return this.eWrapper?.refreshWrapperPadding(),this.setExclusive(r),d}makeCompParams(e,t,n){const{gos:o}=this,i=e?o.get("activeOverlayParams"):{...o.get("overlayComponentParams"),...t&&o.get(t)||null,overlayType:n};return ke(o,i??{})}doHideOverlay(){let e=!1;this.currentDef&&(this.currentDef=null,e=!0),this.exclusive=!1;const t=this.eWrapper;return t&&(t.hideOverlay(),t.refreshWrapperPadding(),this.setExclusive(!1)),e}setExclusive(e){this.oldExclusive!==e&&(this.oldExclusive=e,this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"}))}isDisabled(e){const{gos:t}=this;return e.overlayType&&t.get("suppressOverlays")?.includes(e.overlayType)||e.isSuppressed?.(t)===!0}},SB={moduleName:"Overlay",version:ue,userComponents:{agLoadingOverlay:Ek,agNoRowsOverlay:kk,agNoMatchingRowsOverlay:Tk,agExportingOverlay:Fk},apiFunctions:{showLoadingOverlay:dB,showNoRowsOverlay:hB,hideOverlay:pB},icons:{overlayLoading:"loading",overlayExporting:"loading"},beans:[yB]},bB=class extends ee{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=KM(),Kr(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Kr(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},RB=400,xB=class extends ee{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const r of this.getAllCellCtrls())r.onCellSelectionChanged()},t=()=>{for(const r of this.getAllCellCtrls())r.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},o=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>o()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{er(this.gos)?n():o()}),er(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",o=>this.onSuppressCellFocusChanged(o.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:o,previousValue:i})=>{(!i&&o||i&&!o)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const o=n.columns;o.length&&this.refreshCells({columns:o,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const o=this.gridBodyCtrl;o.setStickyTopHeight(0),o.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=en(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new FB(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const n=u=>{for(const d of this.getAllCellCtrls())d.column===t&&u(d)},o=()=>{n(u=>u.onLeftChanged())},i=()=>{n(u=>u.onWidthChanged())},r=()=>{n(u=>u.onFirstRightPinnedChanged())},s=()=>{n(u=>u.onLastLeftPinnedChanged())},l=()=>{n(u=>u.onColDefChanged())};t.__addEventListener("leftChanged",o),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",o),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",l)})}}onDomLayoutChanged(){const e=en(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];for(const n of this.getAllRowCtrls()){const o=n.getCellCtrl(e,!0)?.eGui;o&&t.push(o)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:o,beans:i,printLayout:r}=this,s=Object.fromEntries(e.map(u=>[u.rowNode.id,u]));o?.forEachPinnedRow(t,(u,d)=>{const p=e[d];p&&o.getPinnedRowById(p.rowNode.id,t)===void 0&&(p.destroyFirstPass(),p.destroySecondPass()),u.id in s&&n?(e[d]=s[u.id],delete s[u.id]):e[d]=new Td(u,i,!1,!1,r)});const l=(t==="top"?o?.getPinnedTopRowCount():o?.getPinnedBottomRowCount())??0;e.length=l}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=o=>{const i=o[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(const o of e??[])this.redrawRow(o,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&Qs(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:r,gos:s}=this;if(r){r.checkStickyRows();const l=r.extraTopHeight+r.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(i,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(s.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(_o(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Vo(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(ke(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let o=e;for(o.rowPinned==null&&t&&n&&!t.isRowInPage(o.rowIndex)&&(o={rowPinned:null,rowIndex:n.getFirstRow()});o;){if(o.rowPinned==null&&n)if(o.rowIndex<n.getFirstRow()){if(o=Rd(this.beans,{rowPinned:null,rowIndex:0}),!o)return null}else o.rowIndex>n.getLastRow()&&(o={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(o);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};o=Rd(this.beans,o)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let o=0;o<n;o++){const i=t[o].getAllCellCtrls(),r=i.length;for(let s=0;s<r;s++)e.push(i[s])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const o=this.rowCtrlsByRowIndex[t];o&&o.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:o}={}){const i={force:n,newData:!1,suppressFlash:o};for(const r of this.getCellCtrls(e,t))r.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=Wf(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(o=>{const i=o.rowNode;return zf(i,t)})}getCellCtrls(e,t){let n;de(t)&&(n={},t.forEach(i=>{const r=this.colModel.getCol(i);de(r)&&(n[r.getId()]=!0)}));const o=[];for(const i of this.getRowCtrls(e))for(const r of i.getAllCellCtrls()){const s=r.column.getId();n&&!n[s]||o.push(r)}return o}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const o=n.rowNode;t[o.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const n of e){const o=this.rowCtrlsByRowIndex[n];o&&(o.destroyFirstPass(t),o.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:o}=e;let i;const r=this.stickyRowFeature;r&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const s=this.firstRenderedRow,l=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let u=!1;if(r){u=r.checkStickyRows();const p=r.extraTopHeight+r.extraBottomHeight;p&&this.updateContainerHeights(p)}const d=this.firstRenderedRow!==s||this.lastRenderedRow!==l;if(!(o&&!u&&!d)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,o),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(o&&!u),i!=null)){const p=t?.getFocusCellToUseAfterRefresh();i!=null&&p==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};for(const r of e)n[r]=!0;const i=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!n[r]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);const n=this.beans.pagination,o=this.beans.focusSvc?.getFocusedCell()?.rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&(!n||n.isRowInPage(o))&&o<this.rowModel.getRowCount()&&t.push(o);const i=s=>{const l=s.rowNode.rowIndex;l==null||l===o||(l<this.firstRenderedRow||l>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(l)};for(const s of Object.values(this.rowCtrlsByRowIndex))i(s);if(e)for(const s of Object.values(e))i(s);t.sort((s,l)=>s-l);const r=[];for(let s=0;s<t.length;s++){const l=t[s],u=this.rowModel.getRow(l);u&&!u.sticky&&r.push(l)}return r}recycleRows(e,t=!1,n=!1){const o=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(o,!t);for(const i of o)this.createOrUpdateRowCtrl(i,e,t,n);if(e){const{animationFrameSvc:i}=this.beans;i?.active&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=Wf(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const o=n.rowNode;return!(t!=null&&!zf(o,t))})}createOrUpdateRowCtrl(e,t,n,o){let i,r=this.rowCtrlsByRowIndex[e];if(r||(i=this.rowModel.getRow(e),de(i)&&de(t)&&t[i.id]&&i.alreadyRendered&&(r=t[i.id],t[i.id]=null)),!r)if(i||(i=this.rowModel.getRow(e)),de(i))r=this.createRowCon(i,n,o);else return;i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r}destroyRowCtrls(e,t){const n=[];if(e){for(const o of Object.values(e))if(o){if(this.cachedRowCtrls&&o.isCacheable()){this.cachedRowCtrls.addRow(o);continue}if(o.destroyFirstPass(!t),t){const i=o.instanceId;this.zombieRowCtrls[i]=o,n.push(()=>{o.destroySecondPass(),delete this.zombieRowCtrls[i]})}else o.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const o of n)o()},RB))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Gr(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let o,i;if(!n.isRowsToRender())o=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),o=t.getFirstRow(),i=t.getLastRow();else{const p=this.getRowBufferInPixels(),g=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let C=!1,w,y;do{const M=t.getPixelOffset(),{pageFirstPixel:T,pageLastPixel:k}=t.getCurrentPagePixelRange(),I=e.divStretchOffset,z=g.getVScrollPosition(),_=z.top,$=z.bottom;m?(w=T+I,y=k+I):(w=Math.max(_+M-p,T)+I,y=Math.min($+M+p,k)+I),this.firstVisibleVPixel=Math.max(_+M,T)+I,this.lastVisibleVPixel=Math.min($+M,k)+I,C=this.ensureAllRowsInRangeHaveHeightsCalculated(w,y)}while(C);let R=n.getRowIndexAtPixel(w),x=n.getRowIndexAtPixel(y);const E=t.getFirstRow(),P=t.getLastRow();R<E&&(R=E),x>P&&(x=P),o=R,i=x}const r=en(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);r&&!s&&i-o>l&&(i=o+l);const u=o!==this.firstRenderedRow,d=i!==this.lastRenderedRow;(u||d)&&(this.firstRenderedRow=o,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:o,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,bi(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),o=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:r}=this,s=r.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(s||o)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),o||s||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const o=e.rowNode,i=this.focusSvc.isRowFocused(o.rowIndex,o.rowPinned),r=this.editSvc?.isEditing(e),s=o.detail;return i||r||s?!!this.isRowPresent(o):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const o=this.cachedRowCtrls?.getRow(e)??null;if(o)return o;const i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new Td(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(o=>o.rowNode),t=this.getStickyTopRowCtrls().map(o=>o.rowNode),n=this.getStickyBottomRowCtrls().map(o=>o.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(o=>o.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(o=>o.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const o=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!o}},FB=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e?.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Uo(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Uo(this.entriesList,e)}getEntries(){return this.entriesList}};function Wf(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const n of e){const o=n.id;switch(n.rowPinned){case"top":t.top[o]=n;break;case"bottom":t.bottom[o]=n;break;default:t.normal[o]=n;break}}return t}function zf(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var PB=class extends ee{constructor(){super(...arguments),this.beanName="rowNodeSorter",this.accentedSort=!1,this.primaryColumnsSortGroups=!1,this.pivotActive=!1}postConstruct(){this.firstLeaf=Nt(this.gos)?Pd:EB,this.addManagedPropertyListeners(["accentedSort","autoGroupColumnDef","treeData"],this.updateOptions.bind(this));const e=this.updatePivotModeState.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,columnPivotChanged:e}),this.updateOptions(),e()}updateOptions(){this.accentedSort=!!this.gos.get("accentedSort"),this.primaryColumnsSortGroups=ci(this.gos)}updatePivotModeState(){this.pivotActive=this.beans.colModel.isPivotActive()}doFullSortInPlace(e,t){return e.sort((n,o)=>this.compareRowNodes(t,n,o))}compareRowNodes(e,t,n){if(t===n)return 0;const o=this.accentedSort;for(let i=0,r=e.length;i<r;++i){const s=e[i],l=s.sort==="desc";let u=this.getValue(t,s.column),d=this.getValue(n,s.column),p;const g=this.getComparator(s,t);if(g?p=g(u,d,t,n,l):(s.type==="absolute"&&(u=ZS(u),d=ZS(d)),p=JD(u,d,o)),p)return s.sort==="asc"?p:-p}return 0}getComparator(e,t){const n=e.column.getColDef(),o=this.getComparatorFromColDef(n,e);if(o)return o;if(!n.showRowGroup)return;const i=!t.group&&n.field;if(!i)return;const r=this.beans.colModel.getColDefCol(i);if(r)return this.getComparatorFromColDef(r.getColDef(),e)}getComparatorFromColDef(e,t){const n=e.comparator;if(n!=null)return typeof n=="object"?n[fi(t.type)]:n}getValue(e,t){const n=this.beans;if(this.primaryColumnsSortGroups){if(e.rowGroupColumn===t)return this.getGroupDataValue(e,t);if(e.group&&t.getColDef().showRowGroup)return}const o=n.valueSvc.getValue(t,e,"data");if(t.isAllowFormula()){const i=n.formula;if(i?.isFormula(o))return i.resolveValue(t,e)}return o}getGroupDataValue(e,t){if(vR(this.gos,this.pivotActive)){const o=this.firstLeaf(e);return o&&this.beans.valueSvc.getValue(t,o,"data")}const n=this.beans.showRowGroupCols?.getShowRowGroupCol(t.getId());return n?e.groupData?.[n.getId()]:void 0}},EB=e=>{if(e.data)return e;let t=e.childrenAfterGroup;for(;t?.length;){const n=t[0];if(n.data)return n;t=n.childrenAfterGroup}},ZS=e=>{if(!e)return e;if(typeof e=="bigint")return e<0n?-e:e;const t=Number(e);return isNaN(t)?e:Math.abs(t)};function DB(e){e.sortSvc?.onSortChanged("api")}var br=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),TB={tag:"span",cls:"ag-sort-indicator-container",children:[br("Order","order"),br("Asc","ascending-icon"),br("Desc","descending-icon"),br("Mixed","mixed-icon"),br("AbsoluteAsc","absolute-ascending-icon"),br("AbsoluteDesc","absolute-descending-icon"),br("None","none-icon")]},lC=class extends kt{constructor(e){super(),this.eSortOrder=Ce,this.eSortAsc=Ce,this.eSortDesc=Ce,this.eSortMixed=Ce,this.eSortNone=Ce,this.eSortAbsoluteAsc=Ce,this.eSortAbsoluteDesc=Ce,e||this.setTemplate(TB)}attachCustomElements(e,t,n,o,i,r,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=o,this.eSortNone=i,this.eSortAbsoluteAsc=r,this.eSortAbsoluteDesc=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("sortAbsoluteAscending",this.eSortAbsoluteAsc,e),this.addInIcon("sortAbsoluteDescending",this.eSortAbsoluteDesc,e);const n=this.updateIcons.bind(this),o=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:o,columnRowGroupChanged:o}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const o=En(e,this.beans,n);o&&t.appendChild(o)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortAbsoluteAsc:n,eSortAbsoluteDesc:o,eSortNone:i,column:r,gos:s,beans:l}=this,{isDefaultSortAllowed:u,isAbsoluteSortAllowed:d,isAbsoluteSort:p,isDefaultSort:g,isAscending:m,isDescending:C,direction:w}=xT(r,l);if(e&&ht(e,m&&g&&u,{skipAriaHidden:!0}),t&&ht(t,C&&g&&u,{skipAriaHidden:!0}),i){const y=!r.getColDef().unSortIcon&&!s.get("unSortIcon");ht(i,!y&&!w,{skipAriaHidden:!0})}n&&ht(n,m&&p&&d,{skipAriaHidden:!0}),o&&ht(o,C&&p&&d,{skipAriaHidden:!0})}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const o=t.getColDef().showRowGroup;ci(n)&&o&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const o=t.sortSvc.getDisplaySortForColumn(n)?.direction==="mixed";ht(e,o,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const o=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,r=o.some(l=>n.getDisplaySortIndexForColumn(l)??!1),s=i>=0&&r;ht(e,s,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():Tn(e)}},MB={selector:"AG-SORT-INDICATOR",component:lC},kB=class extends ee{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const o=this.getNextSortDirection(e);this.setSortForColumn(e,o,t,n)}progressSortFromEvent(e,t){const o=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,o,"uiColumnSorted")}setSortForColumn(e,t,n,o){const{gos:i,showRowGroupCols:r}=this.beans,s=ci(i);let l=[e];if(s&&e.getColDef().showRowGroup){const g=r?.getSourceColumnsForGroupColumn?.(e)?.filter(m=>m.isSortable());g&&(l=[e,...g])}for(const p of l)this.setColSort(p,t,o);const u=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),d=[];if(!u){const p=this.clearSortBarTheseColumns(l,o);d.push(...p)}this.updateSortIndex(e),d.push(...l),this.dispatchSortChangedEvents(o,d)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:o}=this.beans,i=ci(t),r=o?.getShowRowGroupCol(e.getId()),s=i&&r||e,l=this.getColumnsWithSortingOrdered();n.forAllCols(p=>this.setColSortIndex(p,null));const u=l.filter(p=>i&&p.getColDef().showRowGroup?!1:p!==s);(s.getSortDef()?[...u,s]:u).forEach((p,g)=>this.setColSortIndex(p,g))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{if(t.getSortDef())return e=!0,!0}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(o=>{e.includes(o)||(o.getSortDef()&&n.push(o),this.setColSort(o,void 0,t))}),n}getNextSortDirection(e){const t=e.getSortingOrder(),n=e.getSortDef();let i=t.findIndex(r=>Ku(r,n))+1;return i>=t.length&&(i=0),fo(t[i])}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:o}=this.beans;let i=[];if(t.forAllCols(d=>{d.getSortDef()&&i.push(d)}),t.isPivotMode()){const d=ci(e);i=i.filter(p=>{const g=!!p.getAggFunc(),m=!p.isPrimary(),C=d?n?.getShowRowGroupCol(p.getId()):p.getColDef().showRowGroup;return g||m||C})}const r=o?.columns.filter(d=>!!d.getSortDef())??[],s={};i.forEach((d,p)=>s[d.getId()]=p),i.sort((d,p)=>{const g=d.getSortIndex(),m=p.getSortIndex();if(g!=null&&m!=null)return g-m;if(g==null&&m==null){const C=s[d.getId()],w=s[p.getId()];return C>w?1:-1}else return m==null?-1:1});const l=ci(e)&&!!r.length;l&&(i=[...new Set(i.map(d=>n?.getShowRowGroupCol(d.getId())??d))]);const u=new Map;if(i.forEach((d,p)=>u.set(d,p)),l)for(const d of r){const p=n.getShowRowGroupCol(d.getId());u.set(d,u.get(p))}return u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}collectSortItems(e=!1){const t=[],n=this.getColumnsWithSortingOrdered();for(const o of n){const i=o.getSortDef()?.direction;if(!i)continue;const r=fi(o.getSortDef()?.type),s={sort:i,type:r};e?s.colId=o.getId():s.column=o,t.push(s)}return t}getSortModel(){return this.collectSortItems(!0)}getSortOptions(){return this.collectSortItems()}canColumnDisplayMixedSort(e){const t=ci(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSortDef();const o=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=o[0].getSortDef();return o.every(s=>Ku(s.getSortDef(),i))?i:{type:fi(e.getSortDef()?.type),direction:"mixed"}}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t){const n=()=>{const{type:o,direction:i}=fo(t.getSortDef());if(e.toggleCss("ag-header-cell-sorted-asc",i==="asc"),e.toggleCss("ag-header-cell-sorted-desc",i==="desc"),e.toggleCss("ag-header-cell-sorted-abs-asc",o==="absolute"&&i==="asc"),e.toggleCss("ag-header-cell-sorted-abs-desc",o==="absolute"&&i==="desc"),e.toggleCss("ag-header-cell-sorted-none",!i),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(u=>i==u.getSortDef()?.direction);e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:n,columnPinned:n,columnRowGroupChanged:n,displayedColumnsChanged:n})}initCol(e){const{sortIndex:t,initialSortIndex:n}=e.colDef,o=PR(e.colDef);o&&e.setSortDef(o,!0),t!==void 0?t!==null&&(e.sortIndex=t):n!==null&&(e.sortIndex=n)}updateColSort(e,t,n){t!==void 0&&this.setColSort(e,fo(t),n)}setColSort(e,t,n){Ku(e.getSortDef(),t)||(e.setSortDef(fo(t),t===void 0),e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new lC(e)}getSortIndicatorSelector(){return MB}},Yx={moduleName:"Sort",version:ue,beans:[kB,PB],apiFunctions:{onSortChanged:DB},userComponents:{agSortIndicator:lC},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",sortAbsoluteAscending:"aasc",sortAbsoluteDescending:"adesc"}},IB=class extends ee{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Kr(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,ea(e.source))}}},AB="paste",LB=class extends ee{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Nt(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===AB||t.get("suppressChangeDetection"))return;const o=e.node,i=[o],r=this.clientSideRowModel,s=r?.rootNode;if(s&&!o.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),u=new Kl(l,s);u.addParentNode(o.parent,[e.column]),r.doAggregate(u),u.forEachChangedNodeDepthFirst(d=>{i.push(d),d.sibling&&i.push(d.sibling)})}n.refreshCells({rowNodes:i})}},OB=class extends ee{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);et(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return et(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=o,o}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},NB=class extends ee{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const o=this.cacheVersion;e.__cacheVersion!==o&&(e.__cacheVersion=o,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},BB={moduleName:"ValueCache",version:ue,beans:[NB],apiFunctions:{expireValueCache:bk}},HB={moduleName:"Expression",version:ue,beans:[OB]},GB={moduleName:"ChangeDetection",version:ue,beans:[LB]},VB={moduleName:"CellApi",version:ue,apiFunctions:{getCellValue:Rk}},WB=class extends ee{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.formulaDataSvc=e.formulaDataSvc}postConstruct(){this.initialised||this.init()}init(){const{gos:e,valueCache:t}=this;this.executeValueGetter=t?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=wa(e),this.cellExpressions=e.get("enableCellExpressions"),this.isTreeData=e.get("treeData"),this.initialised=!0;const n=o=>this.callColumnCellValueChangedHandler(o);this.eventSvc.addListener("cellValueChanged",n,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",n,!0)),this.addManagedPropertyListener("treeData",o=>this.isTreeData=o.currentValue)}getValueForDisplay(e){const t=this.beans,n=e.column,o=e.node,i=t.showRowGroupColValueSvc,r=!n&&o.group,s=n?.colDef.showRowGroup,l=!this.isTreeData||o.footer;if(i&&l&&(r||s)){const m=i.getGroupValue(o,n,this.displayIgnoresAggData(o));return m==null?{value:null,valueFormatted:null}:{value:m.value,valueFormatted:e.includeValueFormatted?i.formatAndPrefixGroupColValue(m,n,e.exporting):null}}if(!n)return{value:o.key,valueFormatted:null};let u=this.getValue(n,o,e.from,this.displayIgnoresAggData(o)),d=u;const p=t.formula;n.isAllowFormula()&&p?.isFormula(u)&&(e.useRawFormula?(u=p.normaliseFormula(u,!0),d=p.resolveValue(n,o)):(u=p.resolveValue(n,o),d=u));const g=e.includeValueFormatted&&!(e.exporting&&n.colDef.useValueFormatterForExport===!1);return{value:u,valueFormatted:g?this.formatValue(n,o,d):null}}getValue(e,t,n,o=!1){if(this.initialised||this.init(),!t)return;const i=e.getColDef();if(!t.group){const u=i.pivotValueColumn;u&&(e=u)}const r=this.editSvc?.getPendingEditValue(t,e,n);if(r!==void 0)return r;const s=i.showRowGroup;if(typeof s=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(s)??-1)>t.level)return null;let l=this.resolveValue(e,t,o);if(this.cellExpressions&&Xy(l)){const u=l.substring(1);l=this.executeValueGetter(u,t.data,e,t)}return l}getFormulaFromDataSource(e,t){const n=this.formulaDataSvc;if(!n?.hasDataSource()||!e.isAllowFormula())return;const o=n.getFormula({column:e,rowNode:t});return Xy(o)?o:void 0}displayIgnoresAggData(e){return!e.group||!e.expanded||e.footer||e.leafGroup&&this.colModel.isPivotMode()?!1:!!e.sibling&&!this.gos.get("groupSuppressBlankHeader")}resolveValue(e,t,n){const o=e.getColDef(),i=e.getColId(),r=this.isTreeData,s=this.getFormulaFromDataSource(e,t);if(s!==void 0)return s;const l=!n&&t.aggData&&t.aggData[i]!==void 0;if(r&&l)return t.aggData[i];const u=t.data,d=o.field;if(r&&o.valueGetter)return this.executeValueGetter(o.valueGetter,u,e,t);if(r&&d&&u)return Il(u,d,e.isFieldContainsDots());const p=t.groupData;if(p&&i in p)return t.groupData[i];if(l)return t.aggData[i];const m=o.showRowGroup,C=typeof m!="string"||!t.group,w=this.isSsrm&&n&&!!o.aggFunc,y=this.isSsrm&&t.footer&&t.field&&(m===!0||m===t.field);if(o.valueGetter&&!w)return C?this.executeValueGetter(o.valueGetter,u,e,t):void 0;if(y)return Il(u,t.field,e.isFieldContainsDots());if(d&&u&&!w)return C?Il(u,d,e.isFieldContainsDots()):void 0}parseValue(e,t,n,o){const i=e.getColDef();if(i.allowFormula&&this.beans.formula?.isFormula(n))return n;const r=i.valueParser;if(de(r)){const s=ke(this.gos,{node:t,data:t?.data,oldValue:o,newValue:n,colDef:i,column:e});return typeof r=="function"?r(s):this.expressionSvc?.evaluate(r,s)}return n}getDeleteValue(e,t){return de(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay({column:e,node:t,from:"edit"}).value)??null:null}formatValue(e,t,n,o,i=!0){const{expressionSvc:r}=this.beans;let s=null,l;const u=e.getColDef();if(o?l=o:i&&(l=u.valueFormatter),l){const d=t?t.data:null,p=ke(this.gos,{value:n,node:t,data:d,colDef:u,column:e});typeof l=="function"?s=l(p):s=r?r.evaluate(l,p):null}else if(u.refData)return u.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}setValue(e,t,n,o){const i=t.getColDef();if(!e.data&&this.canCreateRowNodeData(e,i)&&(e.data={}),!this.isSetValueSupported({column:t,newValue:n,colDef:i}))return!1;const r=this.getValue(t,e,"data"),s=ke(this.gos,{node:e,data:e.data,oldValue:r,newValue:n,colDef:i,column:t}),l=e.group?i.groupRowValueSetter:void 0;let u=!1,d=!1;if(e.data){const p=this.handleExternalFormulaChange({column:t,eventSource:o,newValue:n,setterParams:s,rowNode:e});if(p!==null)return p;u=this.computeValueChange({column:t,rowNode:e,newValue:n,params:s,rowData:e.data,valueSetter:i.valueSetter,field:i.field})??!0}return l&&(d=l(ke(this.gos,{node:e,data:e.data,oldValue:r,newValue:n,colDef:i,column:t,eventSource:o,valueChanged:u||n!==r,aggregatedChildren:this.beans.aggStage?.getAggregatedChildren(e,t)??[]}))??!0),!u&&!d?!1:this.finishValueChange(e,t,s,o)}canCreateRowNodeData(e,t){return e.group?!(t.groupRowValueSetter!=null||t.groupRowEditable!=null||t.pivotValueColumn):!0}finishValueChange(e,t,n,o){e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const i=this.getValue(t,e,"data");return this.dispatchCellValueChangedEvent(e,n,i,o),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,n,i,o),!0}isSetValueSupported(e){const{column:t,newValue:n,colDef:o}=e,{field:i,valueSetter:r}=o,s=this.beans.formula,l=t.isAllowFormula()&&s?.isFormula(n),u=!!this.formulaDataSvc?.hasDataSource();return Pt(i)&&Pt(r)&&!(u&&l)?(oe(17),!1):this.dataTypeSvc&&!this.dataTypeSvc.checkType(t,n)?(oe(135),!1):!0}handleExternalFormulaChange(e){const{column:t,rowNode:n,newValue:o,eventSource:i,setterParams:r}=e,s=this.beans.formula,l=this.formulaDataSvc;if(!l?.hasDataSource()||!t.isAllowFormula())return null;const u=s?.isFormula(o),d=l.getFormula({column:t,rowNode:n});if(u){if(!(d!==o))return!1;l.setFormula({column:t,rowNode:n,formula:o});const g=s?.resolveValue(t,n),m=t.getColDef();if(de(m.valueSetter)||!Pt(m.field)){const C={...r,newValue:g};this.computeValueChange({column:t,rowNode:n,newValue:g,params:C,rowData:n.data,valueSetter:m.valueSetter,field:m.field})}return this.finishValueChange(n,t,r,i)}return d!==void 0&&l.setFormula({column:t,rowNode:n,formula:void 0}),null}computeValueChange(e){const{valueSetter:t,params:n,rowData:o,field:i,column:r,newValue:s}=e;return de(t)?typeof t=="function"?t(n):this.expressionSvc?.evaluate(t,n):!!o&&this.setValueUsingField(o,i,s,r.isFieldContainsDots())}dispatchCellValueChangedEvent(e,t,n,o){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:o})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,o){if(!t)return!1;let i=!1;if(!o)i=e[t]===n,i||(e[t]=n);else{const r=t.split(".");let s=e;for(;r.length>0&&s;){const l=r.shift();r.length===0?(i=s[l]===n,i||(s[l]=n)):s=s[l]}}return!i}executeValueGetterWithValueCache(e,t,n,o){const i=n.getColId(),r=this.valueCache.getValue(o,i);if(r!==void 0)return r;const s=this.executeValueGetterWithoutValueCache(e,t,n,o);return this.valueCache.setValue(o,i,s),s}executeValueGetterWithoutValueCache(e,t,n,o){const i=ke(this.gos,{data:t,node:o,column:n,colDef:n.getColDef(),getValue:s=>this.getValueCallback(o,s)});let r;return typeof e=="function"?r=e(i):r=this.expressionSvc?.evaluate(e,i),r}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e,"data"):null}getKeyForNode(e,t){const n=this.getValue(e,t,"data"),o=e.getColDef().keyCreator;let i=n;if(o){const r=ke(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=o(r)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&oe(121)),i}},zB={moduleName:"CommunityCore",version:ue,beans:[L2,GI,aO,aM,bB,cL,D2,tN,hL,eB,JN,xB,WB,I2,P2,A2,cO,IB,eO,tO,pN],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:VI,destroy:WI,isDestroyed:zI,getGridOption:_I,setGridOption:$I,updateGridOptions:Cx,isModuleRegistered:UI},dependsOn:[ZL,WA,qA,Yx,cN,dL,uN,SB,GB,hN,ZN,iB,aB,fN,iO,JL,HB,mL,uB]};function _f(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:o,filterByPercentageOfBestMatch:i}=e;let r=(n??[]).map((u,d)=>({value:u,relevance:_B(t,u),idx:d}));if(r.sort((u,d)=>u.relevance-d.relevance),o&&(r=r.filter(u=>u.relevance<Math.max(u.value.length,t.length))),r.length>0&&i&&i>0){const d=r[0].relevance*i;r=r.filter(p=>d-p.relevance<0)}const s=[],l=[];for(const u of r)s.push(u.value),l.push(u.idx);return{values:s,indices:l}}function _B(e,t){const n=e.length,o=t.length;if(o===0)return n||0;let i=e.toLocaleLowerCase(),r=t.toLocaleLowerCase(),s;e.length<t.length&&(s=r,r=i,i=s,s=t,t=e,e=s);let l=new Uint16Array(o+1),u=new Uint16Array(o+1);for(let g=0;g<=o;g++)l[g]=g;let d=0;const p=n/2-10;for(let g=1;g<=n;g++){const m=e[g-1],C=i[g-1];u[0]=g;for(let w=1;w<=o;w++){const y=t[w-1],R=r[w-1];if(C!==R){const x=u[w-1],E=l[w],P=l[w-1];let M=x<E?x:E;P<M&&(M=P),u[w]=M+1|0;continue}if(d++,m===y&&d++,g>1&&w>1){const x=e[g-2],E=i[g-2],P=t[w-2],M=r[w-2];E===M&&(d++,x===P&&d++)}g<p&&d++,u[w]=l[w-1]}s=l,l=u,u=s}return l[o]/(d+1)}var Qx={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1,Formula:1},Yg=["TextFilter","NumberFilter","BigIntFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],$B={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Yg,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Yg,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Yg,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},UB={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function jB(e,t){const n=[];for(const o of Array.isArray(e)?e:[e]){const i=$B[o];if(i)for(const r of i){const s=UB[r];(!s||s===t)&&n.push(r)}else n.push(o)}return n}var Xx=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,KB=e=>{const t=e.map(o=>`import { ${Al(o)} } from '${Qx[o]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(o=>o==="IntegratedCharts"||o==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(o=>Al(o,!0)).join(", ")} ]); 

For more info see: ${Ys}/modules/`};function Al(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function qB(e,t){const n=t.filter(r=>r==="IntegratedCharts"||r==="Sparklines");let o="";return!globalThis?.agCharts&&n.length>0?o=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(r=>Qx[r])&&(o=o+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),o}function Zx({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var JS=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:o,rowModelType:i,additionalText:r,isUmd:s})=>{const l=jB(t,i),u=typeof e=="string"?e:ZB[e];if(s)return qB(u,l);const d=l.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),p=d.length>0?`${d.map(m=>Al(m)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${u} as ${l.length>1?"one of "+l.map(m=>Al(m)).join(", "):Al(l[0])} is not registered${n?" for gridId: "+o:""}. ${p} Check if you have registered the module:
`}
${KB(l)}`+(r?` 

${r}`:"")},eb=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,YB=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,QB={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${YB(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:o})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${o?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:o})=>{const i=[],r=[...Object.keys(n??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(o??[]).filter(l=>!!o[l])],s=_f({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&i.push(`         Did you mean: [${s.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Ys}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=_f({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:JS,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Ys}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>eb("IntegratedChartsModule"),258:()=>eb("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:o,rowModelType:i})=>JS({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:oa[t],gridId:o,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Ys}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>Xx(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:Zx,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`,293:()=>"The grid was initialised detached from the DOM and was then inserted into a Shadow Root. Theme styles are probably broken. Pass the themeStyleContainer grid option to let the grid know where in the document to insert theme CSS.",294:()=>"When using the `agRichSelectCellEditor` setting `filterListAsync = true` requires `allowTyping = true` and the `values()` callback must return a Promise of filtered values.",295:({blockedService:e})=>`colDef.allowFormula is not supported with ${e}. Formulas has been turned off.`,296:()=>"Since v35, `api.hideOverlay()` does not hide the overlay when `activeOverlay` is set. Set `activeOverlay=null` instead.",297:()=>'`api.hideOverlay()` does not hide the no matching rows overlay as it is only controlled by grid state. Set `suppressOverlays=["noMatchingRows"] to not show it.'};function XB(e,t){const n=QB[e];if(!n)return[`Missing error text for error id ${e}!`];const o=n(t),r=`
See ${hR(e,t)}`;return Array.isArray(o)?o.concat(r):[o,r]}var ZB={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},Jx=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${oR}/${this.frameworkName}-data-grid`,Z1(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}},tb=new WeakMap,nb=new WeakMap,JB=1,eH=class{create(e,t,n,o,i,r){const s=Im.applyGlobalGridOptions(t),l=s.gridId??String(JB++),u=this.getRegisteredModules(i,l,s.rowModelType),d=this.createBeansList(s.rowModelType,u,l),p=this.createProvidedBeans(e,s,i);if(!d)return;const m={providedBeanInstances:p,beanClasses:d,id:l,beanInitComparator:oI,beanDestroyComparator:iI,derivedBeans:[tI],destroyCallback:()=>{nb.delete(w),tb.delete(e),U1(l),r?.()}},C=new eI(m);this.registerModuleFeatures(C,u),n(C),C.getBean("syncSvc").start(),o?.(C);const w=C.getBean("gridApi");return tb.set(e,w),nb.set(w,e),w}getRegisteredModules(e,t,n){return $l(zB,void 0,!0),e?.modules?.forEach(o=>$l(o,t)),j1(t,ob(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),o=e.getBean("apiFunctionSvc");for(const i of t){n.registerModule(i);const r=i.apiFunctions;if(r){const s=Object.keys(r);for(const l of s)o?.addFunction(l,r[l])}}}createProvidedBeans(e,t,n){let o=n?n.frameworkOverrides:null;Pt(o)&&(o=new Jx);const i={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:o};return n?.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const o={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=ob(e),r=o[i];if(!r){vl(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!Y1()){vl(272,void 0,Xx());return}if(!e){const l=Object.entries(o).filter(([u,d])=>bf(d,n,u));if(l.length==1){const[u,d]=l[0];if(u!==i){const p={moduleName:d,rowModelType:u};vl(275,p,Zx(p));return}}}if(!bf(r,n,i)){const l=aR(),u=`rowModelType = '${i}'`,d=`Missing module ${r}Module for rowModelType ${i}.`;vl(200,{reasonOrId:u,moduleName:r,gridScoped:Am(),gridId:n,rowModelType:i,isUmd:l},d);return}const s=new Set;for(const l of t)for(const u of l.beans??[])s.add(u);return Array.from(s)}};function ob(e){return e??"clientSide"}function tH(e,t=!1){const n=[],o=[],i=[],r=[],s=[],l=[],u=[],d=[],p=[];let g=0;for(let m=0;m<e.length;m++){const{colId:C,sort:w,sortType:y,sortIndex:R,rowGroup:x,rowGroupIndex:E,aggFunc:P,pivot:M,pivotIndex:T,pinned:k,hide:I,width:z,flex:_}=e[m];p.push(C),w&&(n[R??g++]={colId:C,sort:w,type:y}),x&&(o[E??0]=C),typeof P=="string"&&i.push({colId:C,aggFunc:P}),M&&(r[T??0]=C),k&&(k==="right"?l:s).push(C),I&&u.push(C),(_!=null||z)&&d.push({colId:C,flex:_??void 0,width:z===null?void 0:z})}return{sort:n.length?{sortModel:Qg(n)}:void 0,rowGroup:o.length?{groupColIds:Qg(o)}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:Qg(r)}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:p.length?{orderedColIds:p}:void 0}}function Qg(e){return e.filter(t=>t!=null)}function nH(e){const t=[];for(const{groupId:n,open:o}of e)o&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var oH=class extends ee{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(o=>{if(!o){et(18),t||et(20);return}if(this.isGridApi(o))return o;const i=o;return"current"in i?i.current?.api:(i.api||et(19),i.api)}).filter(o=>!!o&&!o.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(const t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(o=>{n.push(t(o))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":oe(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;if(t)for(const n of e.columnGroups){let o=null;n&&(o=t.getProvidedColGroup(n.getGroupId())),!(n&&!o)&&t.setColumnGroupOpened(o,n.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){const t=e.column;let n=null;const o=this.beans,{colResize:i,ctrlsSvc:r,colModel:s}=o;if(t&&(n=s.getColDefCol(t.getColId())),t&&!n)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const g=e.api.getColumnState().map(m=>({colId:m.colId}));Co(o,{state:g,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const g=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));Co(o,{state:g},"alignedGridChanged")}break;case"columnPinned":{const g=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));Co(o,{state:g},"alignedGridChanged")}break;case"columnResized":{const p=e,g={};for(const m of l)g[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()};for(const m of p.flexColumns??[])g[m.getId()]&&delete g[m.getId()];i?.setColumnWidths(Object.values(g),!1,p.finished,"alignedGridChanged");break}}const d=r.getGridBodyCtrl().isVerticalScrollShowing();for(const p of this.getAlignedGridApis())p.setGridOption("alwaysShowVerticalScroll",d)}},iH={moduleName:"AlignedGrids",version:ue,beans:[oH],dependsOn:[Px]};function rH(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function eF(e,t,n,o,i){t&&(o&&t.parent&&t.parent.level!==-1&&eF(e,t.parent,n,o,i),t.setExpanded(n,void 0,i))}function sH(e,t){return e.rowModel.getRowNode(t)}function aH(e,t,n,o){e.rowRenderer.addRenderedRowListener(t,n,o)}function lH(e){return e.rowRenderer.getRenderedNodes()}function cH(e,t,n){e.rowModel.forEachNode(t,n)}function uH(e){return e.rowRenderer.firstRenderedRow}function dH(e){return e.rowRenderer.lastRenderedRow}function hH(e,t){return e.rowModel.getRow(t)}function pH(e){return e.rowModel.getRowCount()}function gH(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function fH(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function tF(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function nF(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function mH(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}var CH={moduleName:"RowApi",version:ue,apiFunctions:{redrawRows:rH,setRowNodeExpanded:eF,getRowNode:sH,addRenderedRowListener:aH,getRenderedNodes:lH,forEachNode:cH,getFirstDisplayedRowIndex:uH,getLastDisplayedRowIndex:dH,getDisplayedRowAtIndex:hH,getDisplayedRowCount:pH}},vH={moduleName:"ScrollApi",version:ue,apiFunctions:{getVerticalPixelRange:gH,getHorizontalPixelRange:fH,ensureColumnVisible:tF,ensureIndexVisible:nF,ensureNodeVisible:mH}};function wH(e){e.expansionSvc?.expandAll(!0)}function yH(e){e.expansionSvc?.expandAll(!1)}function oF(e){e.rowModel?.onRowHeightChanged()}function iF(e){if(e.rowAutoHeight?.active){oe(3);return}e.rowModel?.resetRowHeights()}function SH(e,t,n){const o=Hk(e);if(o){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){et(238);return}o.setRowCount(t,n);return}et(28);return}Jd(e)?.setRowCount(t,n)}function bH(e){return wa(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function RH(e){return e.rowModel.isLastRowIndexKnown()}var xH={moduleName:"CsrmSsrmSharedApi",version:ue,apiFunctions:{expandAll:wH,collapseAll:yH}},FH={moduleName:"RowModelSharedApi",version:ue,apiFunctions:{onRowHeightChanged:oF,resetRowHeights:iF}},PH={moduleName:"SsrmInfiniteSharedApi",version:ue,apiFunctions:{setRowCount:SH,getCacheBlockState:bH,isLastRowIndexKnown:RH}},EH=class extends ee{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},ib(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){this.dispatchRowDataUpdateStarted(e),this.destroyAllNodes();const t=ib(this.rootNode),n=new Array(e.length);t._leafs=n;let o=0;const i=this.beans.groupStage?.getNestedDataGetter(),r=i?new Set:null,s=(l,u)=>{const d=l.level+1;for(let p=0,g=u.length;p<g;++p){const m=u[p];if(!m)continue;const C=this.createRowNode(m,d,o);if(n[o++]=C,r&&!r.has(m)){r.add(m),C.treeParent=l;const w=i(m);w&&s(C,w)}}};s(t,e),n.length=o}destroyAllNodes(){const{selectionSvc:e,pinnedRowModel:t,groupStage:n}=this.beans;e?.reset("rowDataChanged"),t?.isManual()&&t.reset(),n?.clearNonLeafs();const o=this.rootNode._leafs;if(o)for(let i=0,r=o.length;i<r;++i)o[i]._destroy(!1);this.allNodesMap=Object.create(null),this.nextId=0}setImmutableRowData(e,t){const{rootNode:n,gos:o}=this;this.dispatchRowDataUpdateStarted(t);const i=la(o),r=e.changedRowNodes,{adds:s,updates:l}=r,u=new Set,d=[],p=this.beans.groupStage?.getNestedDataGetter();let g=o.get("suppressMaintainUnsortedOrder")?void 0:!1,m=-1,C=!1;const w=(x,E)=>{if(!g&&g!==void 0){const P=x.sourceRowIndex;g=P<=m,m=P}x.data!==E&&(x.updateData(E),s.has(x)||l.add(x),!x.selectable&&x.isSelected()&&d.push(x))},y=(x,E,P)=>{for(let M=0,T=E.length;M<T;++M){const k=E[M];if(!k)continue;let I=this.getRowNode(i({data:k,level:P}));if(I?(w(I,k),C||(C=!!p&&I.treeParent!==x)):(I=this.createRowNode(k,P),s.add(I)),!p||u.has(I)){u.add(I);continue}u.add(I),I.treeParent=x;const z=p(k);z&&y(I,z,P+1)}};y(n,t,0);const R=this.deleteUnusedNodes(u,r,d,!!e.animate)||g||s.size>0;if(R){const x=n._leafs??(n._leafs=[]);g===void 0?IH(x,u,r):kH(x,u)&&(r.reordered=!0)}(R||C||l.size)&&(e.rowDataUpdated=!0,this.deselect(d))}deleteUnusedNodes(e,{removals:t},n,o){const i=this.rootNode._leafs;for(let r=0,s=i.length;r<s;r++){const l=i[r];e.has(l)||this.destroyNode(l,o)&&(t.push(l),l.isSelected()&&n.push(l))}return t.length>0}updateRowData(e,t,n){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return oe(268),{remove:[],update:[],add:[]};const o=[],i=la(this.gos),r=this.executeRemove(i,e,t,o,n),s=this.executeUpdate(i,e,t,o),l=this.executeAdd(e,t);return this.deselect(o),{remove:r,update:s,add:l}}executeRemove(e,{remove:t},{adds:n,updates:o,removals:i},r,s){const l=this.rootNode._leafs,u=l?.length,d=t?.length;if(!d||!u)return[];let p=0,g=u,m=0;const C=new Array(d);for(let w=0;w<d;++w){const y=this.lookupNode(e,t[w]);if(!y)continue;const R=y.sourceRowIndex;R<g&&(g=R),R>m&&(m=R),C[p++]=y,this.destroyNode(y,s)&&(y.isSelected()&&r.push(y),n.delete(y)||(o.delete(y),i.push(y)))}return C.length=p,p&&MH(l,g,m),C}executeUpdate(e,{update:t},{adds:n,updates:o},i){const r=t?.length;if(!r)return[];const s=new Array(r);let l=0;for(let u=0;u<r;u++){const d=t[u],p=this.lookupNode(e,d);p&&(p.updateData(d),!p.selectable&&p.isSelected()&&i.push(p),s[l++]=p,n.has(p)||o.add(p))}return s.length=l,s}executeAdd(e,t){var n;const o=(n=this.rootNode)._leafs??(n._leafs=[]),i=o.length,r=e.add,s=r?.length;if(!s)return[];const l=i+s;let u=this.sanitizeAddIndex(o,e.addIndex);if(u<i){for(let g=i-1,m=l-1;g>=u;--g){const C=o[g];C.sourceRowIndex=m,o[m--]=C}t.reordered=!0}o.length=l;const d=new Array(s),p=t.adds;for(let g=0;g<s;g++){const m=this.createRowNode(r[g],0,u);p.add(m),o[u]=m,d[g]=m,u++}return d}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselect(e){const t="rowDataChanged",n=this.beans.selectionSvc;e.length&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t,n){const o=new nr(this.beans);o.parent=this.rootNode,o.level=t,o.group=!1,o.expanded=!1,n!=null&&(o.sourceRowIndex=n),o.setDataAndId(e,String(this.nextId++));const i=o.id,r=this.allNodesMap;return r[i]&&oe(2,{nodeId:i}),r[i]=o,o}destroyNode(e,t){if(!e._destroy(t))return!1;const n=e.id,o=this.allNodesMap;return o[n]===e&&delete o[n],!0}lookupNode(e,t){if(!e)return TH(this.rootNode._leafs,t);const n=e({data:t,level:0}),o=this.allNodesMap[n];return o||(et(4,{id:n}),null)}sanitizeAddIndex(e,t){const n=e.length;if(typeof t!="number"||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);const o=this.gos;return t>0&&o.get("treeData")&&o.get("getDataPath")&&(t=DH(e,t)),t}},DH=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(e[n]?.rowIndex==t-1)return n+1;return t},ib=e=>{e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e._leafs?.length!==0&&(e._leafs=[]);const t=[],n=[],o=[],i=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=o,e.childrenAfterFilter=i;const r=e.sibling;return r&&(r.childrenAfterGroup=t,r.childrenAfterSort=n,r.childrenAfterAggFilter=o,r.childrenAfterFilter=i,r.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},TH=(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++){const i=e[n];if(i.data===t)return i}return et(5,{data:t}),null},MH=(e,t,n)=>{t=Math.max(0,t);for(let o=t,i=e.length;o<i;++o){const r=e[o];o<=n&&r.destroyed||(r.sourceRowIndex=t,e[t++]=r)}e.length=t},kH=(e,t)=>{const n=t.size;e.length=n;let o=0,i=!1,r=!1;for(const s of t){const l=s.sourceRowIndex;l===o?r||(r=i):(l>=0?r=!0:i=!0,s.sourceRowIndex=o,e[o]=s),++o}return r},IH=(e,t,{adds:n})=>{const o=e.length,i=t.size;i>o&&(e.length=i);let r=0;for(let s=0;s<o;++s){const l=e[s];l.destroyed||(r!==s&&(l.sourceRowIndex=r,e[r]=l),++r)}for(const s of n)s.sourceRowIndex<0&&(s.sourceRowIndex=r,e[r++]=s);e.length=r};function $f(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var AH=class extends ee{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){const t=!!this.filterManager?.isChildFilterPresent();this.beans.formula?.active?this.softFilter(t,e):this.filterNodes(t,e)}filterNodes(e,t){const n=(o,i)=>{o.hasChildren()&&e&&!i?o.childrenAfterFilter=o.childrenAfterGroup.filter(r=>{const s=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,l=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return s||l}):o.childrenAfterFilter=o.childrenAfterGroup,$f(o)};if(this.doingTreeDataFiltering()){const o=(r,s)=>{if(r.childrenAfterGroup)for(let l=0;l<r.childrenAfterGroup.length;l++){const u=r.childrenAfterGroup[l],d=s||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?o(r.childrenAfterGroup[l],d):n(u,d)}n(r,s)},i=r=>o(r,!1);t.executeFromRootNode(i)}else{const o=i=>n(i,!1);t.forEachChangedNodeDepthFirst(o,!0)}}softFilter(e,t){const n=o=>{if(o.childrenAfterFilter=o.childrenAfterGroup,o.hasChildren())for(const i of o.childrenAfterGroup)i.softFiltered=e&&!(i.data&&this.filterManager.doesRowPassFilter({rowNode:i}));$f(o)};t.forEachChangedNodeDepthFirst(n,!0)}doingTreeDataFiltering(){const{gos:e}=this;return e.get("treeData")&&!e.get("excludeChildrenWhenTreeDataFiltering")}},LH=4,OH=(e,t,n,o,i)=>{const r=t.childrenAfterSort,s=t.childrenAfterAggFilter;if(!s)return r&&r.length>0?r:[];const l=s.length;if(l<=1)return r?.length===l&&(l===0||r[0]===s[0])?r:s.slice();if(!r||l<=LH)return e.doFullSortInPlace(s.slice(),i);const u=new Map,{updates:d,adds:p}=n,g=[];for(let C=0;C<l;++C){const w=s[C];d.has(w)||p.has(w)||!o.canSkip(w)?(u.set(w,~C),g.push(w)):u.set(w,C)}const m=g.length;return m===0?l===r.length?r:BH(r,u,g):(g.sort((C,w)=>e.compareRowNodes(i,C,w)||~u.get(C)-~u.get(w)),m===l?g:NH(e,i,g,r,u,l))},NH=(e,t,n,o,i,r)=>{const s=new Array(r);let l=0,u=n[l],d,p=-1,g=0,m=0;const C=n.length,w=o.length;for(;;){if(p<0){if(g>=w)break;if(d=o[g++],p=i.get(d)??-1,p<0)continue}if((e.compareRowNodes(t,u,d)||~i.get(u)-p)<0){if(s[m++]=u,++l>=C)break;u=n[l]}else s[m++]=d,p=-1}for(;l<C;)s[m++]=n[l++];if(p<0)return s;for(s[m++]=d;g<w;){const y=o[g++];i.get(y)>=0&&(s[m++]=y)}return s},BH=(e,t,n)=>{let o=0;n.length=t.size;for(let i=0,r=e.length;i<r;++i){const s=e[i];t.has(s)&&(n[o++]=s)}return n.length=o,n},rF=e=>{const t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),!!t)for(let o=0,i=t.length-1;o<=i;o++){const r=t[o],s=o===0,l=o===i;r.firstChild!==s&&(r.firstChild=s,r.dispatchRowEvent("firstChildChanged")),r.lastChild!==l&&(r.lastChild=l,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==o&&(r.childIndex=o,r.dispatchRowEvent("childIndexChanged"))}},HH=class extends ee{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e,t){const n=this.beans.sortSvc.getSortOptions(),o=n.length>0&&!!t&&this.gos.get("deltaSort"),{gos:i,colModel:r,rowGroupColsSvc:s,rowNodeSorter:l,rowRenderer:u,showRowGroupCols:d}=this.beans,p=i.get("groupMaintainOrder"),g=r.getCols().some(E=>E.isRowGroupActive()),m=s?.columns,C=r.isPivotMode(),w=i.getCallback("postSortRows");let y=!1,R;const x=E=>{const P=C&&E.leafGroup;let M=p&&g&&!E.leafGroup;M&&(R??(R=this.shouldSortContainsGroupCols(n)),M&&(M=!R));let T=null;if(M){let k=!1;if(m){const I=E.level+1;I<m.length&&(k=m[I].wasSortExplicitlyRemoved)}k||(T=GH(E))}else!n.length||P||(o&&t?T=OH(l,E,t,e,n):T=l.doFullSortInPlace(E.childrenAfterAggFilter.slice(),n));if(T||(T=E.childrenAfterAggFilter?.slice()??[]),y||(y=E.childrenAfterSort?.[0]!==T[0]),E.childrenAfterSort=T,rF(E),w){const k={nodes:E.childrenAfterSort};w(k)}};if(e?.forEachChangedNodeDepthFirst(x),y&&i.get("groupHideOpenParents")){const E=d?.columns;E?.length&&u.refreshCells({columns:E,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(ci(this.gos)){for(let n=0;n<t;++n){const o=e[n].column;if(o.isPrimary()&&o.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},GH=e=>{const t=e.childrenAfterSort,n=e.childrenAfterAggFilter,o=t?.length,i=n?.length;if(!o||!i)return null;const r=new Array(i),s=new Set;for(let u=0;u<i;++u)s.add(n[u]);let l=0;for(let u=0;u<o;++u){const d=t[u];s.delete(d)&&(r[l++]=d)}if(s.size===0&&l===o)return t;for(const u of s)r[l++]=u;return r.length=l,r},VH=class extends ee{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.formulaRows=[],this.stages=null,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingData=!1,this.rowDataUpdatedPending=!1,this.refreshingModel=!1,this.pendingNewData=!1,this.noKeepRenderedRows=!1,this.noKeepUndoRedoStack=!1,this.noAnimate=!1,this.rowNodesCountReady=!1,this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=qt(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){const e=this.beans,t=new nr(e);this.rootNode=t,this.nodeManager=this.createBean(new EH(t));const n=()=>{this.beans.groupStage?.invalidateGroupCols(),this.refreshModel({step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")})};this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:()=>this.refreshModel({step:"pivot"}),columnPivotModeChanged:()=>this.refreshModel({step:"group"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),stylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){const{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(o=>!!o);this.stages=n;for(let o=n.length-1;o>=0;--o){const i=n[o];for(const r of i.refreshProps)t.set(r,o)}this.addManagedPropertyListeners([...t.keys(),"rowData"],o=>{const i=o.changeSet?.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,o){let i,r=!1;do{i=!1;const s=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(s,n),d=Math.min(l,o);for(let p=u;p<=d;p++){const g=this.getRow(p);if(g.rowHeightEstimated){const m=Ji(this.beans,g);g.setRowHeight(m.height),i=!0,r=!0}}i&&this.setRowTopAndRowIndex()}while(i);return r}onPropChange(e){const{nodeManager:t,gos:n,beans:o}=this,i=o.groupStage;if(!t)return;const r=new Set(e),s=i?.onPropChange(r);let l;r.has("rowData")?l=n.get("rowData"):s&&(l=i?.extractData()),l&&!Array.isArray(l)&&(l=null,oe(1));const u={step:"nothing",changedProps:r};if(l){const p=!s&&!this.isEmpty()&&l.length>0&&n.exists("getRowId")&&!n.get("resetRowDataOnUpdate");this.refreshingData=!0,p?(u.keepRenderedRows=!0,u.animate=!n.get("suppressAnimationFrame"),u.changedRowNodes=new Xu,t.setImmutableRowData(u,l)):(u.rowDataUpdated=!0,u.newData=!0,t.setNewRowData(l),this.rowNodesCountReady=!0)}const d=u.rowDataUpdated?"group":this.getRefreshedStage(e);d&&(u.step=d,this.refreshModel(u))}getRefreshedStage(e){const{stages:t,stagesRefreshProps:n}=this;if(!t)return null;const o=t.length;let i=o;for(let r=0,s=e.length;r<s&&i;++r)i=Math.min(i,n.get(e[r])??i);return i<o?t[i].step:null}setRowTopAndRowIndex(e){const{beans:t,rowsToDisplay:n}=this,o=t.environment.getDefaultRowHeight();let i=0;const r=en(this.gos,"normal");for(let s=0,l=n.length;s<l;++s){const u=n[s],d=u.id;if(d!=null&&e?.add(d),u.rowHeight==null){const p=Ji(t,u,r,o);u.setRowHeight(p.height,p.estimated)}u.setRowTop(i),u.setRowIndex(s),i+=u.rowHeight}if(this.beans.formula?.active){const s=this.formulaRows;for(let l=0,u=s.length;l<u;++l){const d=s[l];d.formulaRowIndex=l}}}clearRowTopAndRowIndex(e,t){const n=e.active,o=s=>{s?.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{o(s),o(s.detailNode),o(s.sibling);const l=s.childrenAfterGroup;if(!s.hasChildren()||!l)return;const u=s.level==-1;if(!(n&&!u&&!s.expanded))for(let p=0,g=l.length;p<g;++p)i(l[p])},r=this.rootNode;r&&i(r)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){const{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;const o=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+o}getTopLevelRowDisplayedIndex(e){const{beans:t,rootNode:n,rowsToDisplay:o}=this;if(!n||!o.length||o[0]===n)return e;const r=n.childrenAfterSort,s=u=>{let d=r[u];if(this.gos.get("groupHideOpenParents"))for(;d.expanded&&d.childrenAfterSort&&d.childrenAfterSort.length>0;)d=d.childrenAfterSort[0];return d.rowIndex},l=t.footerSvc;return l?l?.getTopDisplayIndex(o,e,r,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);i.footer&&(i=i.sibling);let r=i.parent;for(;r&&r!==t;)i=r,r=i.parent;const s=t.childrenAfterSort?.indexOf(i)??-1;return s>=0?s:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:Qs(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){const o=t.length===0||t.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:o,keepRenderedRows:!0,animate:Qs(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:Qs(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Kl(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:o}=e;return!(!t||n||!o||t.removals.length||t.adds.size)}reMapRows(){if(this.refreshingModel||this.refreshingData){this.noKeepRenderedRows=!0,this.noKeepUndoRedoStack=!0,this.noAnimate=!0;return}this.refreshModel({step:"map",keepRenderedRows:!1,keepUndoRedoStack:!1,animate:!1})}refreshModel(e){const{nodeManager:t,eventSvc:n,started:o}=this;if(!t)return;const i=!!e.rowDataUpdated,r=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&i));if(o&&i&&n.dispatchEvent({type:"rowDataUpdated"}),this.deferRefresh(e)){this.setPendingRefreshFlags(e),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=i);return}this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.updateRefreshParams(e);let s=!1;this.refreshingModel=!0;try{this.executeRefresh(e,r,i),s=!0}finally{this.refreshingData=!1,this.refreshingModel=!1,s||this.setPendingRefreshFlags(e)}this.clearPendingRefreshFlags(),n.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}executeRefresh(e,t,n){const{beans:o}=this;switch(o.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&o.colFilter?.refreshModel(),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(t,e.changedRowNodes);case"map":this.doRowsToDisplay()}const i=new Set;this.setRowTopAndRowIndex(i),this.clearRowTopAndRowIndex(t,i),this.updateRefreshParams(e)}deferRefresh(e){return this.refreshingModel||this.beans.colModel.changeEventsDispatching?!0:this.isSuppressModelUpdateAfterUpdateTransaction(e)?(this.started&&(this.refreshingData=!1),!0):!this.started}setPendingRefreshFlags(e){this.pendingNewData||(this.pendingNewData=!!e.newData),this.noKeepRenderedRows||(this.noKeepRenderedRows=!e.keepRenderedRows),this.noKeepUndoRedoStack||(this.noKeepUndoRedoStack=!e.keepUndoRedoStack),this.noAnimate||(this.noAnimate=!e.animate)}clearPendingRefreshFlags(){this.pendingNewData=!1,this.noKeepRenderedRows=!1,this.noKeepUndoRedoStack=!1,this.noAnimate=!1}updateRefreshParams(e){e.newData=this.pendingNewData||!!e.newData,e.keepRenderedRows=!this.noKeepRenderedRows&&!!e.keepRenderedRows,e.keepUndoRedoStack=!this.noKeepUndoRedoStack&&!!e.keepUndoRedoStack,e.animate=!this.noAnimate&&!!e.animate}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getOverlayType(){const{beans:e,gos:t}=this;if(this.rootNode?._leafs?.length){if(e.filterManager?.isAnyFilterPresent()&&this.getRowCount()===0)return"noMatchingRows"}else if(this.rowCountReady||(t.get("rowData")?.length??0)==0)return"noRows";return null}getNodesInRangeForSelection(e,t){let n=!1,o=!1;const i=[],r=Ul(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(o)return;if(n&&(s===t||s===e)&&(o=!0,r&&s.group)){sF(i,s);return}if(!n){if(s!==t&&s!==e)return;n=!0,t===e&&(o=!0)}(!s.group||!r)&&i.push(s)}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}getFormulaRow(e){return this.formulaRows[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let o=0,i=n-1;if(e<=0)return 0;if(t[i].rowTop<=e)return i;let s=-1,l=-1;for(;;){const u=Math.floor((o+i)/2),d=t[u];if(this.isRowInPixel(d,e)||(d.rowTop<e?o=u+1:d.rowTop>e&&(i=u-1),s===o&&l===i))return u;s=o,l=i}}isRowInPixel(e,t){const n=e.rowTop,o=n+e.rowHeight;return n<=t&&o>t}forEachLeafNode(e){const t=this.rootNode?._leafs;if(t)for(let n=0,o=t.length;n<o;++n)e(t[n],n)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){const t=this.rowsToDisplay;for(let n=0,o=t.length;n<o;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t,n){const{colModel:o,rowGroupColsSvc:i}=this.beans;if(!o.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const r=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[r])}depthFirstSearchRowNodes(e,t=!1,n=r=>r.childrenAfterGroup,o=this.rootNode,i=0){let r=i;if(!o)return r;const s=o===this.rootNode;if(s||e(o,r++),o.hasChildren()&&!o.footer){const l=n(o);if(l){const u=this.beans.footerSvc;r=u?.addTotalRows(r,o,e,t,s,"top")??r;for(const d of l)r=this.depthFirstSearchRowNodes(e,t,n,d,r);return u?.addTotalRows(r,o,e,t,s,"bottom")??r}}return r}doAggregate(e){this.rootNode&&this.beans.aggStage?.execute(e)}doFilterAggregates(e){const t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute(e);return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const n=this.beans.sortStage;if(n){n.execute(e,t);return}e.forEachChangedNodeDepthFirst(o=>{o.childrenAfterSort=o.childrenAfterAggFilter.slice(0),rF(o)})}doGrouping(e){const t=this.rootNode;if(!t)return;const o=this.beans.groupStage?.execute(e);if(o===void 0){const i=t._leafs;t.childrenAfterGroup=i,t.updateHasChildren();const r=t.sibling;r&&(r.childrenAfterGroup=i)}(o||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){const t=this.beans.filterStage;if(t){t.execute(e);return}e.forEachChangedNodeDepthFirst(n=>{n.childrenAfterFilter=n.childrenAfterGroup,$f(n)},!0)}doPivot(e){this.beans.pivotStage?.execute(e)}getRowNode(e){const t=this.nodeManager?.getRowNode(e);return typeof t=="object"?t:this.beans.groupStage?.getNonLeaf(e)}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];const n=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),n)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){const e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){const{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:o}=this;if(!e)return;t.valueCache?.onDataChanged();const i=[],r=[],s=new Xu,l=!this.gos.get("suppressAnimationFrame");for(const{rowDataTransaction:u,callback:d}of o??[]){this.rowNodesCountReady=!0,this.refreshingData=!0;const p=e.updateRowData(u,s,l);i.push(p),d&&r.push(d.bind(null,p))}this.commitTransactions(s,l),r.length>0&&setTimeout(()=>{for(let u=0,d=r.length;u<d;u++)r[u]()},0),i.length>0&&n.dispatchEvent({type:"asyncTransactionsFlushed",results:i}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){const t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const n=new Xu,o=!this.gos.get("suppressAnimationFrame");this.refreshingData=!0;const i=t.updateRowData(e,n,o);return this.commitTransactions(n,o),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:t,changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{rootNode:e,beans:t}=this;if(t.formula?.active){const i=e?.childrenAfterSort??[];this.formulaRows=i,this.rowsToDisplay=i.filter(r=>!r.softFiltered);for(const r of this.rowsToDisplay)r.setUiLevel(0);return}const n=t.flattenStage;if(n){this.rowsToDisplay=n.execute();return}const o=this.rootNode.childrenAfterSort??[];for(const i of o)i.setUiLevel(0);this.rowsToDisplay=o}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);const n=e.sibling;n?.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n?.setRowHeight(n.rowHeight,!0);const o=t.sibling;o?.setRowHeight(o.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,this.stages=null,this.stagesRefreshProps.clear(),clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},sF=(e,t)=>{const n=t.childrenAfterGroup;if(n)for(let o=0,i=n.length;o<i;++o){const r=n[o];r.data&&e.push(r),r.group&&sF(e,r)}};function WH(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function zH(e,t){const n=Ri(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function _H(e){return Ri(e)?.isEmpty()??!0}function $H(e,t){Ri(e)?.forEachLeafNode(t)}function UH(e,t){Ri(e)?.forEachNodeAfterFilter(t)}function jH(e,t){Ri(e)?.forEachNodeAfterFilterAndSort(t)}function KH(e,t){return e.frameworkOverrides.wrapIncoming(()=>Ri(e)?.updateRowData(t))}function qH(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Ri(e)?.batchUpdateRowData(t,n))}function YH(e){e.frameworkOverrides.wrapIncoming(()=>Ri(e)?.flushAsyncTransactions())}function QH(e){return e.selectionSvc?.getBestCostNodeSelection()}var XH={moduleName:"ClientSideRowModel",version:ue,rowModels:["clientSide"],beans:[VH,HH],dependsOn:[Yx]},ZH={moduleName:"ClientSideRowModelApi",version:ue,apiFunctions:{onGroupExpandedOrCollapsed:WH,refreshClientSideRowModel:zH,isRowDataEmpty:_H,forEachLeafNode:$H,forEachNodeAfterFilter:UH,forEachNodeAfterFilterAndSort:jH,applyTransaction:KH,applyTransactionAsync:qH,flushAsyncTransactions:YH,getBestCostNodeSelection:QH,resetRowHeights:iF,onRowHeightChanged:oF},dependsOn:[xH,FH]},JH=":where(.ag-ltr) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,left .2s ease-in-out}}:where(.ag-rtl) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,right .2s ease-in-out}}";function eG(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function aF({colAutosize:e,visibleCols:t},n,o){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:o,source:"api"}):e?.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:"api"})}function tG(e,t){t&&typeof t=="object"?aF(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var nG=class extends ee{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){const{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let n=!1;const o=t.type;if(o==="fitGridWidth"||o==="fitProvidedWidth")n=!0;else if(o==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});const i=e.get("rowData");n=i!=null&&i.length>0&&Nt(e)}n&&this.beans.colDelayRenderSvc?.hideColumns(o)}}autoSizeCols(e){const{eventSvc:t,visibleCols:n,colModel:o}=this.beans;dl(this.beans,!0),this.innerAutoSizeCols(e).then(i=>{const r=p=>ca(t,Array.from(p),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return dl(this.beans,!1),r(i);const s=rb(this.beans),l=p=>n.leftCols.some(g=>Ml(g,p)),u=p=>n.rightCols.some(g=>Ml(g,p)),d=e.colKeys.filter(p=>!o.getCol(p)?.getColDef().suppressAutoSize&&!hi(p)&&!l(p)&&!u(p));this.sizeColumnsToFit(s,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(p=>({...p,key:p.colId})),colKeys:d,onlyScaleUp:!0,animate:!1}),dl(this.beans,!1),r(i)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));const{colKeys:o,skipHeader:i,skipHeaderGroups:r,stopAtGroup:s,defaultMaxWidth:l,defaultMinWidth:u,columnLimits:d=[],source:p="api"}=e,{animationFrameSvc:g,renderStatus:m,colModel:C,autoWidthCalc:w,visibleCols:y}=this.beans;if(g?.flushAllFrames(),this.timesDelayed<5&&m&&(!m.areHeaderCellsRendered()||!m.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;const R=new Set;let x=-1;const E=Object.fromEntries(d.map(({colId:T,...k})=>[T,k])),P=i??this.gos.get("skipHeaderOnAutoSize"),M=r??P;for(;x!==0;){x=0;const T=[];for(const k of o){if(!k||ET(k))continue;const I=C.getCol(k);if(!I||R.has(I)||I.getColDef().suppressAutoSize)continue;const z=w.getPreferredWidthForColumn(I,P);if(z>0){const _=E[I.colId]??{};_.minWidth??(_.minWidth=u),_.maxWidth??(_.maxWidth=l);const $=oG(I,z,_);I.setActualWidth($,p),R.add(I),x++}T.push(I)}T.length&&y.refresh(p)}M||this.autoSizeColumnGroupsByColumns(o,p,s),t(R)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:o,ctrlsSvc:i}=this.beans,r=new Set,s=o.getColsForKeys(e);for(const u of s){let d=u.getParent();for(;d&&d!=n;)d.isPadding()||r.add(d),d=d.getParent()}let l;for(const u of r){for(const d of i.getHeaderRowContainerCtrls())if(l=d.getHeaderCtrlForColumn(u),l)break;l?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),o=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",o);const i=new Er(e);return i.addEventListener("doubleTap",o),()=>{e.removeEventListener("dblclick",o),i.destroy()}}addColumnGroupResize(e,t,n){const o=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const r=[],s=t.getDisplayedLeafColumns();for(const l of s)l.getColDef().suppressAutoSize||r.push(l.getColId());r.length>0&&this.autoSizeCols({colKeys:r,skipHeader:o,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const n=rb(this.beans);if(n>0){this.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):oe(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,o){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,o));return}const{beans:i}=this,r=o?.animate??!0;r&&dl(i,!0);const s={};for(const{key:x,...E}of o?.columnLimits??[])s[typeof x=="string"?x:x.getColId()]=E;const l=i.visibleCols.allCols;if(e<=0||!l.length)return;const u=li(l);if(o?.onlyScaleUp&&u>e||e===u&&l.every(E=>{if(E.colDef.suppressSizeToFit)return!0;const P=s?.[E.getId()],M=P?.minWidth??o?.defaultMinWidth,T=P?.maxWidth??o?.defaultMaxWidth,k=E.getActualWidth();return(M==null||k>=M)&&(T==null||k<=T)}))return;const p=[],g=[];for(const x of l){const E=o?.colKeys?.some(P=>Ml(x,P))??!0;x.getColDef().suppressSizeToFit||!E?g.push(x):p.push(x)}const m=p.slice(0);let C=!1;const w=x=>{Uo(p,x),g.push(x)},y={};for(const x of p){o?.onlyScaleUp&&(y[x.getColId()]=x.getActualWidth()),x.resetActualWidth(t);const E=s?.[x.getId()],P=E?.minWidth??o?.defaultMinWidth??-1/0,M=E?.maxWidth??o?.defaultMaxWidth??1/0,T=x.getActualWidth(),k=Math.max(Math.min(T,M),P);k!=T&&x.setActualWidth(k,t,!0)}for(;!C;){C=!0;const x=e-li(g);if(x<=0)for(const E of p){const P=s?.[E.getId()]?.minWidth??o?.defaultMinWidth??E.minWidth;E.setActualWidth(P,t,!0)}else{const E=x/li(p);let P=x;for(let M=p.length-1;M>=0;M--){const T=p[M],k=T.getColId(),I=y[k],z=s?.[k],_=z?.minWidth??o?.defaultMinWidth??I,$=z?.maxWidth??o?.defaultMaxWidth,V=Math.max(_??-1/0,T.getMinWidth()),F=Math.min($??1/0,T.getMaxWidth());let B=Math.round(T.getActualWidth()*E);B<V?(B=V,w(T),C=!1):B>F?(B=F,w(T),C=!1):M===0&&(B=P),T.setActualWidth(B,t,!0),P-=B}}}for(const x of m)x.fireColumnWidthChangedEvent(t);const R=i.visibleCols;R.setLeftValues(t),R.updateBodyWidths(),!n&&(ca(this.eventSvc,m,!0,t),r&&dl(i,!1))}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get("autoSizeStrategy");n?.type!=="fitGridWidth"&&n?.type!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;const o=n.type;if(o==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:r,defaultMaxWidth:s}=n,l=i?.map(({colId:u,minWidth:d,maxWidth:p})=>({key:u,minWidth:d,maxWidth:p}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:s,columnLimits:l})}else o==="fitProvidedWidth"&&this.sizeColumnsToFit(n.width,"sizeColumnsToFit");t?.revealColumns(o)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;const n="autosizeColumns";e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(const e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function oG(e,t,n={}){const o=n.minWidth??e.getMinWidth();t<o&&(t=o);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}function rb({ctrlsSvc:e,scrollVisibleSvc:t}){const n=e.getGridBodyCtrl(),i=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return Wl(n.eGridBody)-i}var sb="ag-animate-autosize";function dl({ctrlsSvc:e,gos:t},n){if(!t.get("animateColumnResizing")||t.get("enableRtl")||!e.isAlive())return;const o=e.getGridBodyCtrl().eGridBody.classList;n?o.add(sb):o.remove(sb)}var iG={moduleName:"ColumnAutoSize",version:ue,beans:[nG],apiFunctions:{sizeColumnsToFit:eG,autoSizeColumns:aF,autoSizeAllColumns:tG},dependsOn:[xx],css:[JH]};function rG(e,t){return!!e.colHover?.isHovered(t)}var sG=class extends ee{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:o,gos:i,element:r,columns:s}=this,l=o.colHover;if(n??!!i.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(r,{mouseover:l.setMouseOver.bind(l,s),mouseout:l.clearMouseOver.bind(l)});else{for(const d of this.destroyManagedListeners)d();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},aG="ag-column-hover",lG=class extends ee{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const o=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:o}),o()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(aG,n)}addHeaderFilterColumnHoverListener(e,t,n,o){this.createHoverFeature(e,[n],o);const i=()=>{const r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new sG(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},cG={moduleName:"ColumnHover",version:ue,beans:[lG],apiFunctions:{isColumnHovered:rG}},uG=class extends ee{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:o,skipRowGroups:i,exportRowNumbers:r}=t,s=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:o,exportRowNumbers:r});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((l,u)=>u(l),e).parse()}processRow(e,t,n,o){const i=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!s,u=this.colModel.isPivotMode()?o.leafGroup:!o.group,d=!!o.footer,p=o.allChildrenCount===1&&o.childrenAfterGroup?.length===1&&aT(this.gos,o);if(!u&&!d&&(t.skipRowGroups||p||l)||t.onlySelected&&!o.isSelected()||t.skipPinnedTop&&o.rowPinned==="top"||t.skipPinnedBottom&&o.rowPinned==="bottom"||o.stub||o.level===-1&&!u&&!d||i(ke(this.gos,{node:o})))return;const C=e.onNewBodyRow(o);if(n.forEach((w,y)=>{C.onColumn(w,y,o)}),t.getCustomContentBelowRow){const w=t.getCustomContentBelowRow(ke(this.gos,{node:o}));w&&e.addCustomContent(w)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const o=new Fx,{colGroupSvc:i}=this.beans,r=i?i.createColumnGroups({columns:t,idCreator:o,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(r,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const o=n.onNewHeaderRow();t.forEach((i,r)=>{o.onColumn(i,r,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const o=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,r)=>i.rowIndex-r.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(o):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",o),n}}processRows(e,t){return n=>{const o=this.rowModel,i=Nt(this.gos),r=wa(this.gos),s=!i&&e.onlySelected,l=this.processRow.bind(this,n,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,p)=>d.rowIndex-p.rowIndex).map(d=>o.getRow(d.rowIndex)).forEach(l);else if(this.colModel.isPivotMode())i?o.forEachPivotNode(l,!0,u==="filteredAndSorted"):r?o.forEachNodeAfterFilterAndSort(l,!0):o.forEachNode(l);else if(e.onlySelectedAllPages||s){const d=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(d),d.forEach(l)}else u==="all"?o.forEachNode(l):i||r?o.forEachNodeAfterFilterAndSort(l,!0):o.forEachNode(l);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const o=t.getSortOptions(),i=(r,s)=>r.rowIndex!=null&&s.rowIndex!=null?r.rowIndex-s.rowIndex:r.level===s.level?r.parent?.id===s.parent?.id?n.compareRowNodes(o,r,s)||(r.rowIndex??-1)-(s.rowIndex??-1):i(r.parent,s.parent):r.level>s.level?i(r.parent,s):i(r,s.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{const o=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,r)=>i.rowIndex-r.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(o):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",o),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:o=!1,columnKeys:i}=e,{colModel:r,gos:s,visibleCols:l}=this,u=r.isPivotMode(),d=m=>rr(m)?!1:!hi(m)||o;if(i?.length)return r.getColsForKeys(i).filter(d);const p=s.get("treeData");let g=[];return t&&!u?g=r.getCols():g=l.allCols,g=g.filter(m=>d(m)&&(n&&!p?!Nm(m):!0)),g}recursivelyAddHeaderGroups(e,t,n){const o=[];for(const i of e){const r=i;if(r.getChildren)for(const s of r.getChildren()??[])o.push(s)}e.length>0&&Ot(e[0])&&this.doAddHeaderHeader(t,e,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,t,n)}doAddHeaderHeader(e,t,n){const o=e.onNewHeaderGroupingRow();let i=0;for(const r of t){const s=r;let l;n?l=n(ke(this.gos,{columnGroup:s})):l=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");const d=(s.isExpandable()?s.getLeafColumns():[]).reduce((p,g,m,C)=>{let w=pt(p);return g.getColumnGroupShow()==="open"?(!w||w[1]!=null)&&(w=[m],p.push(w)):w&&w[1]==null&&(w[1]=m-1),m===C.length-1&&w&&w[1]==null&&(w[1]=m),p},[]);o.onColumn(s,l||"",i++,s.getLeafColumns().length-1,d)}}},dG={moduleName:"SharedExport",version:ue,beans:[uG]},hG=class extends ee{getFileName(e){const t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){return this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}};function pG(e,t){const n=document.defaultView||window;if(!n){oe(52);return}const o=document.createElement("a"),i=n.URL.createObjectURL(t);o.setAttribute("href",i),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),o.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var gG=class{constructor(e){this.valueFrom="data";const{colModel:t,rowGroupColsSvc:n,colNames:o,valueSvc:i,gos:r,processCellCallback:s,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,valueFrom:p}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=o,this.valueSvc=i,this.gos=r,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d,p&&(this.valueFrom=p)}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e){const{column:t,node:n,currentColumnIndex:o,accumulatedRowIndex:i,type:r,useRawFormula:s}=e,l=o===0&&wR(this.gos,n,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||n.group)&&(t.isRowGroupDisplayed(n.rowGroupColumn?.getColId()??"")||l))return{value:this.processRowGroupCallback(ke(this.gos,{column:t,node:n}))??""};if(this.processCellCallback)return{value:this.processCellCallback(ke(this.gos,{accumulatedRowIndex:i,column:t,node:n,value:this.valueSvc.getValueForDisplay({column:t,node:n,from:this.valueFrom}).value,type:r,parseValue:w=>this.valueSvc.parseValue(t,n,w,this.valueSvc.getValue(t,n,this.valueFrom)),formatValue:w=>this.valueSvc.formatValue(t,n,w)??w}))??""};const u=this.gos.get("treeData"),d=this.valueSvc,p=n.level===-1&&n.footer,g=t.colDef.showRowGroup===!0&&(n.group||u);if(!p&&(l||g)){let w="",y=n;for(;y&&y.level!==-1;){const{value:R,valueFormatted:x}=d.getValueForDisplay({column:l?void 0:t,node:y,includeValueFormatted:!0,exporting:!0,from:this.valueFrom});w=` -> ${x??R??""}${w}`,y=y.parent}return{value:w,valueFormatted:w}}const{value:m,valueFormatted:C}=d.getValueForDisplay({column:t,node:n,includeValueFormatted:!0,exporting:!0,useRawFormula:s,from:this.valueFrom});return{value:m??"",valueFormatted:C}}getHeaderName(e,t){return e?e(ke(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}},ab=`\r
`,fG=class extends gG{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,ab),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,o)=>{o!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,o){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(o)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const o=this.extractRowCellValue({column:e,node:n,currentColumnIndex:t,accumulatedRowIndex:t,type:"csv",useRawFormula:!1});this.result+=this.putInQuotes(o.valueFormatted??o.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(oe(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=ab),this.isFirstLine=!1}},mG=class extends hG{constructor(){super(...arguments),this.beanName="csvCreator"}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){oe(51);return}const t=()=>{const o=this.getMergedParams(e),i=this.getData(o),r=new Blob(["\uFEFF",i],{type:"text/plain"}),s=o.fileName,l=typeof s=="function"?s(ke(this.gos,{})):s;pG(this.getFileName(l),r)},{overlays:n}=this.beans;n?n.showExportOverlay(t):t()}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:o,valueSvc:i,gos:r}=this.beans,{processCellCallback:s,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:p,columnSeparator:g,valueFrom:m}=e;return new fG({colModel:t,colNames:n,valueSvc:i,gos:r,processCellCallback:s||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:p||!1,columnSeparator:g||",",rowGroupColsSvc:o,valueFrom:m})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function CG(e,t){return e.csvCreator?.getDataAsCsv(t)}function vG(e,t){e.csvCreator?.exportDataAsCsv(t)}var wG={moduleName:"CsvExport",version:ue,beans:[mG],apiFunctions:{getDataAsCsv:CG,exportDataAsCsv:vG},dependsOn:[dG]},lF=class extends mn{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",o=this.ctrl.getGui();o&&(e!=null&&(e!=""||t)?o.setAttribute(n,e):o.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},yG=1e3,SG=1e3,lb=100,cb,Lu=!1,bG=class extends mn{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return this.tooltipCtrl[`getTooltip${e}DelayOverride`]?.()??this.getGridOptionsTooltipDelay(`tooltip${e}Delay`)}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Vr()&&(Lu?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},lb):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),o=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&o?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Lu)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?this.getTooltipDelay("SwitchShow"):this.getTooltipDelay("Show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-cb<yG}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!de(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=this.gos.addCommon({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;const o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,o)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),cb=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const o=t.getGui();this.tooltipComp=t,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),r=this.popupSvc?.addPopup({eChild:o,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const s=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:s}),this.setEventHandlers(s)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(o,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(_t(this.beans),{keydown:s=>{o.contains(s?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(o,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:o,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=St(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?SG:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(const e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Lu=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},lb)}unlockService(){Lu=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("Hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},RG=class extends lF{constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},xG=class extends Km{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,n=this.getGui();n.textContent=va(t);const o=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${o}-tooltip`)}},FG=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip),&:where(.ag-cell-formula-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Ou=0,PG=200,EG=class extends mn{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.addManagedEventListeners({stylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:o,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:o,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:o,keepWithinBounds:i,eventSource:r,alignSide:s="left",position:l="over",type:u}=e,d=r.getBoundingClientRect(),p=this.getParentRect();this.setAlignedTo(r,t);const g=()=>{let m=d.left-p.left;s==="right"&&(m-=t.offsetWidth-d.width);let C;return l==="over"?(C=d.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,p,e.nudgeY||0)==="under"?C=d.top-p.top+d.height:C=d.top-t.offsetHeight-(o||0)*2-p.top),{x:m,y:C}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:o,keepWithinBounds:i,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,u,t,r,null)})}positionPopupForMenu(e){const{eventSource:t,ePopup:n,event:o}=e,i=t.getBoundingClientRect(),r=this.getParentRect();this.setAlignedTo(t,n);let s=!1;const l=()=>{const u=this.keepXYWithinBounds(n,i.top-r.top,0),d=n.clientWidth>0?n.clientWidth:200;s||(n.style.minWidth=`${d}px`,s=!0);const g=r.right-r.left-d;let m;return this.gos.get("enableRtl")?(m=w(),m<0&&(m=C(),this.setAlignedStyles(n,"left")),m>g&&(m=0,this.setAlignedStyles(n,"right"))):(m=C(),m>g&&(m=w(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),{x:m,y:u};function C(){return i.right-r.left-2}function w(){return i.left-r.left-d}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:l,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,"subMenu",n,t,o instanceof MouseEvent?o:void 0)})}shouldRenderUnderOrAbove(e,t,n,o){const i=n.bottom-t.bottom,r=t.top-n.top,s=e.offsetHeight+o;return i>s?"under":r>s||r>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const o=this.popupList[n],{alignedToElement:i}=o;if(!i)return;const r=["right","left","over","above","under"];for(const s of r)i.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`);t&&(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const o=this.popupList[n];o.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:o,nudgeY:i,skipObserver:r,updatePosition:s}=e,l={width:0,height:0},u=(d=!1)=>{let{x:p,y:g}=s();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,o&&(p+=o),i&&(g+=i),n&&(p=this.keepXYWithinBounds(t,p,1),g=this.keepXYWithinBounds(t,g,0)),t.style.left=`${p}px`,t.style.top=`${g}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!r){const d=Si(this.beans,t,()=>u(!0));setTimeout(()=>d(),PG)}}getParentRect(){const e=_t(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Y0(t)}keepXYWithinBounds(e,t,n){const o=n===0,i=o?"clientHeight":"clientWidth",r=o?"top":"left",s=o?"height":"width",l=o?"scrollTop":"scrollLeft",u=_t(this.beans),d=u.documentElement,p=this.getPopupParent(),g=e.getBoundingClientRect(),m=p.getBoundingClientRect(),C=u.documentElement.getBoundingClientRect(),w=p===u.body,y=Math.ceil(g[s]);let x=w?(o?q0:ad)(d)+d[l]:p[i];w&&(x-=Math.abs(C[r]-m[r]));const E=x-y;return Math.min(Math.max(t,0),Math.max(E,0))}addPopup(e){const{eChild:t,ariaLabel:n,ariaOwns:o,alwaysOnTop:i,positionCallback:r,anchorToElement:s}=e,l=this.getPopupIndex(t);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(t);const u=this.createPopupWrapper(t,!!i,n,o),d=this.addEventListenersToPopup({...e,wrapperEl:u});return r&&r(),this.addPopupToPopupList(t,u,d,s),{hideFunc:d}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();de(e.style.top)||(e.style.top=`${n.top*-1}px`),de(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,o){const i=this.getPopupParent(),{environment:r,gos:s}=this.beans,l=jr({tag:"div"});return r.applyThemeClasses(l),l.classList.add("ag-popup"),e.classList.add(s.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ur(e,"dialog"),n?aa(e,n):o&&(e.id||(e.id=`popup-component-${Ou}`),Zy(o,e.id)),l.appendChild(e),i.appendChild(l),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),l}addEventListenersToPopup(e){const t=this.beans,n=_t(t),{wrapperEl:o,eChild:i,closedCallback:r,afterGuiAttached:s,closeOnEsc:l,modal:u,ariaOwns:d}=e;let p=!1;const g=y=>{if(!o.contains(St(t)))return;y.key===q.ESCAPE&&!this.isStopPropagation(y)&&w({keyboardEvent:y})},m=y=>w({mouseEvent:y}),C=y=>w({touchEvent:y}),w=(y={})=>{const{mouseEvent:R,touchEvent:x,keyboardEvent:E,forceHide:P}=y;!P&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:x},i)||p)||(p=!0,o.remove(),n.removeEventListener("keydown",g),n.removeEventListener("mousedown",m),n.removeEventListener("touchstart",C),n.removeEventListener("contextmenu",m),this.eventSvc.removeListener("dragStarted",m),r&&r(R||x||E),this.removePopupFromPopupList(i,d))};return s&&s({hidePopup:w}),window.setTimeout(()=>{l&&n.addEventListener("keydown",g),u&&(n.addEventListener("mousedown",m),this.eventSvc.addListener("dragStarted",m),n.addEventListener("touchstart",C),n.addEventListener("contextmenu",m))},0),w}addPopupToPopupList(e,t,n,o){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Ou,isAnchored:!!o}),o&&this.setPopupPositionRelatedToElement(e,o),Ou=Ou+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const o=this.popupList[n];if(o.stopAnchoringPromise&&o.stopAnchoringPromise.then(r=>r&&r()),o.stopAnchoringPromise=void 0,o.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:o.hideFunc});return o.stopAnchoringPromise=i,o.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&Zy(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:o,ePopup:i}=e,r=o.getBoundingClientRect(),s=g=>Number.parseInt(g.substring(0,g.length-1),10),l=(g,m)=>{const C=n[g]-r[g],w=s(i.style[g]);return{initialDiff:C,lastDiff:C,initial:w,last:w,direction:m}},u=l("top",0),d=l("left",1),p=this.beans.frameworkOverrides;return new $e(g=>{p.wrapIncoming(()=>{JT(()=>{const m=t.getBoundingClientRect(),C=o.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const y=(R,x)=>{const E=s(i.style[x]);R.last!==E&&(R.initial=E,R.last=E);const P=m[x]-C[x];if(P!=R.lastDiff){const M=this.keepXYWithinBounds(i,R.initial+R.initialDiff-P,R.direction);i.style[x]=`${M}px`,R.last=M}R.lastDiff=P};y(u,"top"),y(d,"left")},200).then(m=>{g(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:o}=e,i=n||o;if(!i)return!1;const r=this.getPopupIndex(t);if(r===-1)return!1;for(let s=r;s<this.popupList.length;s++){const l=this.popupList[s];if(P1(l.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=_t(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),o=n.length,i=this.getWrapper(e);if(!i||o<=1||!t.contains(e))return;const r=[],s=[];for(const m of n)m!==i&&(m.classList.contains("ag-always-on-top")?s.push(m):r.push(m));const l=[],u=s.length,g=i.classList.contains("ag-always-on-top")||!u?[...r,...s,i]:[...r,i,...s];for(let m=0;m<=o;m++){const C=g[m];if(n[m]===g[m]||C===i)continue;const w=C.querySelectorAll("div");for(const y of w)y.scrollTop!==0&&l.push([y,y.scrollTop]);m===0?t.prepend(C):g[m-1].after(C)}for(;l.length;){const m=l.pop();m[0].scrollTop=m[1]}}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}},DG=class extends EG{getDefaultPopupParent(){return this.beans.ctrlsSvc.get("gridCtrl").getGui()}callPostProcessPopup(e,t,n,o,i){const r=this.gos.getCallback("postProcessPopup");if(r){const{column:s,rowNode:l}=e??{};r({column:s,rowNode:l,ePopup:n,type:t,eventSource:o,mouseEvent:i})}}getActivePopups(){return this.popupList.map(e=>e.element)}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return gi(e)}},th={moduleName:"Popup",version:ue,beans:[DG]};function Uf(e){return e.get("tooltipShowMode")==="whenTruncated"}var TG=(e,t)=>{const n=e;return typeof n.getTranslatedMessage=="function"?n.getTranslatedMessage(t):e.message},jf=(e,t,n)=>{const{editModelSvc:o}=e,i=o?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,r=o?.getRowValidationModel().getRowValidation(t)?.errorMessages,s=i||r;return s?.length?s.join(n("tooltipValidationErrorSeparator",". ")):void 0},MG=(e,t)=>{if(Uf(e.gos)){if(t.isCellRenderer()){const o=t.column.getColDef();return!!o.showRowGroup||o.cellRenderer==="agGroupCellRenderer"?zl(()=>{const r=t.eGui;return r.querySelector(".ag-group-value")||r.querySelector(".ag-cell-value")||r}):void 0}return zl(()=>{const o=t.eGui;return o.children.length===0?o:o.querySelector(".ag-cell-value")})}},kG=(e,t,n)=>{const{editSvc:o}=e,{column:i}=t,r=MG(e,t),s=()=>o?.isEditing(t)?!1:r?i.isTooltipEnabled()?r():!1:!0;return{shouldDisplayDefault:s,shouldDisplayColumnTooltip:s,shouldDisplayCustomTooltip:n??s}},IG=({beans:e,ctrl:t,value:n,displayFunctions:o,translate:i})=>{const{editSvc:r,formula:s,gos:l}=e,{column:u,rowNode:d}=t;if(s?.active&&u.isAllowFormula()){const R=s.getFormulaError(u,d);if(R)return{value:TG(R,i),location:"cellFormula",shouldDisplay:()=>!!s?.getFormulaError(u,d)}}if(!!!r?.isEditing(t)){const R=jf(e,t,i);if(R)return{value:R,location:"cellEditor",shouldDisplay:()=>!r?.isEditing(t)&&!!jf(e,t,i)}}const{shouldDisplayCustomTooltip:g,shouldDisplayColumnTooltip:m}=o;if(n!=null)return{value:n,location:"cell",shouldDisplay:g};const C=u.getColDef(),w=d.data;if(C.tooltipField&&de(w))return{value:Il(w,C.tooltipField,u.isTooltipFieldContainsDots()),location:"cell",shouldDisplay:m};const y=C.tooltipValueGetter;return y?{value:y(ke(l,{location:"cell",colDef:u.getColDef(),column:u,rowIndex:t.cellPosition.rowIndex,node:d,data:d.data,value:t.value,valueFormatted:t.valueFormatted})),location:"cell",shouldDisplay:m}:null},AG=class extends ee{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,o){e&&t.destroyBean(e);const i=this.gos,r=Uf(i),{column:s,eGui:l}=t,u=s.getColDef();!o&&r&&!u.headerComponent&&(o=zl(()=>l.querySelector(".ag-header-cell-text")));const d="header",g=this.beans.colNames.getDisplayNameForColumn(s,"header",!0),m=n??g,C={getGui:()=>l,getLocation:()=>d,getTooltipValue:()=>n??u?.headerTooltipValueGetter?.(ke(i,{location:d,colDef:u,column:s,value:m,valueFormatted:g}))??u?.headerTooltip,shouldDisplayTooltip:o,getAdditionalParams:()=>({column:s,colDef:s.getColDef()})};let w=this.createTooltipFeature(C);return w&&(w=t.createBean(w),t.setRefreshFunction("tooltip",()=>w.refreshTooltip())),w}setupHeaderGroupTooltip(e,t,n,o){e&&t.destroyBean(e);const i=this.gos,r=Uf(i),{column:s,eGui:l}=t,u=s.getColGroupDef();!o&&r&&!u?.headerGroupComponent&&(o=zl(()=>l.querySelector(".ag-header-group-text")));const d="headerGroup",g=this.beans.colNames.getDisplayNameForColumnGroup(s,"header"),m=n??g,C={getGui:()=>l,getLocation:()=>d,getTooltipValue:()=>n??u?.headerTooltipValueGetter?.(ke(i,{location:d,colDef:u,column:s,value:m,valueFormatted:g}))??u?.headerTooltip,shouldDisplayTooltip:o,getAdditionalParams:()=>{const y={column:s};return u&&(y.colDef=u),y}},w=this.createTooltipFeature(C);return w&&t.createBean(w)}enableCellTooltipFeature(e,t,n){const{beans:o}=this,{column:i,rowNode:r}=e,s=kG(o,e,n),l=this.getLocaleTextFunc();let u=null;const d=()=>(u=IG({beans:o,ctrl:e,value:t,displayFunctions:s,translate:l}),u),g={getGui:()=>e.eGui,getLocation:()=>u?.location??"cell",getTooltipValue:()=>d()?.value,shouldDisplayTooltip:()=>{const m=u??d();return m?m.shouldDisplay?m.shouldDisplay():!0:!1},getAdditionalParams:()=>({column:i,colDef:i.getColDef(),rowIndex:e.cellPosition.rowIndex,node:r,data:r.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(g,o)}setupFullWidthRowTooltip(e,t,n,o){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:o},r=this.beans,s=r.context;e&&t.destroyBean(e,s);const l=this.createTooltipFeature(i,r);if(l)return t.createBean(l,s)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:o}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const r={getGui:()=>i,getTooltipValue:()=>jf(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:l}=n,u=l?.getRowValidationModel()?.getRowValidationMap(),d=l?.getCellValidationModel()?.getCellValidationMap(),p=!!u&&u.size>0,g=!!d&&d.size>0;return p||g}},s=this.createTooltipFeature(r,n);if(s)return e.createBean(s,o)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=de(t.tooltipField)||de(t.tooltipValueGetter)||de(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},LG=class extends bG{createTooltipComp(e,t){LM(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},cF={moduleName:"Tooltip",version:ue,beans:[AG],dynamicBeans:{tooltipFeature:lF,highlightTooltipFeature:RG,tooltipStateManager:LG},userComponents:{agTooltipComponent:xG},dependsOn:[th],css:[FG]},Vs=class{constructor(e){this.cellValueChanges=e}},Xg=class extends Vs{constructor(e,t,n,o){super(e),this.initialRange=t,this.finalRange=n,this.ranges=o}},OG=10,ub=class{constructor(e){this.actionStack=[],this.maxStackSize=e||OG,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},NG=class extends ee{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&Wm(this.activeCellEdit,t),o=this.activeRowEdit!==null&&tk(this.activeRowEdit,t);if(!(n||o||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:s,column:l,oldValue:u,value:d}=e,p={rowPinned:r,rowIndex:s,columnId:l.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(p)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new ub(n),this.redoStack=new ub(n),this.addListeners();const o=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:o,newColumnsLoaded:o,columnGroupOpened:o,columnRowGroupChanged:o,columnMoved:o,columnPinned:o,columnVisible:o,rowDragEnd:o}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:o}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,o,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:o}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(o,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,o,i){if(!e)return!1;const r=e.pop();return r?.cellValueChanges?(this.processAction(r,s=>s[o],i),r instanceof Xg?this.processRange(r.ranges||[r[n]]):this.processCell(r.cellValueChanges),t.push(r),!0):!1}processAction(e,t,n){for(const o of e.cellValueChanges){const{rowIndex:i,rowPinned:r,columnId:s}=o,l={rowIndex:i,rowPinned:r},u=mi(this.beans,l);u.displayed&&u.setDataValue(s,t(o),n)}}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((o,i)=>{if(!o)return;const r=o.startRow,s=o.endRow;i===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:o.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:o.startColumn,columns:o.columns};n.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:o}=t,i={rowIndex:n,rowPinned:o},r=mi(this.beans,i),s={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:o}=e,{colModel:i,focusSvc:r,rangeSvc:s}=this.beans,l=i.getCol(n);if(!l)return;const{scrollFeature:u}=this.gridBodyCtrl;u.ensureIndexVisible(t),u.ensureColumnVisible(l);const d={rowIndex:t,column:l,rowPinned:o};r.setFocusedCell({...d,forceBrowserFocus:!0}),s?.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Vs(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Vs(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Vs(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Xg(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&er(n)?e=new Xg(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Vs(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;const n=new Vs(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},BG=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) .ag-text-area-input{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",HG={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},GG=class extends Xd{constructor(){super(HG,[Ym]),this.eEditor=Ce}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=Ud(t,e),o=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${o} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},Ci=class extends Ir{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=de(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}setCustomValidity(e){const t=this.eInput,n=e.length>0;t.setCustomValidity(e),n&&t.reportValidity(),xm(t,n)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{lx(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{n.clipboardData?.getData("text")?.split("").some(i=>!e.test(i))&&n.preventDefault()}})}},nh={selector:"AG-INPUT-TEXT-FIELD",component:Ci},VG=class extends Ci{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=sr();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){St(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?gn(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Pn(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?gn(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Pn(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Pn(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return fn(this.getValue())??void 0}setDate(e,t){this.setValue(gn(e??null,this.includeTime),t)}},uF={selector:"AG-INPUT-DATE-FIELD",component:VG},oh=class extends Xd{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Ce}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:o,eventKey:i,suppressPreventDefault:r}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let s,l=!0;o?(this.focusAfterAttached=!0,i===q.BACKSPACE||i===q.DELETE?s="":i&&i.length===1?r?l=!1:s=i:(s=t.getStartValue(),i!==q.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=t.getStartValue()),l&&s!=null&&n.setStartValue(s),this.addGuiEventListener("keydown",u=>{const{key:d}=u;(d===q.PAGE_UP||d===q.PAGE_DOWN)&&u.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;sr()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},WG={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},zG=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return WG}getAgComponents(){return[uF]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:o,step:i,colDef:r}=t;n!=null&&e.setMin(n),o!=null&&e.setMax(o),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(r.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:o,max:i,getValidationErrors:r}=n;let s=[];const l=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(o){const u=o instanceof Date?o:new Date(o);if(t<u){const d=u.toLocaleDateString();s.push(l("minDateValidation",`Date must be after ${d}`,[d]))}}if(i){const u=i instanceof Date?i:new Date(i);if(t>u){const d=u.toLocaleDateString();s.push(l("maxDateValidation",`Date must be before ${d}`,[d]))}}}return s.length||(s=null),r?r({value:t,cellEditorParams:n,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!de(n)&&!de(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return gn(e,this.includeTime??!1)}},_G=class extends oh{constructor(){super(new zG(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},$G={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},UG=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return $G}getAgComponents(){return[uF]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:o,step:i,colDef:r}=t;n!=null&&e.setMin(n),o!=null&&e.setMax(o),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(r.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,o=this.formatDate(this.parseDate(n??void 0)),{min:i,max:r,getValidationErrors:s}=t;let l=[];if(o){const u=new Date(o),d=this.getLocaleTextFunc();if(i){const p=new Date(i);if(u<p){const g=p.toLocaleDateString();l.push(d("minDateValidation",`Date must be after ${g}`,[g]))}}if(r){const p=new Date(r);if(u>p){const g=p.toLocaleDateString();l.push(d("maxDateValidation",`Date must be before ${g}`,[g]))}}}return l.length||(l=null),s?s({value:this.getValue(),cellEditorParams:t,internalErrors:l}):l}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!de(n)&&!de(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return gn(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):fn(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):gn(e??null,this.includeTime??!1)??void 0}},jG=class extends oh{constructor(){super(new UG(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},KG=class extends Ir{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},qG={selector:"AG-INPUT-TEXT-AREA",component:KG},YG={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},QG=class extends Xd{constructor(){super(YG,[qG]),this.eEditor=Ce}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:o,maxLength:i,cols:r,rows:s}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(i||200).setCols(r||60).setRows(s||10);let l;n?(this.focusAfterAttached=!0,o===q.BACKSPACE||o===q.DELETE?l="":o&&o.length===1?l=o:(l=this.getStartValue(e),o!==q.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=this.getStartValue(e)),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===q.LEFT||t===q.UP||t===q.RIGHT||t===q.DOWN||e.shiftKey&&t===q.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,o=this.getLocaleTextFunc();e.setInputAriaLabel(o("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,o=e.getValue();return!de(o)&&!de(n)?n:t.parseValue(o)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,o=this.getLocaleTextFunc(),i=this.getValue();let r=[];return typeof i=="string"&&t!=null&&i.length>t&&r.push(o("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),r.length||(r=null),n?n({value:i,internalErrors:r,cellEditorParams:e}):r}},cC=class extends Ci{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const r=Number.parseFloat(e.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:o,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof o=="number"&&this.setMax(o),typeof i=="number"&&this.setStep(i)}onWheel(e){St(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=Number.parseFloat(e).toFixed(n);return Number.parseFloat(i).toString()}const o=String(e).split(".");if(o.length>1){if(o[1].length<=n)return e;if(n>0)return`${o[0]}.${o[1].slice(0,n)}`}return o[0]}setMin(e){return this.min===e?this:(this.min=e,Pn(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Pn(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Pn(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(de(n)){let o=this.isScientificNotation(n);if(o&&this.eInput.validity.valid)return e(n);if(!o){n=this.adjustPrecision(n);const i=this.normalizeValue(n);o=n!=i}if(o)return t(n)}return e(n)}getValue(e=!1){const t=this.eInput;if(!t.validity.valid&&!e)return;const n=t.value;return this.isScientificNotation(n)?this.adjustPrecision(n,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},XG={selector:"AG-INPUT-NUMBER-FIELD",component:cC},ZG={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},JG=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return ZG}getAgComponents(){return[XG]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:o,precision:i,step:r}=t;n!=null&&e.setMax(n),o!=null&&e.setMin(o),i!=null&&e.setPrecision(i),r!=null&&e.setStep(r);const s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:o}=e,r=this.eEditor.getInputElement().valueAsNumber,s=this.getLocaleTextFunc();let l=[];return typeof r=="number"&&(t!=null&&r<t&&l.push(s("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&r>n&&l.push(s("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),l.length||(l=null),o?o({value:r,cellEditorParams:e,internalErrors:l}):l}preventStepping(e){(e.key===q.UP||e.key===q.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!de(n)&&!de(t.value))return t.value;let o=t.parseValue(n);if(o==null)return o;if(typeof o=="string"){if(o==="")return null;o=Number(o)}return isNaN(o)?null:o}getStartValue(){return this.params.value}setCaret(){sr()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},eV=class extends oh{constructor(){super(new JG(()=>this.getLocaleTextFunc()))}},tV=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",nV="ag-active-item",oV=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",cls:`ag-list-item-text ag-${e}-list-item-text`,ref:"eText",children:t}]}),iV=class extends ya{constructor(e,t,n){super(oV(e,t)),this.label=t,this.value=n,this.eText=Ce}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(nV,e),j0(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const n=this.getGui();d1(n,e),u1(n,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>Q0(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},rV=class extends ya{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(tV)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case q.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const n=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(n)}break;case q.DOWN:case q.UP:e.preventDefault(),this.navigate(t);break;case q.PAGE_DOWN:case q.PAGE_UP:case q.PAGE_HOME:case q.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){const{value:t,text:n}=e,o=n??t;return this.options.push({value:t,text:o}),this.renderOption(t,o),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(const e of this.listItems)e.destroy();Tn(this.getGui()),this.listItems=[],this.refreshAriaRole()}updateOptions(e){const t=this.options!==e;return t&&(this.clearOptions(),this.addOptions(e)),t}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(o=>o.value===e);if(n!==-1){const o=this.options[n];this.value=o.value,this.displayValue=o.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!vo(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const n=this.getGui(),{scrollTop:o,clientHeight:i}=n,{offsetTop:r,offsetHeight:s}=t;(r+s>o+i||r<o)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const n=new iV(this.cssIdentifier,t,e);n.setParentComponent(this);const o=this.createManagedBean(n);this.listItems.push(o),this.getGui().appendChild(o.getGui())}navigate(e){const t=e===q.DOWN;let n;const{listItems:o,highlightedItem:i}=this;if(!i)n=t?o[0]:pt(o);else{let s=o.indexOf(i)+(t?1:-1);s=Math.min(Math.max(s,0),o.length-1),n=o[s]}this.highlightItem(n)}navigateToPage(e){const{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;const o=t.indexOf(n),i=this.options.length-1,r=t[0].getHeight(),s=Math.floor(this.getGui().clientHeight/r);let l=-1;e===q.PAGE_HOME?l=0:e===q.PAGE_END?l=i:e===q.PAGE_DOWN?l=Math.min(o+s,i):e===q.PAGE_UP&&(l=Math.max(o-s,0)),l!==-1&&this.highlightItem(t[l])}refreshAriaRole(){Ur(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((n,o)=>{n.setIndex(o+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},sV=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}}.ag-picker-field-wrapper:where(.ag-picker-has-focus),.ag-picker-field-wrapper:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}.ag-picker-field-wrapper:disabled{opacity:.5}",aV={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},lV=class extends ox{constructor(e){if(super(e,e?.template||aV,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ce,this.eWrapper=Ce,this.eDisplayField=Ce,this.eIcon=Ce,this.registerCSS(sV),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:o,minPickerWidth:i,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!o,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),r!=null&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:o}=this.config;if(n){const i=this.beans.iconSvc.createIconNoSpan(n);i&&this.eIcon.appendChild(i)}o!=null&&this.setInputWidth(o)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),wf(e,!1),this.ariaRole&&Ur(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case q.UP:case q.DOWN:case q.ENTER:case q.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case q.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:o,modalPicker:i=!0},maxPickerHeight:r,minPickerWidth:s,maxPickerWidth:l,variableWidth:u,beans:d,eWrapper:p}=this,g={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const y=Sm(d);this.beforeHidePicker(),y&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,o),anchorToElement:p};e.style.position="absolute";const m=d.popupSvc,C=m.addPopup(g);u?(s&&(e.style.minWidth=s),e.style.width=Dm(ad(p)),l&&(e.style.maxWidth=l)):ud(e,l??ad(p));const w=r??`${Fm(m.getPopupParent())}px`;return e.style.setProperty("max-height",w),this.alignPickerToComponent(),C.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:o},eWrapper:i,pickerComponent:r}=this,s=o.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:r.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();wf(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return ud(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},cV=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}.ag-select:where(:not(.ag-cell-editor,.ag-label-align-top)){min-height:var(--ag-list-item-height)}:where(.ag-select){.ag-picker-field-wrapper{cursor:default;padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}:where(.ag-ltr) .ag-select-list-item{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-select-list-item{padding-right:var(--ag-spacing)}.ag-select-list-item-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",uC=class extends lV{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(cV)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:zl(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new rV("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),w1(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:o=>{o?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){const{key:t}=e;switch(t===q.TAB&&this.hidePicker(),t){case q.ENTER:case q.UP:case q.DOWN:case q.PAGE_UP:case q.PAGE_DOWN:case q.PAGE_HOME:case q.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case q.ESCAPE:super.onKeyDown(e);break;case q.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}updateOptions(e){return this.listComponent?.updateOptions(e)&&this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:o,config:{placeholder:i},eDisplayField:r,tooltipFeature:s}=this;if(this.value===e||!o)return this;if(n||o.setValue(e,!0),o.getValue()===this.getValue())return this;let u=o.getDisplayValue();return u==null&&i&&(u=i),r.textContent=u,s?.setTooltipAndRefresh(u??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},uV={selector:"AG-SELECT",component:uC},dV={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},hV=class extends Xd{constructor(){super(dV,[uV]),this.eEditor=Ce,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:o}=this,{values:i,value:r,eventKey:s}=e;if(Pt(i)){oe(58);return}this.startedByEnter=s!=null?s===q.ENTER:!1;let l=!1;i.forEach(g=>{const m={value:g},C=n.formatValue(e.column,null,g),w=C!=null;m.text=w?C:g,t.addOption(m),l=l||r===g}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:p}=e;u!=null&&t.setPickerGap(u),p!=null&&t.setPickerMaxHeight(p),d!=null&&t.setPickerMaxWidth(d),o.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,o=this.getValue();let i=[];if(t&&!t.includes(o)){const r=this.getLocaleTextFunc();i.push(r("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:o,internalErrors:i,cellEditorParams:e}):i}},pV={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},gV=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return pV}getAgComponents(){return[nh]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,o=this.getValue(),i=this.getLocaleTextFunc();let r=[];return t!=null&&typeof o=="string"&&o.length>t&&r.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),r.length||(r=null),n?n({value:o,cellEditorParams:e,internalErrors:r}):r}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!de(n)&&!de(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){sr()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),n=de(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},db=class extends oh{constructor(){super(new gV(()=>this.getLocaleTextFunc()))}};function fV(e){e.undoRedo?.undo("api")}function mV(e){e.undoRedo?.redo("api")}function CV(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function vV(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((o,i)=>{const{rowIndex:r,rowPinned:s}=i;o.forEach((l,u)=>{const{editorValue:d,pendingValue:p,sourceValue:g,state:m}=l,C=mo(l);let w=d??p;w===Yt&&(w=void 0);const y={newValue:w,oldValue:g,state:m,column:u,colId:u.getColId(),colKey:u.getColId(),rowIndex:r,rowPinned:s},R=m==="editing";(R||!R&&C)&&n.push(y)})}),n}function wV(e,t=!1){const{editSvc:n}=e;if(n?.isBatchEditing()){if(t)for(const o of e.editModelSvc?.getEditPositions()??[])o.state==="editing"&&n.revertSingleCellEdit(o);else Yi(e,{persist:!0});Ar(e,void 0,{cancel:t})}else n?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function yV(e,t){const n=ct(e,t);return!!e.editSvc?.isEditing(n)}function SV(e,t){const{key:n,colKey:o,rowIndex:i,rowPinned:r}=t,{editSvc:s,colModel:l}=e,u=l.getCol(o);if(!u){oe(12,{colKey:o});return}const p=mi(e,{rowIndex:i,rowPinned:r||null});if(!p){oe(290,{rowIndex:i,rowPinned:r});return}if(!s?.isCellEditable({rowNode:p,column:u},"api"))return;r==null&&nF(e,i),tF(e,o),s?.startEditing({rowNode:p,column:u},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api",editable:!0})}function bV(e){return e.editSvc?.validateEdit()||null}function RV(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function xV(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var FV={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},PV=class extends Km{constructor(e){super(FV),this.params=e}postConstruct(){qr(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=o=>{Lf(this.gos,o,t.node,t.column,!0)||t.onKeyDown(o)};this.addManagedElementListeners(e,{keydown:n})}};function EV(e,{column:t},n,o,i="ui"){if(n instanceof KeyboardEvent&&(n.key===q.TAB||n.key===q.ENTER||n.key===q.F2||n.key===q.BACKSPACE&&o))return!0;if(n?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;const s=t?.getColDef(),l=DV(e.gos,s),u=n?.type;return u==="click"&&n?.detail===1&&l===1||u==="dblclick"&&n?.detail===2&&l===2?!0:i==="api"?!!o:!1}function DV(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function Zg(e,t){return e.editModelSvc?.hasEdits(t,{withOpenEditor:!0})??!1}function Kf(e,t){const n=t.column,o=t.rowNode,i=n.getColDef();if(!o)return Zg(e,t);const r=i.editable;if(o.group){const s=i.groupRowEditable;if(s!=null)return n.isColumnFunc(o,s)?!0:Zg(e,t)}return n.isColumnFunc(o,r)?!0:Zg(e,t)}function TV(e,t,n="ui"){const o=Kf(e,t);if(o||n==="ui")return o;const{rowNode:i,column:r}=t;for(const s of e.colModel.getCols())if(s!==r&&Kf(e,{rowNode:i,column:s}))return!0;return!1}var kd=(e,t=!1)=>{if(e!==void 0)return mo(e)||t&&e.state==="editing"};function dF(e,t,n=!1){return kd(e.editModelSvc?.getEdit(t),n)}var hF=(e,t,n)=>{if(e)for(let o=0,i=e.length;o<i;++o){const r=e[o];if(r.data&&(kd(t?.getEdit({rowNode:r,column:n}))||kd(t?.getEdit({rowNode:r.pinnedSibling,column:n})))||hF(r.childrenAfterGroup,t,n))return!0}};function pF(e,t){const{column:n,rowNode:o}=t;return e.gos.get("groupTotalRow")&&!o?.footer?!1:hF(o?.childrenAfterGroup,e.editModelSvc,n)}function gF(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return kd(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var MV=class extends ee{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=dF(n,e)||pF(n,e)||gF(n,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const o=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",o)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},kV=class extends ee{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let o=e.rowNode,i=t?.getEditRow(o);const r=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:o});if(!i&&o.pinnedSibling&&(o=o.pinnedSibling,i=t?.getEditRow(o)),i){const s=Array.from(i.keys()).some(l=>{const u={rowNode:o,column:l};return dF(n,u,!0)||pF(n,u)||gF(n,u)});this.applyStyle(r,s);return}this.applyStyle(r)}applyStyle(e=!1,t=!1){const n=!!this.editSvc?.isBatchEditing(),o=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",o&&t),i.toggleCss("ag-row-batch-edit",o&&t&&n),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",o&&t&&e)})}},IV=({rowModel:e,pinnedRowModel:t,editModelSvc:n},o)=>{const i=new Set;e.forEachNode(r=>o.has(r)&&i.add(r)),t?.forEachPinnedRow("top",r=>o.has(r)&&i.add(r)),t?.forEachPinnedRow("bottom",r=>o.has(r)&&i.add(r));for(const r of o)i.has(r)||n.removeEdits({rowNode:r});return i},AV=({editModelSvc:e},t,n)=>{for(const o of t)e?.getEditRow(o)?.forEach((i,r)=>!n.has(r)&&e.removeEdits({rowNode:o,column:r}))},LV=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),o=new Set(n.keys());AV(e,IV(e,o),t)},OV=new Set(["undo","redo","paste","bulk","rangeSvc"]),NV=new Set(["ui","api"]),fF={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},BV=new Set(Object.keys(fF)),HV=new Set(["paste","rangeSvc","cellClear","redo","undo"]),Jg={cancel:!0,source:"api"},GV={cancel:!1,source:"api"},Rr={checkSiblings:!0},ks={force:!0,suppressFlash:!0},VV=class extends ee{constructor(){super(...arguments),this.beanName="editSvc",this.committing=!1,this.batch=!1,this.batchStartDispatched=!1,this.stopping=!1,this.rangeSelectionWhileEditing=0}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:o})=>{this.stopEditing(void 0,Jg),this.createStrategy(o)});const t=LV(e),n=()=>{const o=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return o||i?this.stopEditing(void 0,Jg):this.isEditing()&&(this.batch?Ar(e,this.model.getEditPositions()):this.stopEditing(void 0,GV)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}startBatchEditing(){this.batch||(this.batch=!0,this.batchStartDispatched=!1,this.stopEditing(void 0,Jg))}stopBatchEditing(e){this.batch&&(e&&this.stopEditing(void 0,e),this.batchStartDispatched&&this.dispatchBatchStopped(new Map,!1),this.batch=!1,this.batchStartDispatched=!1)}ensureBatchStarted(){!this.batch||this.batchStartDispatched||(this.batchStartDispatched=!0,this.dispatchBatchEvent("batchEditingStarted",new Map))}createStrategy(e){const{beans:t,gos:n,strategy:o}=this,i=hb(n,e);if(o){if(o.beanName===i)return o;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,o="ui"){const i=EV(this.beans,e,t,n,o);return i&&(this.strategy??(this.strategy=this.createStrategy())),i}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return LN(this.beans)}isEditing(e,t){return this.model.hasEdits(e??void 0,t??Rr)}isRowEditing(e,t){return!!e&&this.model.hasRowEdits(e,t)}enableRangeSelectionWhileEditing(){this.beans.rangeSvc&&this.gos.get("cellSelection")&&this.rangeSelectionWhileEditing++}disableRangeSelectionWhileEditing(){this.rangeSelectionWhileEditing=Math.max(0,this.rangeSelectionWhileEditing-1)}isRangeSelectionEnabledWhileEditing(){return this.rangeSelectionWhileEditing>0}startEditing(e,t){const{startedEdit:n=!0,event:o=null,source:i="ui",ignoreEventKey:r=!1,silent:s}=t;if(this.strategy??(this.strategy=this.createStrategy()),!(t.editable??this.isCellEditable(e,"api")))return;const u=ct(this.beans,e);if(u&&!u.comp){t.editable=void 0,u.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const d=this.shouldStartEditing(e,o,n,i);if(d===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&!t.continueEditing&&this.stopEditing(void 0,{source:i}),d&&this.ensureBatchStarted(),this.strategy.start({position:e,event:o,source:i,ignoreEventKey:r,startedEdit:n,silent:s})}stopEditing(e,t){const n=this.prepareStopContext(e,t);if(!n)return!1;this.stopping=!0;let o=!1,{edits:i}=n;try{const r=this.processStopRequest(n);return o||(o=r.res),i=r.edits,this.finishStopEditing({...n,edits:i,params:t,position:e,res:o}),o}finally{this.rangeSelectionWhileEditing=0,this.stopping=!1}}prepareStopContext(e,t){const{event:n=null,cancel:o=!1,source:i="ui",forceCancel:r=!1,forceStop:s=!1,commit:l=!1}=t||{};if(BV.has(i)&&this.batch)return this.bulkRefresh(e),null;const u=this.committing?fF[i]:i;if(!(this.committing||this.isEditing(e)||this.batch&&this.model.hasEdits(e,Rr))||!this.strategy||this.stopping)return null;const p=ct(this.beans,e);p&&(p.onEditorAttachedFuncs=[]);const g=!o&&(!!this.shouldStopEditing(e,n,u)||(this.committing||i==="paste")&&!this.batch)||s,m=o&&!!this.shouldCancelEditing(e,n,u)||r;return{cancel:o,cellCtrl:p,edits:this.model.getEditMap(!0),event:n??null,forceCancel:r,forceStop:s,commit:l,position:e,source:i,treatAsSource:u,willCancel:m,willStop:g}}processStopRequest(e){const{event:t,position:n,willCancel:o,willStop:i}=e;return i||o?this.handleStopOrCancel(e):this.shouldHandleMidBatchKey(t,n)?{res:!1,edits:this.handleMidBatchKey(t,n,e)}:(Yi(this.beans,{persist:!0}),this.batch&&this.strategy?.cleanupEditors(n),{res:!1,edits:this.model.getEditMap()})}handleStopOrCancel(e){const{beans:t,model:n}=this,{cancel:o,commit:i,edits:r,event:s,source:l,willCancel:u,willStop:d}=e,p=!this.batch||!u;Yi(t,{persist:p,isCancelling:u||o,isStopping:d});const g=n.getEditMap(),C=!u&&(!this.batch||i)?this.processEdits(g,l):[];o?this.strategy?.stopCancelled(e.forceCancel):this.strategy?.stopCommitted(s,i),this.clearValidationIfNoOpenEditors();for(const w of C)n.clearEditValue(w);this.bulkRefresh(void 0,r);for(const w of n.getEditPositions(g)){const y=ct(t,w),R=mo(w);y?.refreshCell({force:!0,suppressFlash:!R})}return{res:d,edits:g}}shouldHandleMidBatchKey(e,t){return e instanceof KeyboardEvent&&this.batch&&!!this.strategy?.midBatchInputsAllowed(t)&&this.isEditing(t,{withOpenEditor:!0})}handleMidBatchKey(e,t,n){const{beans:o,model:i}=this,{cellCtrl:r,edits:s}=n,{key:l}=e,u=l===q.ENTER,d=l===q.ESCAPE,p=l===q.TAB;if(u||p||d){if(u||p)Yi(o,{persist:!0});else if(d&&r){const{rowNode:g,column:m}=r;if(this.batch&&g&&m){const C={rowNode:g,column:m};Ar(o,[C],{silent:!0}),this.model.stop(C,!0,!0),ct(o,C)?.refreshCell(ks)}else this.revertSingleCellEdit(r)}return this.batch?this.strategy?.cleanupEditors():Ar(o,i.getEditPositions(),{event:e,cancel:d}),e.preventDefault(),this.bulkRefresh(t,s,{suppressFlash:!0}),i.getEditMap()}return s}finishStopEditing({cellCtrl:e,edits:t,params:n,position:o,res:i,commit:r,forceCancel:s,willCancel:l,willStop:u}){const d=this.beans;i&&o&&(!this.batch||r)&&this.model.removeEdits(o),this.navigateAfterEdit(n,e?.cellPosition),ed(d),this.clearValidationIfNoOpenEditors(),this.bulkRefresh();const{rowRenderer:p,formula:g}=d;if(l&&p.refreshRows({rowNodes:Array.from(t.keys())}),this.batch){g?g.refreshFormulas(!0):p.refreshRows({suppressFlash:!0,force:!0});const m=u&&r;(m||l&&s)&&this.dispatchBatchStopped(t,m)}}dispatchBatchStopped(e,t){let n;t&&(n=EN(e),n.size>0&&this.ensureBatchStarted()),this.batchStartDispatched&&(this.batchStartDispatched=!1,this.dispatchBatchEvent("batchEditingStopped",n??new Map))}clearValidationIfNoOpenEditors(){this.model.hasEdits(void 0,{withOpenEditor:!0})||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap())}navigateAfterEdit(e,t){if(!e||!t)return;const{event:n,suppressNavigateAfterEdit:o}=e;if(!(n instanceof KeyboardEvent)||o)return;const{key:r,shiftKey:s}=n,l=this.gos.get("enterNavigatesVerticallyAfterEdit");if(r!==q.ENTER||!l)return;const u=s?q.UP:q.DOWN;this.beans.navigation?.navigateToNextCell(null,u,t,!1)}processEdits(e,t){const n=Array.from(e.keys()),o=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,i=[];for(const r of n){const s=e.get(r);for(const l of s.keys()){const u=s.get(l),d={rowNode:r,column:l};if(mo(u)&&!o){const p=ct(this.beans,d);this.setNodeDataValue(r,l,u.pendingValue,p,t)||i.push(d)}}}return i}setNodeDataValue(e,t,n,o,i="edit"){const r=NV.has(i)?"edit":i;o&&(o.suppressRefreshCell=!0),this.committing=!0;try{return e.setDataValue(t,n,r)}finally{this.committing=!1,o&&(o.suppressRefreshCell=!1)}}syncEditAfterCommit(e,t){const n=this.model.getEdit(e);n&&n.state!=="editing"&&(t?this.beans.editModelSvc?.setEdit(e,{sourceValue:this.valueSvc.getValue(e.column,e.rowNode,"data")}):this.model.clearEditValue(e))}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let n=ks;t?.forceRefreshOfEditCellsOnly&&(n={...WV(e),...ks}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:o,sourceValue:i}=n,{rowIndex:r,rowPinned:s,data:l}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:r,rowPinned:s,column:t,source:"api",data:l,newValue:o,oldValue:i,value:o,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:o,gos:i}=this,{editModelSvc:r,rowModel:s}=o;Nt(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&r?.getEditMap(!1)?.forEach((l,u)=>{for(const d of l.keys())this.refCell({rowNode:u,column:d},l.get(d),n)}))}refCell({rowNode:e,column:t},n,o={}){const{beans:i,gos:r}=this,s=new Set([e]),l=new Set,u=e.pinnedSibling;u&&s.add(u);const d=e.sibling;d&&l.add(d);let p=e.parent;for(;p;)p.sibling?.footer&&r.get("groupTotalRow")||!p.parent&&p.sibling&&r.get("grandTotalRow")?l.add(p.sibling):l.add(p),p=p.parent;for(const g of s)this.dispatchEditValuesChanged({rowNode:g,column:t},n);for(const g of s)ct(i,{rowNode:g,column:t})?.refreshCell(o);for(const g of l)ct(i,{rowNode:g,column:t})?.refreshCell(o)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{gos:n,beans:o}=this,i=e.rowNode,r=e.column.getColDef();if(i.group&&r.groupRowEditable==null){if(n.get("treeData")){if(!i.data&&!n.get("enableGroupEdit"))return!1}else if(!n.get("enableGroupEdit"))return!1}const s=hb(n)==="fullRow"?TV(o,e,t):Kf(o,e);return s&&(this.strategy??(this.strategy=this.createStrategy())),s}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const o=ct(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(o&&!o.hasBrowserFocus()&&o.focusCell(),o?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(o&&this.revertSingleCellEdit(o),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=ct(this.beans,e);n?.comp?.getCellEditor()&&(Ar(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),ha(this.beans,e,{silent:!0}),Jr(this.beans),n?.refreshCell(ks),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Jr(this.beans);const t=ct(this.beans,e);t&&(t.refreshCell(ks),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,o="ui"){let i;const r=this.isEditing(),s=r&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof ia&&r&&(i=this.strategy?.moveToNextEditingCell(e,t,n,o,s)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!s&&this.stopEditing()),i}getPendingEditValue(e,t,n){if(n==="data"||n==="batch"&&!this.batch)return;const o=this.model.getEdit({rowNode:e,column:t},Rr);if(!o||this.stopping&&!this.batch&&!o.editorState?.cellStartedEditing)return;if(n==="edit"){const r=o.editorValue;if(r!=null&&r!==Yt)return r}const i=o.pendingValue;if(i!==Yt)return i}getCellDataValue(e){const t=this.model.getEdit(e,Rr);if(t){const n=t.pendingValue;if(n!==Yt)return n;const o=t.sourceValue;if(o!=null)return o}return this.valueSvc.getValue(e.column,e.rowNode,"data")}addStopEditingWhenGridLosesFocus(e){xN(this,this.beans,e)}createPopupEditorWrapper(e){return new PV(e)}batchResetToSourceValue(e){if(!this.batch)return!1;const t=this.model.getEdit(e);if(!t)return!1;const{pendingValue:n,sourceValue:o,state:i}=t;return n===o||i==="editing"?!1:(this.dispatchEditValuesChanged(e,{...t,pendingValue:o}),this.beans.editModelSvc?.removeEdits(e),this.bulkRefresh(e),!0)}setDataValue(e,t,n){try{const o=this.batch,i=this.isEditing(o?void 0:e);if((!i||this.committing)&&!HV.has(n)||!i&&!o&&n==="paste")return;const r=this.beans;this.strategy??(this.strategy=this.createStrategy());let s;if(o?s="ui":this.committing?s=n??"api":s="api",!n||OV.has(n))return this.applyDirectValue(e,t,n);const l=this.applyExistingEdit(e,t,n,s);return l!==void 0?l:(yl(r,e,t,n,void 0,{persist:!0}),this.ensureBatchStarted(),this.stopEditing(e,{source:s,suppressNavigateAfterEdit:!0}),!0)}finally{this.committing=!1}}applyExistingEdit(e,t,n,o){const i=this.model.getEdit(e);if(i)return i.pendingValue===t?!1:i.sourceValue!==t?(yl(this.beans,e,t,n,void 0,{persist:!0}),this.ensureBatchStarted(),this.stopEditing(e,{source:o,suppressNavigateAfterEdit:!0}),!0):(this.beans.editModelSvc?.removeEdits(e),this.ensureBatchStarted(),this.dispatchEditValuesChanged(e,{...i,pendingValue:t}),!0)}applyDirectValue(e,t,n){const o=this.beans;if(this.batch)return yl(o,e,t,n,void 0,{persist:!0}),this.cleanupEditors(),ed(o),this.ensureBatchStarted(),this.bulkRefresh(),!0;yl(o,e,t,n,void 0,{persist:!0});const i=ct(o,e),r=this.setNodeDataValue(e.rowNode,e.column,t,i,n);return this.syncEditAfterCommit(e,r),ct(o,e)?.refreshCell(ks),r}handleColDefChanged(e){DN(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){const{model:n}=this;if(!this.batch||!n.hasRowEdits(e.rowNode,Rr))return;const{rowNode:i}=e,{compDetails:r,valueToDisplay:s}=t;if(r){const{params:l}=r;return l.data=n.getEditRowDataValue(i,Rr),{compDetails:r}}return{valueToDisplay:s}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,o){this.strategy?.dispatchCellEvent(e,t,n,o)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return ke(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:o,rangeSvc:i,valueSvc:r}=this,{formula:s}=o;Yi(o,{persist:!0});const l=this.model.getEditMap(!0);let u=l.get(e)?.get(t)?.pendingValue,d=!1;this.batch||(this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),d=!0);const p=s?.isFormula(u)??!1;n.forEach(m=>{const C=m.columns.some(w=>w?.isAllowFormula());if(i?.forEachRowInRange(m,w=>{const y=mi(o,w);if(y===void 0)return;const R=l.get(y)??new Map;let x=u;for(const E of m.columns){if(!E)continue;const P=!!p&&E.isAllowFormula();if(this.isCellEditable({rowNode:y,column:E},"api")){const M=r.getValue(E,y,"data",!0);let T=r.parseValue(E,y??null,x,M);Number.isNaN(T)&&(T=null),R.set(E,{editorValue:void 0,pendingValue:T,sourceValue:M,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}P&&(x=s?.updateFormulaByOffset({value:x,columnDelta:1}))}R.size>0&&l.set(y,R),p&&C&&(u=s?.updateFormulaByOffset({value:u,rowDelta:1}))}),this.setEditMap(l),this.batch){this.cleanupEditors(),ed(o),this.ensureBatchStarted(),this.bulkRefresh();return}this.committing=!0;try{this.stopEditing(void 0,{source:"bulk"})}finally{this.committing=!1,d&&this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(l)})}}),this.bulkRefresh();const g=ct(o,{rowNode:e,column:t});g&&g.focusCell(!0)}createCellStyleFeature(e){return new MV(e,this.beans)}createRowStyleFeature(e){return new kV(e,this.beans)}setEditingCells(e,t){const{beans:n}=this,{colModel:o,valueSvc:i}=n,r=new Map;for(let{colId:s,column:l,colKey:u,rowIndex:d,rowPinned:p,newValue:g,state:m}of e){const C=s?o.getCol(s):u?o.getCol(u):l;if(!C)continue;const w=mi(n,{rowIndex:d,rowPinned:p});if(!w)continue;const y=i.getValue(C,w,"data",!0);if(!t?.forceRefreshOfEditCellsOnly&&!mo({pendingValue:g,sourceValue:y})&&m!=="editing")continue;let R=r.get(w);R||(R=new Map,r.set(w,R)),g===void 0&&(g=Yt),R.set(C,{editorValue:void 0,pendingValue:g,sourceValue:y,state:m??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(r,t)}onCellFocused(e){const t=ct(this.beans,e);if(!t||!this.isEditing(t,Rr))return;const n=this.model.getEdit(t);if(!n||!mo(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return ct(this.beans,e)}};function WV(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function hb(e,t){return t??e.get("editType")??"singleCell"}var mF=class extends ee{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:o,beans:i}=this,r=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=ct(i,n));const{gos:s,editModelSvc:l}=i,u=e.type==="cellFocusCleared";if(o.isEditing(void 0,{withOpenEditor:!0})){const{column:d,rowIndex:p,rowPinned:g}=e,m={column:d,rowNode:mi(i,{rowIndex:p,rowPinned:g})},C=s.get("invalidEditValueMode")==="block";if(C)return;const w=!C,y=!!l?.getCellValidationModel().hasCellValidation(m),R=w&&y;!(n||u)||o.stopEditing(void 0,{cancel:R,source:u&&w?"api":void 0,event:r})||(o.isBatchEditing()?o.cleanupEditors():o.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stopCancelled(e){const t=this.editSvc.isBatchEditing()&&!e;for(const n of this.model.getEditPositions())ql(this.beans,n,{cancel:!0},ct(this.beans,n)),this.model.stop(n,t,!0);return!0}stopCommitted(e,t){const n=this.model.getEditPositions(),o={all:[],pass:[],fail:[]};for(const s of n)o.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0?o.fail.push(s):o.pass.push(s);const i=this.processValidationResults(o),r=this.editSvc.isBatchEditing()&&!t;for(const s of i.destroy)ql(this.beans,s,{event:e},ct(this.beans,s)),this.model.stop(s,r,!1);for(const s of i.keep){const l=ct(this.beans,s);!this.editSvc.cellEditingInvalidCommitBlocks()&&l&&this.editSvc.revertSingleCellEdit(l)}return!0}cleanupEditors({rowNode:e}={},t){Yi(this.beans,{persist:!1});const n=this.model.getEditPositions(),o=[];if(e)for(const i of n)i.rowNode!==e&&o.push(i);else for(const i of n)o.push(i);Ar(this.beans,o),ed(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const o=this.beans.gos.get("editType")==="fullRow";e.focusCell(o),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:n=!1,startedEdit:o,position:i,cells:r=this.model.getEditPositions()}=e,s=t instanceof KeyboardEvent&&!n&&t.key||void 0;PN(this.beans,r,i,s,t,o)}dispatchCellEvent(e,t,n,o){const i=ct(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...o})}dispatchRowEvent(e,t,n){if(n)return;const o=Dd(this.beans,e);o&&this.eventSvc.dispatchEvent(o.createRowEvent(t))}shouldStop(e,t,n="ui"){const o=this.editSvc.isBatchEditing();return o&&n==="api"?!0:o&&(n==="ui"||n==="edit")?!1:n==="api"?!0:t instanceof KeyboardEvent&&!o?t.key===q.ENTER:null}shouldCancel(e,t,n="ui"){const o=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!o&&t.key===q.ESCAPE||o&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((o,i)=>{o.forEach((r,s)=>{r.state==="editing"&&n.push({...r,rowNode:i,column:s})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const o=n.at(-1),i=o.pendingValue===Yt?void 0:o.pendingValue;this.start({position:o,event:new KeyboardEvent("keydown",{key:i}),source:"api"});const r=ct(this.beans,o);r&&this.setFocusInOnEditor(r)}}destroy(){this.cleanupEditors(),super.destroy()}},zV=class extends mF{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,n="ui"){const{rowNode:o}=e||{};if(!Dd(this.beans,{rowNode:this.rowNode}))return!0;const r=super.shouldStop({rowNode:this.rowNode},t,n);return r!==null?r:this.rowNode?o!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:n,startedEdit:o,event:i,ignoreEventKey:r}=e,{rowNode:s}=t;this.rowNode!==s&&super.cleanupEditors(t);const l=this.beans.visibleCols.allCols,u=[],d=[];for(const p of l)p.isCellEditable(s)&&d.push(p);if(d.length!=0){this.dispatchRowEvent({rowNode:s},"rowEditingStarted",n),this.startedRows.push(s);for(const p of d){const g={rowNode:s,column:p};u.push(g),this.model.hasEdits(g)||this.model.start(g)}this.rowNode=s,this.setupEditors({cells:u,position:t,startedEdit:o,event:i,ignoreEventKey:r})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stopCancelled(e){const{rowNode:t}=this;return t&&!this.model.hasRowEdits(t)?!1:(super.stopCancelled(e),this.cleanupEditors({rowNode:t},!0),this.rowNode=void 0,!0)}stopCommitted(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const o=[];if(this.model.getEditMap().forEach((i,r)=>{if(!(!i||i.size===0)){for(const s of i.values())if(mo(s)){o.push(r);break}}}),Jr(this.beans),this.editSvc.checkNavWithValidation({rowNode:n})==="block-stop")return!1;if(super.stopCommitted(e,t),t||!this.editSvc.isBatchEditing())for(const i of o)this.dispatchRowEvent({rowNode:i},"rowValueChanged");return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent||this.beans.editSvc?.isRangeSelectionEnabledWhileEditing())return;const o=ct(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&o&&(this.model.getCellValidationModel().getCellValidation(o)||this.model.getRowValidationModel().getRowValidation(o))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(const n of this.startedRows)this.dispatchRowEvent({rowNode:n},"rowEditingStopped"),this.destroyEditorsForRow(n);this.startedRows.length=0}destroyEditorsForRow(e){const t=Dd(this.beans,{rowNode:e});if(!t)return;const n={};for(const o of t.getAllCellCtrls())o.comp?.getCellEditor()&&ql(this.beans,o,n,o)}moveToNextEditingCell(e,t,n,o="ui",i=!1){const r=e.cellPosition;let s;this.model.suspend(!0);try{s=this.beans.navigation?.findNextCellToFocusOn(r,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(s===!1)return null;if(s==null)return!1;const l=s.cellPosition,u=e.isCellEditable(),d=s.isCellEditable(),p=l&&r.rowIndex===l.rowIndex&&r.rowPinned===l.rowPinned;u&&this.setFocusOutOnEditor(e),this.restoreEditors();const g=this.gos.get("suppressStartEditOnTab");return d&&!i?g?s.focusCell(!0,n):(s.comp?.getCellEditor()||ha(this.beans,s,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(s),s.focusCell(!1,n)):(d&&i&&this.setFocusInOnEditor(s),s.focusCell(!0,n)),!p&&!i&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:n,forceStop:!0}),this.editSvc?.isRowEditing(e.rowNode,{withOpenEditor:!0})&&this.cleanupEditors(s,!0),g?s.focusCell(!0,n):this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:o,ignoreEventKey:!0,editable:d||void 0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},o)=>{if(n!=="editing")return;const i=ct(this.beans,{rowNode:t,column:o});i&&!i.comp?.getCellEditor()&&ha(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},_V=class extends mF{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const o=super.shouldStop(e,t,n);if(o!==null)return o;const i=e?.rowNode,r=e?.column,s=this.rowNode,l=this.column;return(!s||!l)&&i&&r?null:s!==i||l!==r?!0:!s&&!l?this.model.hasEdits(void 0,{withOpenEditor:!0}):!1}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:n,event:o,ignoreEventKey:i}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:o,ignoreEventKey:i})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stopCancelled(e){return super.stopCancelled(e),this.clearPosition()}stopCommitted(e,t){return super.stopCommitted(e,t),this.clearPosition()}clearPosition(){return this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:o,column:i,rowPinned:r}=e,s=mi(this.beans,{rowIndex:o,rowPinned:r}),l=Vf(i),u=t.getCol(l),d=e.previousParams;if(d){const p=Vf(d.column);if(d?.rowIndex===o&&p===l&&d?.rowPinned===r)return}e.type=="cellFocused"&&(n?.isRangeSelectionEnabledWhileEditing()||n?.isEditing({rowNode:s,column:u},{withOpenEditor:!0}))||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,o="ui",i=!1){const r=this.beans.focusSvc.getFocusedCell();r&&(e=zs(this.beans,r)??e);const s=e.cellPosition;let l;const u=this.beans.gos.get("editType")==="fullRow";u&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{l=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{u&&this.model.suspend(!1)}if(l===!1)return null;if(l==null)return!1;const d=l.cellPosition,p=e.isCellEditable(),g=l.isCellEditable(),m=d&&s.rowIndex===d.rowIndex&&s.rowPinned===d.rowPinned;p&&!i&&this.setFocusOutOnEditor(e);const C=this.gos.get("suppressStartEditOnTab");if(!m&&!i&&(super.cleanupEditors(l,!0),C?l.focusCell(!0,n):this.editSvc.startEditing(l,{startedEdit:!0,event:n,source:o,ignoreEventKey:!0,editable:g})),g&&!i){if(l.focusCell(!1,n),C)l.focusCell(!0,n);else if(!l.comp?.getCellEditor()){const w=this.editSvc?.isEditing(l,{withOpenEditor:!0});ha(this.beans,l,{event:n,cellStartedEdit:!0,silent:w}),this.setFocusInOnEditor(l),this.cleanupEditors(l)}}else g&&i&&this.setFocusInOnEditor(l),l.focusCell(!0,n);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},lr={moduleName:"EditCore",version:ue,beans:[RN,VV],apiFunctions:{getEditingCells:vV,getEditRowValues:CV,getCellEditorInstances:FN,startEditingCell:SV,stopEditing:wV,isEditing:yV,validateEdit:bV},dynamicBeans:{singleCell:_V,fullRow:zV},dependsOn:[th,cF],css:[BG]},$V={moduleName:"UndoRedoEdit",version:ue,beans:[NG],apiFunctions:{undoCellEditing:fV,redoCellEditing:mV,getCurrentUndoSize:RV,getCurrentRedoSize:xV},dependsOn:[lr]},UV={moduleName:"TextEditor",version:ue,userComponents:{agCellEditor:db,agTextCellEditor:db},dependsOn:[lr]},jV={moduleName:"NumberEditor",version:ue,userComponents:{agNumberCellEditor:{classImp:eV}},dependsOn:[lr]},KV={moduleName:"DateEditor",version:ue,userComponents:{agDateCellEditor:_G,agDateStringCellEditor:jG},dependsOn:[lr]},qV={moduleName:"CheckboxEditor",version:ue,userComponents:{agCheckboxCellEditor:GG},dependsOn:[lr]},YV={moduleName:"SelectEditor",version:ue,userComponents:{agSelectCellEditor:hV},dependsOn:[lr]},QV={moduleName:"LargeTextEditor",version:ue,userComponents:{agLargeTextCellEditor:QG},dependsOn:[lr]},XV={moduleName:"CustomEditor",version:ue,dependsOn:[lr]},CF={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agBigIntColumnFilter:"agBigIntColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},ZV=new Set(Object.values(CF));function ji(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const o=n.create(n.refreshed),i=n;return i.created=!0,i.promise=o,o}function JV(e,t,n,o,i,r,s){return t.refresh?.({...n,model:o,source:r,additionalEventAttributes:s}),e().then(l=>{if(l){const{filter:u,filterParams:d}=l;vF(u,d,o,i,r,s)}})}function vF(e,t,n,o,i,r){e?.refresh?.({...t,model:n,state:o,source:i,additionalEventAttributes:r})}function wF(e,t,n,o){const i=e();i?.created&&i.promise.then(r=>{const s=t();vF(r,i.filterParams,s,n()??{model:s},"ui",o)})}function pb(e){let t,n=!1,o;const{action:i,filterParams:r,getFilterUi:s,getModel:l,getState:u,updateState:d,updateModel:p,processModelToApply:g}=e;switch(i){case"apply":{const m=u();o=m?.model??null,g&&(o=g(o)),t={state:m?.state,model:o},n=!0;break}case"clear":{t={model:null},r?.buttons?.includes("apply")||(n=!0,o=null);break}case"reset":{t={model:null},n=!0,o=null;break}case"cancel":{t={model:l()};break}}d(t),n?p(o):wF(s,l,u,{fromAction:i})}function Kt(e,t){return e[t]??null}var eW=class extends jm{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,o,i){this.comp=e;const r=oc(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=o,this.setGui(t,r),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r);const s=()=>this.onColDefChanged(r);r.addManagedListeners(this.column,{colDefChanged:s}),r.addManagedEventListeners({filterSwitched:({column:l})=>{l===this.column&&s()}}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return ke(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=En("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new tc(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();aa(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(St(t)===this.eGui)return;const i=is(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case q.UP:case q.DOWN:case q.LEFT:case q.RIGHT:if(t)return;Qr(e);case q.ENTER:t&&Yr(this.eGui)&&e.preventDefault();break;case q.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Nr(e.relatedTarget,"ag-floating-filter");if(n&&o&&e.target===this.eGui){const i=this.lastFocusEvent,r=!!(i&&i.key===q.TAB);if(i&&r){const s=i.shiftKey;Yr(this.eGui,s)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new Um(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Hn(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:o}=this,i=r=>{if(r?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const s=this.comp.getFloatingFilterComp();s&&s.then(l=>{if(l){if(o.get("enableFilterHandlers")){const p=r;let g="filter";p?.afterFloatingFilter?g="ui":p?.afterDataChange?g="dataChanged":r?.source==="api"&&(g="api"),this.updateFloatingFilterParams(this.userCompDetails,g);return}const u=t?.getCurrentFloatingFilterParentModel(n),d=r?{...r,columns:r.columns??[],source:r.source==="api"?"api":"columnFilter"}:null;l.onParentModelChanged(u,d)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const o=this.beans.colFilter,i=this.active?o?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!i?this.updateCompDetails(e,i,n):r.then(s=>{!s||o?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(o=>{typeof o?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:Kt(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),o.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function tW(e,t){const n=e.colModel.getCol(t);if(!n){et(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function nW(e){e.menuSvc?.hidePopupMenu()}var oW=class extends ee{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(fb(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){fb(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Hn(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&tr(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Vr()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Hn(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Hn(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Hn(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,o){const{positionBy:i,onClosedCallback:r}=t,s=t.column;if(i==="button"){const{buttonElement:l}=t;e?.showMenuAfterButtonClick(s,l,n,r,o)}else if(i==="mouse"){const{mouseEvent:l}=t;e?.showMenuAfterMouseEvent(s,l,n,r,o)}else if(s){const l=this.beans,u=l.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(s,"auto"),bi(l,()=>{const d=u.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);d&&e?.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(o),n,r,o)})}}};function gb(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function fb(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:o}=e;return t&&Hn(o)?t:n}var iW={moduleName:"SharedMenu",version:ue,beans:[oW],apiFunctions:{showColumnMenu:tW,hidePopupMenu:nW}},rW=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;:where(.ag-set-filter-group-closed-icon),:where(.ag-set-filter-group-indeterminate-icon),:where(.ag-set-filter-group-opened-icon){cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper{min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>:where(.ag-date-floating-filter-wrapper),>:where(.ag-floating-filter-input),>:where(.ag-input-field){flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(.ag-input-field-input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:var(--ag-widget-container-vertical-padding);:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function sW(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function aW(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function lW(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function cW(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function uW(e){return e.filterManager?.getFilterModel()??{}}function dW(e,t,n){const{gos:o,colModel:i,colFilter:r}=e;n&&!o.get("enableFilterHandlers")&&(oe(288),n=!1);const s=i.getColDefCol(t);return s?r?.getModelForColumn(s,n)??null:null}function hW(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function pW(e,t){const n=e.colModel.getCol(t);if(!n){et(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function gW(e){e.menuSvc?.hideFilterMenu()}function fW(e,t){const n=e.colModel.getCol(t);if(!n){et(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function mW(e,t){const{colModel:n,colFilter:o,gos:i}=e;if(!i.get("enableFilterHandlers")){oe(287);return}const{colId:r,action:s}=t;if(r){const l=n.getColById(r);l&&o?.updateModel(l,s)}else o?.updateAllModels(s)}var mb={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Cb=["january","february","march","april","may","june","july","august","september","october","november","december"];function CW(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function vW(e,t){if(e==null)return-1;if(t==null)return 1;const n=Mn(e),o=Mn(t);return n!=null&&o!=null?n===o?0:n>o?1:-1:String(e).localeCompare(String(t))}function vb(e){return e instanceof Date&&!isNaN(e.getTime())}var qf={number:()=>{},bigint:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:vb}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const o=e.dateParser(n);return n==null||o<t?-1:o>t?1:0},isValidDate:t=>typeof t=="string"&&vb(e.dateParser(t))}),dateTime:e=>qf.date(e),dateTimeString:e=>qf.dateString(e),object:()=>{},text:()=>{}},Yf={number:()=>({comparator:CW}),bigint:()=>({comparator:vW}),boolean:({t:e})=>({valueFormatter:t=>de(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const o=e(n);return de(o)?o:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,o)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(o===1&&n!=null){const i=Cb[Number(n)-1];return t(i,mb[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>Au(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:o=>{const i=e(o);return de(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:o=>Au(t.dateParser(o??void 0),!1),treeListFormatter:(o,i)=>{if(i===1&&o!=null){const r=Cb[Number(o)-1];return n(r,mb[r])}return o??n("blanks","(Blanks)")}}),dateTime:e=>{const t=Yf.date(e);return t.treeListPathGetter=Au,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=Yf.dateString(e);return n.treeListPathGetter=o=>Au(t(o??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const o=e(n);return de(o)?o:t("blanks","(Blanks)")}}),text:()=>{}};function wW(e,t,n,o,i,r,s){let l=t,u=n;const d=e==="agSetColumnFilter";!u&&o.baseDataType==="object"&&!d&&(u=({column:C,node:w})=>i({column:C,node:w,value:r.valueSvc.getValue(C,w,"data")}));const g=(d?Yf:qf)[o.baseDataType],m=g({dataTypeDefinition:o,formatValue:i,t:s});return l=typeof t=="object"?{...m,...t}:m,{filterParams:l,filterValueGetter:u}}var yW={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",bigint:"agBigIntColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},SW={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",bigint:"agBigIntColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function bW(e,t=!1){return(t?SW:yW)[e??"text"]}function RW(e,t,n){if(t==null)return null;let o=null;const{compName:i,jsComp:r,fwComp:s}=VR(e,t);return i?o={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agBigIntColumnFilter:"agBigIntColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:r==null&&s==null&&t.filter===!0&&(o=n()),o}var xW={filterHandler:()=>({doesFilterPass:()=>!0})};function wb(e,t,n,o){if(!e.isPrimary())return!0;const r=!n;return!e.isValueActive()||!r?!1:t?!0:o}var FW=class extends ee{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...CF},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.addManagedPropertyListener("pivotMode",this.onPivotModeChanged.bind(this));const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",n){const{colModel:o,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],l=this.getModel(!0);if(e){const u=new Set(Object.keys(e));this.allColumnFilters.forEach((d,p)=>{const g=e[p];s.push(this.setModelOnFilterWrapper(d,g)),u.delete(p)}),u.forEach(d=>{const p=o.getColDefCol(d)||o.getCol(d);if(!p){oe(62,{colId:d});return}if(!p.isFilterAllowed()){oe(63,{colId:d});return}const g=this.getOrCreateFilterWrapper(p,!0);if(!g){oe(64,{colId:d});return}s.push(this.setModelOnFilterWrapper(g,e[d],!0))})}else this.model={},this.allColumnFilters.forEach(u=>{s.push(this.setModelOnFilterWrapper(u,null))});$e.all(s).then(()=>{const u=this.getModel(!0),d=[];this.allColumnFilters.forEach((p,g)=>{const m=l?l[g]:null,C=u?u[g]:null;Hl(m,C)||d.push(p.column)}),d.length>0?r?.onFilterChanged({columns:d,source:t}):n&&this.updateActive("filterChanged")})}getModel(e){const t={},{allColumnFilters:n,initialModel:o,beans:{colModel:i}}=this;if(n.forEach((r,s)=>{const l=this.getModelFromFilterWrapper(r);de(l)&&(t[s]=l)}),!e)for(const r of Object.keys(o)){const s=o[r];de(s)&&!n.has(r)&&i.getCol(r)?.isFilterAllowed()&&(t[r]=s)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const o of Object.keys(t)){const i=t[o];this.state.set(o,{model:Kt(this.model,o),state:i})}this.setModel(e,n,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((o,i)=>{const r=o.state;r!=null&&(n=!0,t[i]=r)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return Kt(this.model,n);const o=e.filter;return o?typeof o.getModel!="function"?(oe(66),null):o.getModel():Kt(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(oe(67),!1):!1,{colModel:t,gos:n}=this.beans,o=!!pd(n),i=[],r=[],s=(u,d,p)=>{d&&(wb(u,t.isPivotMode(),t.isPivotActive(),o)?i.push(p):r.push(p))},l=[];return this.allColumnFilters.forEach(u=>{const d=u.column,p=d.getColId();if(u.isHandler)l.push($e.resolve().then(()=>{s(d,this.isHandlerActive(d),{colId:p,isHandler:!0,handler:u.handler,handlerParams:u.handlerParams})}));else{const g=ji(u);g&&l.push(g.then(m=>{s(d,e(m),{colId:p,isHandler:!1,comp:m})}))}}),$e.all(l).then(()=>{this.activeAggregateFilters=i,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(o=>{const i=o.column;if(o.isHandler)n.push($e.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const r=ji(o);r&&n.push(r.then(s=>{this.setColFilterActive(i,s.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),$e.all(n)}doFiltersPass(e,t,n){const{data:o,aggData:i}=e,r=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?i:o,l=this.model;for(let u=0;u<r.length;u++){const d=r[u],{colId:p,isHandler:g}=d;if(p!==t)if(g){const{handler:m,handlerParams:C}=d;if(!m.doesFilterPass({node:e,data:s,model:Kt(l,p),handlerParams:C}))return!1}else{const m=d.comp;if(typeof m.doesFilterPass!="function"){et(91);continue}if(!m.doesFilterPass({node:e,data:s}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,o=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(o,0):o()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,o=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{const{column:r,isHandler:s}=i;o!==r.getColId()&&(s&&i.handler.onAnyFilterChanged?.(),ji(i,s)?.then(l=>{typeof l?.onAnyFilterChanged=="function"&&l.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const o=n.isHandler;o&&n.handler.onNewRowsLoaded?.();const i=ji(n,o);i&&t.push(i.then(r=>{r.onNewRowsLoaded?.()}))}),$e.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:o}=this.beans;return(i,r)=>{const s=r?o.getCol(r):e;return s?n.getValue(s,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():Kt(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=de(Kt(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?ji(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=ji(t);return n?n.then(o=>({comp:o,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return gT(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":bW(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,o,i,r){const s=()=>{const d=this.createFilterCompParams(e,i,r),p=o(d,i);return IM(this.beans.userCompFactory,t,p,n)},l=s();return l?{compDetails:l,createFilterUi:d=>(d?s():l).newAgStackInstance()}:null}createFilterInstance(e,t,n,o){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:r,handlerParams:s,handlerGenerator:l}=this.createHandler(e,t,n)??{},u=this.createFilterComp(e,t,n,o,!!r,"init");if(!u)return{compDetails:null,createFilterUi:null,handler:r,handlerGenerator:l,handlerParams:s};const{compDetails:d,createFilterUi:p}=u;return this.isGlobalButtons&&(d.params?.buttons?.length||oe(281,{colId:e.getColId()})),{compDetails:d,handler:r,handlerGenerator:l,handlerParams:s,createFilterUi:p}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:o}=this.beans;return ke(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>n?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:o})}createFilterCompParams(e,t,n,o){const i=this.filterChangedCallbackFactory(e),r=this.createBaseFilterParams(e,o);if(r.filterChangedCallback=i,r.filterModifiedCallback=o?()=>{}:s=>this.filterModified(e,s),t){const s=r,l=e.getColId(),u=Kt(this.model,l);s.model=u,s.state=this.state.get(l)??{model:u},s.onModelChange=(d,p)=>{this.updateStoredModel(l,d),this.refreshHandlerAndUi(e,d,"ui",!1,p).then(()=>{i({...p,source:"columnFilter"})})},s.onStateChange=d=>{this.updateState(e,d),this.updateOrRefreshFilterUi(e)},s.onAction=(d,p,g)=>{this.updateModel(e,d,p),this.dispatchLocalEvent({type:"filterAction",column:e,action:d,event:g})},s.getHandler=()=>this.getHandler(e,!0),s.onUiChange=d=>this.filterUiChanged(e,d),s.source=n}return r}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const o=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:o};return o.then(n),i}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:o,handlerParams:i,createFilterUi:r}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),l=>l),s=e.getColId();if(n)return delete this.initialModel[s],n.init?.({...i,source:"init",model:Kt(this.model,s)}),{column:e,isHandler:!0,handler:n,handlerGenerator:o,handlerParams:i,filterUi:this.createFilterUiForHandler(t,r)};if(r){const l={column:e,filterUi:null,isHandler:!1};return l.filterUi=this.createFilterUiLegacy(t,r,u=>{l.filter=u??void 0}),l}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){const{gos:o,frameworkOverrides:i,registry:r}=this.beans;let s;const l=C=>{const w=C.filter;if(BR(w)){const y=w.handler;return y||(s=w.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof w=="string"?w:void 0},u=o.get("enableFilterHandlers"),d=u?l(t):void 0,p=C=>()=>this.createBean(r.createDynamicBean(C,!0));let g,m;if(typeof d=="string"){const C=o.get("filterHandlers")?.[d];C!=null?g=C:ZV.has(d)&&(g=p(d),m=d)}else g=d;if(!g){let C;const{compName:w,jsComp:y,fwComp:R}=VR(i,t);w?C=w:y==null&&R==null&&t.filter===!0&&(C=n),m=this.handlerMap[C],m&&(g=p(m))}return g?{filterHandler:g,handlerNameOrCallback:s??m}:u?(Nt(o)&&oe(277,{colId:e.getColId()}),xW):void 0}createHandler(e,t,n){const o=this.createHandlerFunc(e,t,n);if(!o)return;const i=Rg(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:r,filterHandler:s}=o,{handler:l,handlerParams:u}=this.createHandlerFromFunc(e,s,i);return{handler:l,handlerParams:u,handlerGenerator:r??s}}createHandlerFromFunc(e,t,n){const o=e.getColDef(),i=t(ke(this.gos,{column:e,colDef:o})),r=this.createHandlerParams(e,n);return{handler:i,handlerParams:r}}createHandlerParams(e,t){const n=e.getColDef(),o=e.getColId(),i=this.filterChangedCallbackFactory(e);return ke(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:r=>this.beans.filterManager?.doesRowPassOtherFilters(o,r)??!0,onModelChange:(r,s)=>{this.updateStoredModel(o,r),this.refreshHandlerAndUi(e,r,"handler",!1,s).then(()=>{i({...s,source:"columnFilter"})})},onModelAsStringChange:()=>{e.dispatchColEvent("filterChanged","filterChanged"),this.dispatchLocalEvent({type:"filterModelAsStringChanged",column:e})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:o}=this.beans;this.allColumnFilters.forEach((r,s)=>{let l;r.column.isPrimary()?l=t.getColDefCol(s):l=t.getCol(s),!(l&&l===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(s))});const i=o&&e.every(r=>o.isGroupFilter(r));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:o,selectableFilter:i,gos:r}=this.beans,s=C=>{this.getOrCreateFilterUi(e)?.then(y=>{C(Zr(y))})},l=e.getColDef(),u=i?.isSelectable(l)?i.getFilterDef(e,l):l,d=RW(o,u,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",p=r.get("enableFilterHandlers"),g=Rg(n,u,this.createFilterCompParams(e,p,"init",!0)),m=ke(r,{column:e,filterParams:g,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(p){const C=m,w=e.getColId(),y=this.filterChangedCallbackFactory(e);C.onUiChange=R=>this.floatingFilterUiChanged(e,R),C.model=Kt(this.model,w),C.onModelChange=(R,x)=>{this.updateStoredModel(w,R),this.refreshHandlerAndUi(e,R,"floating",!0,x).then(()=>{y({...x,source:"columnFilter"})})},C.getHandler=()=>this.getHandler(e,!0),C.source="init"}return OM(n,l,m,d)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,o){const i="paramsUpdated";if(e.isHandler){const r=t.getColId();delete this.initialModel[r],this.state.delete(r);const s=e.filterUi,l=this.createFilterUiForHandler(n,o);e.filterUi=l;const u=this.eventSvc;s?.created?s.promise.then(d=>{this.destroyBean(d),u.dispatchEvent({type:"filterDestroyed",source:i,column:t})}):u.dispatchEvent({type:"filterHandlerDestroyed",source:i,column:t})}else this.destroyFilter(t,i)}destroyFilter(e,t="api"){const n=e.getColId(),o=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],o&&this.disposeFilterWrapper(o,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:o,isHandler:i,filterUi:r}=e,s=o.getColId();i&&(n=this.isHandlerActive(o),this.destroyBean(e.handler),delete this.model[s],this.state.delete(s));const l=()=>{this.setColFilterActive(o,!1,"filterDestroyed"),this.allColumnFilters.delete(s),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:o})};if(r){if(r.created)return r.promise.then(u=>(n=i?n:!!u?.isFilterActive(),this.destroyBean(u),l(),n));l()}return $e.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const o=this.beans,i=n.column,r=i.getColDef(),s=i.isFilterAllowed(),l=this.getDefaultFilter(i),u=o.selectableFilter,d=u?.isSelectable(r)?u.getFilterDef(i,r):r,p=s?this.createHandlerFunc(i,d,this.getDefaultFilter(i)):void 0,g=!!p,m=n.isHandler;if(m!=g){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:C,createFilterUi:w}=(s?this.createFilterComp(i,d,l,R=>R,g,"colDef"):null)??{compDetails:null,createFilterUi:null},y=C?.params??Rg(o.userCompFactory,d,this.createFilterCompParams(i,g,"colDef"));if(m){const R=p?.handlerNameOrCallback??p?.filterHandler,x=Kt(this.model,e);if(n.handlerGenerator!=R){const E=n.handler,{handler:P,handlerParams:M}=this.createHandlerFromFunc(i,p.filterHandler,y);n.handler=P,n.handlerParams=M,n.handlerGenerator=R,delete this.model[e],P.init?.({...M,source:"init",model:null}),this.destroyBean(E),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const E=this.createHandlerParams(i,C?.params);n.handlerParams=E,n.handler.refresh?.({...E,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,C)||!n.filterUi||!C){this.destroyFilterUi(n,i,C,w);return}n.filterUi.filterParams=y,ji(n,m)?.then(R=>{(R?.refresh?R.refresh(y):!0)===!1?this.destroyFilterUi(n,i,C,w):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:y})})}refreshHandlerAndUi(e,t,n,o,i){const r=this.cachedFilter(e);if(!r)return o&&this.getOrCreateFilterWrapper(e,!0),$e.resolve();if(!r.isHandler)return $e.resolve();const{filterUi:s,handler:l,handlerParams:u}=r;return JV(()=>{if(s){const{created:d,filterParams:p}=s;if(d)return s.promise.then(g=>g?{filter:g,filterParams:p}:void 0);s.refreshed=!0}return $e.resolve(void 0)},l,u,t,this.state.get(e.getColId())??{model:t},n,i)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:o}=t;return!(n===o||n?.render&&o?.render&&n.render===o.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(o=>{n.then(i=>{o(Zr(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:o,model:i}=this,r=e.getColId(),s=o.get(r);return s?s.model??null:Kt(i,r)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const o=new Promise(i=>{n=i});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),o}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(o=>n(o))})}getStateForColumn(e){return this.state.get(e)??{model:Kt(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),o=n?this.getOrCreateFilterWrapper(n,!0):null;return o?this.setModelOnFilterWrapper(o,t):$e.resolve()}setColDefPropsForDataType(e,t,n){const o=e.filter,i=o===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):o;if(typeof i!="string")return;let r,s;const l=this.beans,{filterParams:u,filterValueGetter:d}=e;i==="agMultiColumnFilter"?{filterParams:r,filterValueGetter:s}=l.multiFilter?.getParamsForDataType(u,d,t,n)??{}:{filterParams:r,filterValueGetter:s}=wW(i,u,d,t,n,l,this.getLocaleTextFunc()),e.filterParams=r,s&&(e.filterValueGetter=s)}setColFilterActive(e,t,n,o){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,o)}setModelOnFilterWrapper(e,t,n){return new $e(o=>{if(e.isHandler){const r=e.column,s=r.getColId(),l=this.model[s];if(this.updateStoredModel(s,t),n&&t===l){o();return}this.refreshHandlerAndUi(r,t,"api").then(()=>o());return}const i=ji(e);if(i){i.then(r=>{if(typeof r?.setModel!="function"){oe(65),o();return}(r.setModel(t)||$e.resolve()).then(()=>o())});return}o()})}updateStoredModel(e,t){de(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),o={model:t,state:n?.state};this.state.set(e,o)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const o=e.getColId(),i=this.cachedFilter(e),r=()=>i?.filterUi;pb({action:t,filterParams:i?.filterUi?.filterParams,getFilterUi:r,getModel:()=>Kt(this.model,o),getState:()=>this.state.get(o),updateState:s=>this.updateState(e,s),updateModel:s=>r()?.filterParams?.onModelChange(s,{...n,fromAction:t}),processModelToApply:i?.isHandler?i.handler.processModelToApply?.bind(i.handler):void 0})}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((o,i)=>{const r=this.beans.colModel.getColDefCol(i);r&&pb({action:e,filterParams:o.filterUi?.filterParams,getFilterUi:()=>o.filterUi,getModel:()=>Kt(this.model,i),getState:()=>this.state.get(i),updateState:s=>this.updateState(r,s),updateModel:s=>{this.updateStoredModel(i,s),this.dispatchLocalEvent({type:"filterAction",column:r,action:e}),n.push(this.refreshHandlerAndUi(r,s,"ui"))},processModelToApply:o?.isHandler?o.handler.processModelToApply?.bind(o.handler):void 0})}),n.length&&$e.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();wF(()=>this.cachedFilter(e)?.filterUi,()=>Kt(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let o=!1;for(const i of e.keys()){const r=e.get(i);if(r.valid===!1)return!1;(r.model??null)!==Kt(t,i)&&(o=!0)}return o}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==Kt(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}onPivotModeChanged(e){const{colModel:t,pivotColsSvc:n}=this.beans,o=!!pd(this.gos),i=e.currentValue,r=i?this.activeColumnFilters:this.activeAggregateFilters,s=i?this.activeAggregateFilters:this.activeColumnFilters,l=[];for(const u of r){const d=t.getColById(u.colId),p=i&&!!n?.columns.length;d&&i===wb(d,i,p,o)&&(s.push(u),l.push(u))}ZD(r,l)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function PW(e){return!!e.filterManager?.isAnyFilterPresent()}function EW(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var DW=class extends ee{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:o})=>this.onAdvFilterEnabledChanged(o),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){pd(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:o=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):$e.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:o};n&&pn(i,n),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!pd(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){oe(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(const e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},TW=class extends ee{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,o){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({additionalParams:{column:e},type:n,mouseEvent:t,ePopup:i})},n,t.target,Hn(this.gos),o)}showMenuAfterButtonClick(e,t,n,o){if(e&&!e.isColumn)return;let i=-1,r="left";const s=Hn(this.gos);!s&&this.gos.get("enableRtl")&&(i=1,r="right");const l=s?void 0:4*i,u=s?void 0:4;this.showPopup(e,d=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:d,nudgeX:l,nudgeY:u,alignSide:r,keepWithinBounds:!0,position:"under",additionalParams:{column:e}})},n,t,s,o)}showPopup(e,t,n,o,i,r){const s=e?this.createBean(new _M(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e){et(57);return}const l=Vn({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(l,{keydown:y=>this.trapFocusWithin(y,l)}),l.appendChild(s?.getGui());let u;const d=()=>s?.afterGuiDetached(),p=fT(this.gos)?o??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,g=y=>{gb(e,!1,"contextMenu");const R=y instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),R&&o&&vo(o)&&qR(o)?.focus({preventScroll:!0}),d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),r?.()},m=this.getLocaleTextFunc(),C=i&&n!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),w=this.popupSvc?.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:g,positionCallback:()=>t(l),anchorToElement:p,ariaLabel:C});w&&(this.hidePopup=u=w.hideFunc),s.afterInit().then(()=>{t(l),s.afterGuiAttached({container:n,hidePopup:u})}),gb(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==q.TAB||e.defaultPrevented||is(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Yr(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},MW=class extends ee{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const o=e.getColDef(),{selectableFilter:i,valueSvc:r,formula:s}=this.beans,l=n??i?.getFilterValueGetter(e.getColId())??o.filterValueGetter;if(l)return this.executeFilterValueGetter(l,t.data,e,t,o);const u=r.getValue(e,t,"data");return e.isAllowFormula()&&s?.isFormula(u)?s.resolveValue(e,t):u}executeFilterValueGetter(e,t,n,o,i){const{expressionSvc:r,valueSvc:s}=this.beans,l=ke(this.gos,{data:t,node:o,column:n,colDef:i,getValue:s.getValueCallback.bind(s,o)});return typeof e=="function"?e(l):r?.evaluate(e,l)}},kW={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},IW=class extends kt{constructor(){super(kW,[nh]),this.eFloatingFilterText=Ce}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,o=n.getHandler();if(o.getModelAsString){const i=o.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},AW=class extends qm{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},dC=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;if(e)for(const t of e){if(typeof t=="string")continue;const n=[["displayKey"],["displayName"],["predicate","test"]],o=i=>i.some(r=>t[r]!=null)?!0:(oe(72,{keys:i}),!1);if(!n.every(o)){this.filterOptions=e.filter(i=>i===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;oe(73)}else oe(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Ll(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function Id(e){return e==null||typeof e=="string"&&e.trim().length===0}function LW(e){return e==="AND"||e==="OR"?e:"AND"}function OW(e,t,n){if(e==null)return;const{predicate:o}=e;if(o!=null&&!t.some(i=>i==null))return o(t,n)}function NW(e,t){let n=e.length;return n>t&&(e.splice(t),oe(78),n=t),n}var BW=new Set(["empty","notBlank","blank","today","yesterday","tomorrow","thisWeek","lastWeek","nextWeek","thisMonth","lastMonth","nextMonth","thisQuarter","lastQuarter","nextQuarter","thisYear","lastYear","nextYear","yearToDate","last7Days","last30Days","last90Days","last6Months","last12Months","last24Months"]);function es(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:o}=n;return o??1}return e&&BW.has(e)?0:e==="inRange"?2:1}var ih=class extends ZM{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new dC;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=LW(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions(),Pn(this.getGui(),"tabindex",this.isReadOnly()?"-1":null)}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const o=n===0?e:this.optionsFactory.defaultOption;t.setValue(o,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,o=!t.operator;if(!n&&o||n&&!o)return!1;let r;if(n){const s=e,l=t;r=this.areSimpleModelsEqual(s,l)}else{const s=e,l=t;r=s.operator===l.operator&&ir(s.conditions,l.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return r}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),$e.resolve();if(e.operator){const o=e;let i=o.conditions;i==null&&(i=[],oe(77));const r=NW(i,this.maxNumConditions),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let u=s;u<r;u++)this.createJoinOperatorPanel(),this.createOption();const l=o.operator==="OR";this.eJoinAnds.forEach(u=>u.setValue(!l,!0)),this.eJoinOrs.forEach(u=>u.setValue(l,!0)),i.forEach((u,d)=>{this.eTypes[d].setValue(u.type,!0),this.setConditionIntoUi(u,d)})}else{const o=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(o.type,!0),this.setConditionIntoUi(o,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),$e.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(oe(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(oe(80),n=1),n>t&&(oe(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new uC);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const o=this.getNumConditions()-1;this.forEachPositionInput(o,i=>this.resetInput(i)),this.addChangedListeners(t,o)}createJoinOperatorPanel(){const e=Vn({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const o=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,o,i),this.resetJoinOperatorOr(n,o,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const o=this.createManagedBean(new AW);e.push(o);const i="ag-filter-condition-operator";return o.addCss(i),o.addCss(`${i}-${n}`),t.appendChild(o.getGui()),o}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;for(const n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const o=e+1,i=n-o;i>0&&this.removeConditionsAndOperators(o,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((o,i)=>{const r=this.isConditionDisabled(i,e);o.setDisabled(r||this.filterListOptions.length<=1),i===1&&(Vl(this.eJoinPanels[0],r),this.eJoinAnds[0].setDisabled(r),this.eJoinOrs[0].setDisabled(r))}),this.eConditionBodies.forEach((o,i)=>{ht(o,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";for(const o of this.eJoinAnds)o.setValue(!n,!0);for(const o of this.eJoinOrs)o.setValue(n,!0);this.forEachInput((o,i,r,s)=>{this.setElementDisplayed(o,i<s),this.setElementDisabled(o,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:o,eJoinPanels:i,eJoinAnds:r,eJoinOrs:s}=this;this.removeComponents(n,e,t),this.removeElements(o,e,t),this.removeEValues(e,t);const l=Math.max(e-1,0);this.removeElements(i,l,t),this.removeComponents(r,l,t),this.removeComponents(s,l,t)}removeElements(e,t,n){const o=Ll(e,t,n);for(const i of o)Zi(i)}removeComponents(e,t,n){const o=Ll(e,t,n);for(const i of o)Zi(i.getGui()),this.destroyBean(i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof Ir&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}shouldKeepInvalidInputState(){return!1}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column)||this.shouldKeepInvalidInputState())return;e.onStateChange({model:e.model});let t=-1,n=-1,o=!1;const i=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,n=s);else{const l=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),u=s<t;(l||u)&&(this.removeConditionsAndOperators(s,1),o=!0,u&&n--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(n,i),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}resetPlaceholder(){const e=this.getLocaleTextFunc(),{filterPlaceholder:t,eTypes:n}=this;this.forEachInput((o,i,r,s)=>{if(!(o instanceof Ir))return;const l=i===0&&s>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",u=i===0&&s>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value"),d=n[r].getValue(),p=WR(this,t,l,d);o.setInputPlaceholder(p),o.setInputAriaLabel(u)})}setElementValue(e,t,n){e instanceof Ir&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){aS(e)&&ht(e.getGui(),t)}setElementDisabled(e,t){aS(e)&&Vl(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Ir&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const o=es(t,this.optionsFactory),i=this.getInputs(e);for(let r=0;r<i.length;r++){const s=i[r];s!=null&&n(s,r,e,o)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return es(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null)||this.positionHasInvalidInputs(e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,o,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(o),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((o,i,r)=>{r===t&&this.setElementValue(o,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,o)=>{this.setElementValue(t,n===0&&o===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}positionHasInvalidInputs(e){return!1}isReadOnly(){return!!this.params.readOnly}},hC=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function Qf(e){return e?.allowedCharPattern??null}function yF(e,t){const{filter:n,filterTo:o,type:i}=e||{};return[Mn(n),Mn(o)].slice(0,es(i,t))}var HW=class extends ih{constructor(){super("bigintFilter",yF,hC),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="bigint",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!ua()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){const t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){const{bigintParser:o}=this.params,i=this.getParsedValue(e,o),r=this.getParsedValue(t,o),s=this.isInvalidValue(e,i),l=this.isInvalidValue(t,r),u=n?e:t,d=n?t:e,p=n?s:l,g=n?l:s;let m="";if(p)m=this.getLocaleTextFunc()("invalidBigInt","Invalid BigInt");else if(!s&&!l){const C=GW(i,r,n);C&&(m=this.translate(C,[String(n?t.getValue():e.getValue())]))}u.setCustomValidity(m),g||d.setCustomValidity(""),m.length>0&&this.beans.ariaAnnounce.announceValue(m,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){const t=super.refresh(e),{state:n,additionalEventAttributes:o}=e,i=this.state,r=o?.fromAction;return(r&&r!="apply"||n.model!==i.model||!this.areStatesEqual(n.state,i.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){super.setElementValue(e,t,n),t===null&&e.setCustomValidity("")}createEValue(){const{params:e,eValuesFrom:t,eValuesTo:n}=this,o=Qf(e),i=Vn({tag:"div",cls:"ag-filter-body",role:"presentation"}),r=this.createFromToElement(i,t,"from",o),s=this.createFromToElement(i,n,"to",o),l=(p,g,m)=>()=>this.refreshInputPairValidation(p,g,m),u=l(r,s,!0);r.onValueChange(u),r.addGuiEventListener("focusin",u);const d=l(r,s,!1);return s.onValueChange(d),s.addGuiEventListener("focusin",d),i}createFromToElement(e,t,n,o){const i=this.createManagedBean(o?new Ci({allowedCharPattern:o}):new Ci);return i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui()),i}removeEValues(e,t){const n=o=>this.removeComponents(o,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,o,i,r)=>{o<r&&t.push(Mn(n.getValue()??null))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},o=this.getValues(e);return o.length>0&&(n.filter=String(o[0])),o.length>1&&(n.filterTo=String(o[1])),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!n.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}getParsedValue(e,t){const n=e.getValue();return n==null||typeof n=="string"&&n.trim()===""?null:t?t(n):Mn(n)}isInvalidValue(e,t){const n=e.getValue();return n!=null&&String(n).trim()!==""&&t===null}};function GW(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?"Max":"Min"}ValueValidation`:null}var SF=class extends ee{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new dC;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,o=[];if(n){const s=t;o.push(...s.conditions??[])}else o.push(t);const i=n&&n==="OR"?"some":"every",r=this.params.getValue(e.node);return o[i](s=>this.individualConditionPasses(e,s,r))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:o}}=e;if(t==null)return;let r=zR(t)?t.conditions:[t];const s=n?.map(p=>typeof p=="string"?p:p.displayKey)??this.defaultOptions;if(!(!r||r.every(p=>s.find(g=>g===p.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let u=!1;const d=this.filterType;if((r&&!r.every(p=>p.filterType===d)||t.filterType!==d)&&(r=r.map(p=>({...p,filterType:d})),u=!0),typeof o=="number"&&r&&r.length>o&&(r=r.slice(0,o),u=!0),u){const p=r.length>1?{...t,filterType:d,conditions:r}:{...r[0],filterType:d};this.params={...e,model:p},e.onModelChange(p)}}individualConditionPasses(e,t,n){const o=this.optionsFactory,i=this.mapValuesFromModel(t,o),r=o.getCustomOption(t.type),s=OW(r,i,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},pC=class extends SF{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:o,includeBlanksInLessThan:i,includeBlanksInRange:r}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(o)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(r)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const o=n.type;if(!this.isValid(t))return o==="notEqual"||o==="notBlank";const i=this.comparator(),r=e[0]!=null?i(e[0],t):0;switch(o){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const s=i(e[1],t);return this.params.filterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case"blank":return Id(t);case"notBlank":return!Id(t);default:return oe(76,{filterModelType:o}),!0}}},gC={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},VW={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},rh=class extends ee{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),o=t==="filterToolPanel";if(!e)return o?go(this,"filterSummaryInactive"):null;if(e.operator!=null){const r=e,l=(r.conditions??[]).map(d=>this.getModelAsString(d,t)),u=r.operator==="AND"?"andCondition":"orCondition";return l.join(` ${go(this,u)} `)}else{if(e.type==="blank"||e.type==="notBlank")return o?go(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const r=e,s=this.optionsFactory.getCustomOption(r.type),{displayKey:l,displayName:u,numberOfInputs:d}=s||{};return l&&u&&d===0?n(l,u):this.conditionToString(r,o,r.type==="inRange"||d===2,l,u)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,o,i,r){let s;const l=this.getTypeKey(e);return l&&(s=go(this,l)),i&&r&&(s=this.getLocaleTextFunc()(i,r)),s!=null?t?`${s} ${go(this,"filterSummaryInRangeValues",[n(),o()])}`:`${s} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},bF=class extends rh{constructor(e,t){super(e,t,t.bigintFormatter),this.filterTypeKeys=gC}conditionToString(e,t,n,o,i){const{filter:r,filterTo:s,type:l}=e,u=this.formatValue.bind(this),d=Mn(r),p=Mn(s);if(t){const g=this.conditionForToolPanel(l,n,()=>u(d),()=>u(p),o,i);if(g!=null)return g}return n?`${u(d)}-${u(p)}`:r!=null?u(d):`${l}`}},WW=class extends pC{constructor(){super(yF,hC),this.filterType="bigint",this.FilterModelFormatterClass=bF}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return Mn(e)!==null}},fC=class extends ee{constructor(e){super(),this.params=e,this.eInput=Ce,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Ci(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=o=>this.onValueChanged(o);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){const{eInput:o}=this;o.setInputAriaLabel(e),t!==void 0&&o.setAutoComplete(t),o.toggleCss("ag-floating-filter-search-icon",!!n),o.setInputPlaceholder(n)}};function Xf(e){const t=e?.trim();return t===""?e:t}function RF(e,t){const{filter:n,filterTo:o,type:i}=e||{};return[n||null,o||null].slice(0,es(i,t))}var xF=class extends kt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new dC;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const o=this.isTypeEditable(n);this.setEditable(o)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:o,model:i}=t;if(o==="dataChanged"||o==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}isTypeEditable(e){return!!e&&!this.readOnly&&es(e,this.optionsFactory)===1}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},zW={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},mC=class extends xF{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ce,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(zW)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const{inputSvc:t,defaultDebounceMs:n,readOnly:o}=this,{filterPlaceholder:i,column:r,browserAutoComplete:s,filterParams:l}=e,u=this.lastType??this.optionsFactory.defaultOption,d=e.filterParams.filterPlaceholder,p=i===!0?WR(this,d,"filterOoo",u):i||void 0;if(t.setParams({ariaLabel:this.getAriaLabel(r),autoComplete:s??!1,placeholder:p}),this.applyActive=Yd(l),!o){const g=Hm(l,n);t.setValueChangedListener(qt(this,this.syncUpWithParentFilter.bind(this),g))}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Tn(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===q.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:o,params:i,lastType:r}=this;let s=o.getValue();if(i.filterParams.trimInput&&(s=Xf(s),o.setValue(s,!0)),n){const l=i,u=l.model,d=this.convertValue(s),p=d==null?null:{...u??{filterType:this.filterType,type:r??this.optionsFactory.defaultOption},filter:d};l.onModelChange(p,{afterFloatingFilter:!0})}else i.parentFilterInstance(l=>{l?.onFloatingFilterChanged(r||null,s||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},_W=class extends mC{constructor(){super(...arguments),this.FilterModelFormatterClass=bF,this.filterType="bigint",this.defaultOptions=hC}updateParams(e){const t=e.filterParams;Qf(t)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),this.bigintParser=t?.bigintParser,super.updateParams(e)}createFloatingFilterInputService(e){const t=e.filterParams;this.allowedCharPattern=Qf(t),this.bigintParser=t?.bigintParser;const n=this.allowedCharPattern?{allowedCharPattern:this.allowedCharPattern}:void 0;return this.createManagedBean(new fC({config:n}))}convertValue(e){return e==null||e===""?null:this.bigintParser?this.bigintParser(e):Mn(e)}},yb=".ag-input-field-input",FF=class{constructor(e,t,n,o,i,r){this.context=e,this.eParent=i,this.alive=!0,this.debouncedReport=qt({isAlive:()=>this.alive},Sb,500),this.timeoutHandle=null,AM(t,n,o)?.newAgStackInstance().then(l=>{if(!this.alive){e.destroyBean(l);return}if(this.dateComp=l,!l)return;i.appendChild(l.getGui()),l?.afterGuiAttached?.();const{tempValue:u,disabled:d}=this;u&&l.setDate(u),d!=null&&l.setDisabled?.(d),r?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){ht(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}setCustomValidity(e,t=!1){const n=this.dateComp?.getGui().querySelector(yb);if(n&&"setCustomValidity"in n){const o=e.length>0;n.setCustomValidity(e),o?t?this.timeoutHandle=this.debouncedReport(n):Sb(n):this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),xm(n,o)}}getValidity(){return this.dateComp?.getGui().querySelector(yb)?.validity}};function Sb(e){e.reportValidity()}var CC=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function PF(e,t){const{dateFrom:n,dateTo:o,type:i}=e||{};return[n&&fn(n,void 0,!0)||null,o&&fn(o,void 0,!0)||null].slice(0,es(i,t))}var bb=1e3,Rb=1/0,$W=class extends ih{constructor(){super("dateFilter",PF,CC),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=bb,this.maxValidYear=Rb,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!ua()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(u,d)=>{const p=e[u];if(p!=null)if(isNaN(p))oe(82,{param:u});else return p==null?d:Number(p);return d},n=t("minValidYear",bb),o=t("maxValidYear",Rb);this.minValidYear=n,this.maxValidYear=o,n>o&&oe(83);const{minValidDate:i,maxValidDate:r}=e,s=i instanceof Date?i:fn(i);this.minValidDate=s;const l=r instanceof Date?r:fn(r);this.maxValidDate=l,s&&l&&s>l&&oe(84)}refreshInputValidation(){for(let e=0;e<this.dateConditionFromComps.length;e++)this.refreshInputPairValidation(e,!1,!0)}refreshInputPairValidation(e,t=!1,n=!1){const{dateConditionFromComps:o,dateConditionToComps:i,beans:r}=this,s=o[e],l=i[e],u=s.getDate(),d=l.getDate(),p=UW(u,d,t),g=p?this.translate(p,[String(t?d:u)]):"",m=!ua()&&!n;(t?s:l).setCustomValidity(g,m),(t?l:s).setCustomValidity("",m),g.length>0&&r.ariaAnnounce.announceValue(g,"dateFilter")}createDateCompWrapper(e,t,n){const{beans:{userCompFactory:o,context:i,gos:r},params:s}=this,l=n==="from",u=new FF(i,o,s.colDef,ke(r,{onDateChanged:()=>{this.refreshInputPairValidation(t,l),this.onUiChanged()},onFocusIn:()=>this.refreshInputPairValidation(t,l),filterParams:s,location:"filter"}),e);return this.addDestroyFunc(()=>u.destroy()),u}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}setElementValue(e,t){e.setDate(t),t||e.setCustomValidity("")}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Vn({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,o){const i=Vn({tag:"div",cls:`ag-filter-${o} ag-filter-date-${o}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i,t.length-1,o))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Ll(this.eConditionPanelsFrom,e,t),Ll(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){const o=Ll(e,t,n);for(const i of o)i.destroy()}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:o,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<o)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=t.getDate()!=null&&!(t.getValidity()?.valid??!0))),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!(n.getValidity()?.valid??!0))),t}canApply(e){return!this.hasInvalidInputs()}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachPositionInput(e,(n,o,i,r)=>{!t||o>=r||t&&(t=this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},{params:o,filterType:i}=this,r=this.getValues(e),s=o.useIsoSeparator?"T":" ";return r.length>0&&(n.dateFrom=gn(r[0],!0,s)),r.length>1&&(n.dateTo=gn(r[1],!0,s)),{dateFrom:null,dateTo:null,filterType:i,type:t,...n}}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(o=>{o.setInputPlaceholder(t),o.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,o,i,r)=>{o<r&&t.push(n.getDate())}),t}translate(e,t){let n=e;return e==="lessThan"?n="before":e==="greaterThan"&&(n="after"),super.translate(n,t)}};function UW(e,t,n){return e!=null&&t!=null&&e>=t?`${n?"max":"min"}DateValidation`:null}var EF=class extends rh{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:o,valueSvc:i}=this.beans,r=t.column,s=o?.getDateFormatterFunction(r),l=s?s(n??void 0):n;return i.formatValue(r,null,l)}),this.filterTypeKeys=gC}conditionToString(e,t,n,o,i){const{type:r}=e,s=fn(e.dateFrom),l=fn(e.dateTo),u=this.filterParams.inRangeFloatingFilterDateFormat,d=t?this.formatValue.bind(this):m=>zL(m,u),p=()=>s!==null?d(s):"null",g=()=>l!==null?d(l):"null";if(s==null&&l==null)return go(this,r);if(t){const m=this.conditionForToolPanel(r,n,p,g,o,i);if(m!=null)return m}return n?`${p()}-${g()}`:s!=null?d(s):`${r}`}};function jW(e,t){const n=t;return n<e?-1:n>e?1:0}var KW=class extends pC{constructor(){super(PF,CC),this.filterType="date",this.FilterModelFormatterClass=EF,this.filterTypeToRangeCache=new Map}getOrRefreshRangeCacheItem(e,t){const{filterTypeToRangeCache:n}=this,o=Date.now();let i=n.get(e);if(i&&i.expires<o&&(i=void 0),!i){const[r,s]=t(new Date(o),new Date(o));i={from:r,to:s,expires:to(new Date(o)).getTime()-o},n.set(e,i)}return i}comparator(){return this.params.filterParams.comparator??jW}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}evaluateNonNullValue(e,t,n){const o=n.type,i=this.comparator();if(!this.isValid(t))return o==="notEqual"||o==="notBlank";const r=o,s=pz[r];if(s){const{from:l,to:u}=this.getOrRefreshRangeCacheItem(r,s);return i(l,t)>=0&&i(u,t)<0}return super.evaluateNonNullValue(e,t,n)}},qW=1,Nu=null,YW=()=>{if(Nu!=null)return Nu;let e;const t=typeof navigator>"u"?void 0:navigator.languages?.[0]??navigator.language;if(t&&typeof Intl<"u"&&typeof Intl.Locale=="function")try{e=new Intl.Locale(t).getWeekInfo?.()?.firstDay}catch{e=void 0}return Nu=e==null?qW:e%7,Nu},Wn=e=>(e.setHours(0,0,0,0),e),sh=e=>{const t=e.getDay(),n=YW(),o=(t-n+7)%7;return e.setDate(e.getDate()-o),Wn(e)},ah=(e,t=1)=>(e.setDate(e.getDate()-t),e),to=e=>(e.setDate(e.getDate()+1),Wn(e)),DF=e=>(sh(e),e.setDate(e.getDate()+6),to(e)),lh=e=>(e.setDate(1),Wn(e)),vC=e=>(e.setDate(1),e.setMonth(e.getMonth()+1),Wn(e)),wC=e=>{const t=Math.floor(e.getMonth()/3);return e.setMonth(t*3),lh(e)},TF=e=>{const t=Math.floor(e.getMonth()/3);return e.setMonth(t*3+2),vC(e)},yC=e=>(e.setMonth(0,1),Wn(e)),MF=e=>(e.setMonth(12,0),to(e)),ga=e=>ah(e),Zf=e=>ga(sh(e)),Jf=e=>ga(lh(e)),em=e=>ga(wC(e)),SC=(e,t)=>[Wn(e),to(t)],QW=(e,t)=>SC(ga(e),ga(t)),bC=(e,t)=>[sh(e),DF(t)],XW=(e,t)=>bC(Zf(e),Zf(t)),RC=(e,t)=>[lh(e),vC(t)],ZW=(e,t)=>RC(Jf(e),Jf(t)),xC=(e,t)=>[wC(e),TF(t)],JW=(e,t)=>xC(em(e),em(t)),FC=(e,t)=>[yC(e),MF(t)],ez=(e,t)=>[yC(e),to(t)],tz=(e,t)=>[Wn(ah(e,7)),to(t)],nz=(e,t)=>[Wn(ah(e,30)),to(t)],oz=(e,t)=>[Wn(ah(e,90)),to(t)],iz=(e,t)=>(e.setFullYear(e.getFullYear()-1),e.setMonth(e.getMonth()+6),[Wn(e),to(t)]),rz=(e,t)=>(e.setFullYear(e.getFullYear()-1),[Wn(e),to(t)]),sz=(e,t)=>(e.setFullYear(e.getFullYear()-2),[Wn(e),to(t)]),az=(e,t)=>(e.setFullYear(e.getFullYear()-1),t.setFullYear(t.getFullYear()-1),FC(e,t)),lz=(e,t)=>(e.setFullYear(e.getFullYear()+1),t.setFullYear(t.getFullYear()+1),FC(e,t)),cz=(e,t)=>(e.setMonth(e.getMonth()+3),t.setMonth(t.getMonth()+3),xC(e,t)),uz=(e,t)=>(e.setMonth(e.getMonth()+1),t.setMonth(t.getMonth()+1),RC(e,t)),dz=(e,t)=>(e.setDate(e.getDate()+7),t.setDate(t.getDate()+7),bC(e,t)),hz=(e,t)=>(e.setDate(e.getDate()+1),t.setDate(t.getDate()+1),SC(e,t)),pz={today:SC,yesterday:QW,tomorrow:hz,thisWeek:bC,lastWeek:XW,nextWeek:dz,thisMonth:RC,lastMonth:ZW,nextMonth:uz,thisQuarter:xC,lastQuarter:JW,nextQuarter:cz,thisYear:FC,lastYear:az,nextYear:lz,yearToDate:ez,last7Days:tz,last30Days:nz,last90Days:oz,last6Months:iz,last12Months:rz,last24Months:sz,setStartOfDay:Wn,setStartOfWeek:sh,setStartOfNextDay:to,setStartOfNextWeek:DF,setStartOfMonth:lh,setStartOfNextMonth:vC,setStartOfQuarter:wC,setStartOfNextQuarter:TF,setStartOfYear:yC,setStartOfNextYear:MF,setPreviousDay:ga,setPreviousWeek:Zf,setPreviousMonth:Jf,setPreviousQuarter:em},gz={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},fz=class extends xF{constructor(){super(gz,[nh]),this.eReadOnlyText=Ce,this.eDateWrapper=Ce,this.FilterModelFormatterClass=EF,this.filterType="date",this.defaultOptions=CC}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?fn(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){ht(this.eDateWrapper,e),ht(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,o=gn(e),i=o==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:o};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=Hm(e,this.defaultDebounceMs);return ke(this.gos,{onDateChanged:qt(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:{column:o}}=this;this.dateComp=new FF(e,t,o.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(o))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},mz={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},Cz=class extends kt{constructor(){super(mz,[nh]),this.eDateInput=Ce,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this),focusin:this.handleFocusIn.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}handleFocusIn(){this.params.onFocusIn?.()}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&sr();const{minValidYear:o,maxValidYear:i,minValidDate:r,maxValidDate:s,buttons:l,includeTime:u,colDef:d}=e.filterParams||{},p=this.beans.dataTypeSvc,g=u??p?.getDateIncludesTimeFlag?.(d.cellDataType)??!1;n?g?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text";const m=xb(r,o,!0),C=xb(s,i,!1);m&&C&&m.getTime()>C.getTime()&&oe(87),m&&(t.min=gn(m,g)),C&&(t.max=gn(C,g)),this.isApply=e.location==="floatingFilter"&&!!l?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return fn(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(gn(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}};function xb(e,t,n){return e&&t&&oe(n?85:86),e instanceof Date?e:e?fn(e):t?fn(`${t}-${n?"01-01":"12-31"}`):null}var PC=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function tm(e){return e?.allowedCharPattern??null}function Ad(e){return e==null||isNaN(e)?null:e}function kF(e,t){const{filter:n,filterTo:o,type:i}=e||{};return[Ad(n),Ad(o)].slice(0,es(i,t))}var vz=class extends ih{constructor(){super("numberFilter",kF,PC),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!ua()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){const t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){const o=this.params.numberParser,i=Fb(o,e),r=Fb(o,t),s=wz(i,r,n),l=s?this.translate(s,[String(n?r:i)]):"";(n?e:t).setCustomValidity(l),(n?t:e).setCustomValidity(""),l.length>0&&this.beans.ariaAnnounce.announceValue(l,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){const t=super.refresh(e),{state:n,additionalEventAttributes:o}=e,i=this.state,r=o?.fromAction;return(r&&r!="apply"||n.model!==i.model||!this.areStatesEqual(n.state,i.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){const{numberFormatter:o}=this.params,i=!n&&o?o(t??null):t;super.setElementValue(e,i),i===null&&e.setCustomValidity("")}createEValue(){const{params:e,eValuesFrom:t,eValuesTo:n}=this,o=tm(e),i=Vn({tag:"div",cls:"ag-filter-body",role:"presentation"}),r=this.createFromToElement(i,t,"from",o),s=this.createFromToElement(i,n,"to",o),l=(p,g,m)=>()=>this.refreshInputPairValidation(p,g,m),u=l(r,s,!0);r.onValueChange(u),r.addGuiEventListener("focusin",u);const d=l(r,s,!1);return s.onValueChange(d),s.addGuiEventListener("focusin",d),i}createFromToElement(e,t,n,o){const i=this.createManagedBean(o?new Ci({allowedCharPattern:o}):new cC);return i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui()),i}removeEValues(e,t){const n=o=>this.removeComponents(o,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,o,i,r)=>{o<r&&t.push(Ad(IF(this.params.numberParser,n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},o=this.getValues(e);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!n.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}};function IF(e,t){if(typeof t=="number")return t;let n=di(t);return n!=null&&n.trim()===""&&(n=null),e?e(n):n==null||n.trim()==="-"?null:Number.parseFloat(n)}function Fb(e,t){return Ad(IF(e,t.getValue(!0)))}function wz(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?"Max":"Min"}ValueValidation`:null}var AF=class extends rh{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=gC}conditionToString(e,t,n,o,i){const{filter:r,filterTo:s,type:l}=e,u=this.formatValue.bind(this);if(t){const d=this.conditionForToolPanel(l,n,()=>u(r),()=>u(s),o,i);if(d!=null)return d}return n?`${u(r)}-${u(s)}`:r!=null?u(r):`${l}`}},yz=class extends pC{constructor(){super(kF,PC),this.filterType="number",this.FilterModelFormatterClass=AF}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},Sz=class extends ee{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new cC),this.eTextInput=this.createManagedBean(new Ci),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,o=>this.onValueChanged(o)),this.setupListeners(n,o=>this.onValueChanged(o))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){this.setAriaLabel(e),t!==void 0&&this.setAutoComplete(t),this.setPlaceholder(this.eNumberInput,n),this.setPlaceholder(this.eTextInput,n)}setPlaceholder(e,t){e.toggleCss("ag-floating-filter-search-icon",!!t),e.setInputPlaceholder(t)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},bz=class extends mC{constructor(){super(...arguments),this.FilterModelFormatterClass=AF,this.filterType="number",this.defaultOptions=PC}updateParams(e){tm(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=tm(e.filterParams),this.allowedCharPattern?this.createManagedBean(new fC({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Sz)}convertValue(e){return e?Number(e):null}},EC=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Rz=class extends ih{constructor(){super("textFilter",RF,EC),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},o=this.getValues(e);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,o,i,r)=>{o<r&&t.push(di(n.getValue()))}),t}createEValue(){const e=Vn({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const o=this.createManagedBean(new Ci);o.addCss(`ag-filter-${n}`),o.addCss("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t),{eValuesFrom:o,eValuesTo:i}=this;n(o),n(i)}},LF=class extends rh{constructor(){super(...arguments),this.filterTypeKeys=VW}conditionToString(e,t,n,o,i){const{filter:r,filterTo:s,type:l}=e;if(t){const u=p=>()=>go(this,"filterSummaryTextQuote",[p]),d=this.conditionForToolPanel(l,n,u(r),u(s),o,i);if(d!=null)return d}return n?`${r}-${s}`:r!=null?`${r}`:`${l}`}},xz=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.includes(n);case"notContains":return!t.includes(n);case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const o=t.lastIndexOf(n);return o>=0&&o===t.length-n.length}default:return!1}},Fz=e=>e,Pz=e=>e==null?null:e.toString().toLowerCase(),Ez=class extends SF{constructor(){super(RF,EC),this.filterType="text",this.FilterModelFormatterClass=LF}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??xz,this.formatter=t.textFormatter??(t.caseSensitive?Fz:Pz)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,o){const i=e.map(m=>this.formatter(m))||[],r=this.formatter(t),{api:s,colDef:l,column:u,context:d,filterParams:{textFormatter:p}}=this.params;if(n.type==="blank")return Id(t);if(n.type==="notBlank")return!Id(t);const g={api:s,colDef:l,column:u,context:d,node:o.node,data:o.data,filterOption:n.type,value:r,textFormatter:p};return i.some(m=>this.matcher({...g,filterText:m}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=n=>{const o={...n},{filter:i,filterTo:r}=n;return i&&(o.filter=Xf(i)??null),r&&(o.filterTo=Xf(r)??null),o};return zR(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},Dz=class extends mC{constructor(){super(...arguments),this.FilterModelFormatterClass=LF,this.filterType="text",this.defaultOptions=EC}createFloatingFilterInputService(){return this.createManagedBean(new fC)}};function Tz(e){return!!e.quickFilter?.isFilterPresent()}function Mz(e){return e.quickFilter?.getText()}function kz(e){e.quickFilter?.resetCache()}var Iz=class extends ee{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:o}=this.beans,i=t.isPivotMode(),r=e?.getColumns(),s=t.getColDefCols();let l=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?o?.getPivotResultCols()?.list:s)??[];r&&(l=l.concat(r)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?l:l.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return de(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){oe(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const o=this.getTextForColumn(n,e);return de(o)&&o.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:o,matcher:i}=this;return i(o,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const o=e.getColDef();if(o.getQuickFilterText){const i=ke(this.gos,{value:n,node:t,data:t.data,column:e,colDef:o});n=o.getQuickFilterText(i)}return de(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];for(const n of this.colsToUse){const o=this.getTextForColumn(n,e);de(o)&&t.push(o)}return t.join(`
`)}},Az={moduleName:"ClientSideRowModelFilter",version:ue,rowModels:["clientSide"],beans:[AH]},DC={moduleName:"FilterCore",version:ue,beans:[DW],apiFunctions:{isAnyFilterPresent:PW,onFilterChanged:EW},css:[rW],dependsOn:[Az]},OF={moduleName:"FilterValue",version:ue,beans:[MW]},ac={moduleName:"ColumnFilter",version:ue,beans:[FW,TW],dynamicBeans:{headerFilterCellCtrl:eW},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:sW,getColumnFilterInstance:aW,destroyFilter:lW,setFilterModel:cW,getFilterModel:uW,getColumnFilterModel:dW,setColumnFilterModel:hW,showColumnFilter:pW,hideColumnFilter:gW,getColumnFilterHandler:fW,doFilterAction:mW},dependsOn:[DC,th,OF,iW]},Lz={moduleName:"CustomFilter",version:ue,userComponents:{agReadOnlyFloatingFilter:IW},dependsOn:[ac]},Oz={moduleName:"TextFilter",version:ue,dependsOn:[ac],userComponents:{agTextColumnFilter:{classImp:Rz,params:{useForm:!0}},agTextColumnFloatingFilter:Dz},dynamicBeans:{agTextColumnFilterHandler:Ez}},Nz={moduleName:"NumberFilter",version:ue,dependsOn:[ac],userComponents:{agNumberColumnFilter:{classImp:vz,params:{useForm:!0}},agNumberColumnFloatingFilter:bz},dynamicBeans:{agNumberColumnFilterHandler:yz}},Bz={moduleName:"BigIntFilter",version:ue,dependsOn:[ac],userComponents:{agBigIntColumnFilter:{classImp:HW,params:{useForm:!0}},agBigIntColumnFloatingFilter:_W},dynamicBeans:{agBigIntColumnFilterHandler:WW}},Hz={moduleName:"DateFilter",version:ue,dependsOn:[ac],userComponents:{agDateColumnFilter:{classImp:$W,params:{useForm:!0}},agDateInput:Cz,agDateColumnFloatingFilter:fz},dynamicBeans:{agDateColumnFilterHandler:KW}},Gz={moduleName:"QuickFilterCore",version:ue,rowModels:["clientSide"],beans:[Iz],dependsOn:[DC,OF]},Vz={moduleName:"QuickFilter",version:ue,apiFunctions:{isQuickFilterPresent:Tz,getQuickFilter:Mz,resetQuickFilter:kz},dependsOn:[Gz]},Wz={moduleName:"ExternalFilter",version:ue,dependsOn:[DC]},zz=class extends ee{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:o,rowNodes:i}=this;for(let r=0;r<e;r++){const s=n+r,l=new nr(o);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(s),l.setRowTop(t*s),i.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:o}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:o}}}setDataAndId(e,t,n){de(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Pt(this.params.datasource.getRows)){oe(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:o,filterModel:i},gos:r}=this;return ke(r,{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:o,filterModel:i})}forEachNode(e,t,n){this.rowNodes.forEach((o,i)=>{this.startRow+i<n&&e(o,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,r)=>{const s=e.rowData?e.rowData[r]:void 0;!i.id&&i.alreadyRendered&&s&&(t[r]=new nr(n),t[r].setRowIndex(i.rowIndex),t[r].setRowTop(i.rowTop),t[r].setRowHeight(i.rowHeight),i._destroy(!0)),this.setDataAndId(t[r],s,this.startRow+r)});const o=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,o)}destroy(){const e=this.rowNodes;for(let t=0,n=e.length;t<n;t++)e[t]._destroy(!1);e.length=0,super.destroy()}},_z=2,$z=class extends ee{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let o=this.blocks[n];if(!o){if(t)return;o=this.createBlock(n)}return o.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new zz(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(const t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(const e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Kr(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(s=>s!=e),n=(s,l)=>l.lastAccessed-s.lastAccessed;t.sort(n);const o=this.params.maxBlocksInCache>0,i=o?this.params.maxBlocksInCache-1:null,r=_z-1;t.forEach((s,l)=>{const u=s.state==="needsLoading"&&l>=r,d=o?l>=i:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:o}=e;return t.rowIndex>=n&&t.rowIndex<o}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:o}=this.params,r=(e.id+1)*n+o;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,de(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};for(const n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){const e=(n,o)=>n.id-o.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];for(const t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(const t of e)this.destroyBlock(t)}purgeCache(){for(const e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let o=-1,i=!1;const r={value:0};let s=!1;for(const u of this.getBlocksInOrder())if(!s){if(i&&o+1!==u.id){s=!0;continue}o=u.id,u.forEachNode(d=>{const p=d===e||d===t;(i||p)&&n.push(d),p&&(i=!i)},r,this.rowCount)}return s||i?[]:n}},Uz=class extends ee{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;const e=this.beans,t=new nr(e);this.rootNode=t,t.level=-1,this.rowHeight=Gr(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Gr(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Hl(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getOverlayType(){return this.infiniteCache?.getRowCount()===0?this.beans.filterManager?.isAnyFilterPresent()?"noMatchingRows":"noRows":null}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;la(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:o,eventSvc:i,gos:r}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:o,initialRowCount:r.get("infiniteInitialRowCount"),maxBlocksInCache:r.get("maxBlocksInCache"),rowHeight:Gr(e),overflowSize:r.get("cacheOverflowSize"),blockSize:r.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new $z(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function jz(e){Jd(e)?.refreshCache()}function Kz(e){Jd(e)?.purgeCache()}function qz(e){return Jd(e)?.getRowCount()}var Yz=class extends ee{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=lT(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=qt(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Uo(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Kr(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(const n of t)n.load();this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:o}=t.getBlockStateJson();e[n]=o}),e}printCacheStatus(){Kr(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},Qz={moduleName:"InfiniteRowModelCore",version:ue,rowModels:["infinite"],beans:[Uz,Yz]},Xz={moduleName:"InfiniteRowModel",version:ue,apiFunctions:{refreshInfiniteCache:jz,purgeInfiniteCache:Kz,getInfiniteRowCount:qz},dependsOn:[Qz,PH]},Zz=class extends ee{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,o=!Ju.has(e),i=o?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addListener(e,n,o)}removeListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(n);i||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeListener(e,n,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(r,s)=>{Ju.has(r)&&t(r,s)},o=(r,s)=>{Ju.has(r)||t(r,s)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:o});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(o,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:o}=this,i=n?.unwrapGlobal(e)??e;if(o.has(i)){const{syncListener:s,asyncListener:l}=o.get(i);t.removeGlobalListener(s,!1),t.removeGlobalListener(l,!0),o.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,o)=>{n.forEach(i=>this.eventSvc.removeListener(o,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){for(const n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:o})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(o,!0)}),e.clear()}};function Jz(e,t,n){e.apiEventSvc?.addListener(t,n)}function e5(e,t,n){e.apiEventSvc?.removeListener(t,n)}function t5(e,t){e.apiEventSvc?.addGlobalListener(t)}function n5(e,t){e.apiEventSvc?.removeGlobalListener(t)}var o5={moduleName:"EventApi",version:ue,apiFunctions:{addEventListener:Jz,addGlobalListener:t5,removeEventListener:e5,removeGlobalListener:n5},beans:[Zz]},i5=class extends ee{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?L1(t):O1(e.get("localeText"))}},r5={moduleName:"Locale",version:ue,beans:[i5]};function s5(e){return e.stateSvc?.getState()??{}}function a5(e,t,n){return e.stateSvc?.setState(t,n)}function Pb(e){return e={...e},e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=l5(e)),e.version=ue,e}function l5(e){return e.cellSelection=c5(e,"rangeSelection"),e}function c5(e,t){if(e&&typeof e=="object")return e[t]}var u5=class extends ee{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=qt(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=qt(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=qt(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=Nt(e);const o=Pb(e.get("initialState")??{}),i=o.partialColumnState;delete o.partialColumnState,this.cachedState=o;const r=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>r(()=>this.setupStateOnGridReady(o))),(o.columnOrder||o.columnVisibility||o.columnSizing||o.columnPinning||o.columnGroup)&&n?.hideColumns("columnState");const[s,l,u]=this.addManagedEventListeners({newColumnsLoaded:({source:d})=>{d==="gridInitializing"&&(s(),r(()=>{this.setupStateOnColumnsInitialised(o,!!i),n?.revealColumns("columnState")}))},rowCountReady:()=>{l?.(),r(()=>this.setupStateOnRowCountReady(o))},firstDataRendered:()=>{u?.(),r(()=>this.setupStateOnFirstDataRendered(o))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=Pb(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const o="api",i=t?new Set(t):void 0;this.setGridReadyState(n,o,i),this.setColumnsInitialisedState(n,o,!!i,i),this.setRowCountState(n,o,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,o,i),this.stopSuppressEvents(o)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,o){this.setColumnState(e,t,n,o),this.setColumnGroupState(e,t,o),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=o=>()=>this.updateColumnState([o]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:o,rowGroupExpansion:i,ssrmRowGroupExpansion:r,rowSelection:s,pagination:l,rowPinning:u}=e,d=(g,m)=>!n?.has(g)&&(m||t==="api");d("filter",o)&&this.setFilterState(o),d("rowGroupExpansion",i)&&this.setRowGroupExpansionState(r,i,t),d("rowSelection",s)&&this.setRowSelectionState(s,t),d("pagination",l)&&this.setPaginationState(l,t),d("rowPinning",u)&&this.setRowPinningState(u);const p=this.updateCachedState.bind(this);p("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(p("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),p("rowGroupExpansion",void 0)):(p("rowGroupExpansion",this.getRowGroupExpansionState()),p("ssrmRowGroupExpansion",void 0)),p("rowSelection",this.getRowSelectionState()),p("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},o=()=>t("filter",this.getFilterState()),{gos:i,colFilter:r,selectableFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:o,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:l=>{(l.newPage||l.newPageSize)&&t("pagination",this.getPaginationState())},pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())}),r&&this.addManagedListeners(r,{filterStateChanged:o}),s&&this.addManagedListeners(s,{selectedFilterChanged:o})}setFirstDataRenderedState(e,t,n){const{scroll:o,cellSelection:i,focusedCell:r,columnOrder:s}=e,l=(p,g)=>!n?.has(p)&&(g||t==="api");l("focusedCell",r)&&this.setFocusedCellState(r),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",o)&&this.setScrollState(o),this.setColumnPivotState(!!s?.orderedColIds,t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();u("rangeSelection",d),u("cellSelection",d),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:o=>{if(o.finished){const i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState())})}getColumnState(){const e=this.beans;return tH(yd(e),e.colModel.isPivotMode())}setColumnState(e,t,n,o){const{sort:i,rowGroup:r,aggregation:s,pivot:l,columnPinning:u,columnVisibility:d,columnSizing:p,columnOrder:g}=e;let m=!1;const C=(V,F)=>{const B=!o?.has(V)&&!!(F||t==="api");return m||(m=B),B},w={},y=V=>{let F=w[V];return F||(F={colId:V},w[V]=F,F)},R={},x=C("sort",i);x&&i?.sortModel.forEach(({colId:V,sort:F},B)=>{const G=y(V);G.sort=F,G.sortIndex=B}),(x||!n)&&(R.sort=null,R.sortIndex=null);const E=C("rowGroup",r);E&&r?.groupColIds.forEach((V,F)=>{const B=y(V);B.rowGroup=!0,B.rowGroupIndex=F}),(E||!n)&&(R.rowGroup=null,R.rowGroupIndex=null);const P=C("aggregation",s);P&&s?.aggregationModel.forEach(({colId:V,aggFunc:F})=>{y(V).aggFunc=F}),(P||!n)&&(R.aggFunc=null);const M=C("pivot",l);M&&(l?.pivotColIds.forEach((V,F)=>{const B=y(V);B.pivot=!0,B.pivotIndex=F}),this.gos.updateGridOptions({options:{pivotMode:!!l?.pivotMode},source:t})),(M||!n)&&(R.pivot=null,R.pivotIndex=null);const T=C("columnPinning",u);if(T){for(const V of u?.leftColIds??[])y(V).pinned="left";for(const V of u?.rightColIds??[])y(V).pinned="right"}(T||!n)&&(R.pinned=null);const k=C("columnVisibility",d);if(k)for(const V of d?.hiddenColIds??[])y(V).hide=!0;(k||!n)&&(R.hide=null);const I=C("columnSizing",p);if(I)for(const{colId:V,flex:F,width:B}of p?.columnSizingModel??[]){const G=y(V);G.flex=F??null,G.width=B}(I||!n)&&(R.flex=null);const z=g?.orderedColIds,_=!!z?.length&&!o?.has("columnOrder"),$=_?z.map(V=>y(V)):Object.values(w);($.length||m)&&(this.columnStates=$,Co(this.beans,{state:$,applyOrder:_,defaultState:R},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const o=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:r,colGroupSvc:s}=i;if(r?.isPivotResultColsPresent()){if(n){const l=[];for(const u of n)r.getPivotResultCol(u.colId)&&l.push(u);Co(i,{state:l,applyOrder:e},t)}o&&s?.setColumnGroupState(o,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return nH(t)}setColumnGroupState(e,t,n){const o=this.beans.colGroupSvc;if(!o||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),s=o.getColumnGroupState().map(({groupId:l})=>{const u=i.has(l);return u&&i.delete(l),{groupId:l,open:u}});for(const l of i)s.push({groupId:l,open:!0});s.length&&(this.columnGroupStates=s),o.setColumnGroupState(s,t)}getFilterState(){const{filterManager:e,selectableFilter:t}=this.beans;let n=e?.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);const o=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0,r=t?.getState();return n||i||o||r?{filterModel:n,columnFilterState:o,advancedFilterModel:i,selectableFilters:r}:void 0}setFilterState(e){const{filterManager:t,selectableFilter:n}=this.beans,{filterModel:o,columnFilterState:i,advancedFilterModel:r,selectableFilters:s}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};s!==void 0&&n?.setState(s??{}),(o!==void 0||i!==void 0)&&t?.setFilterState(o??null,i??null,"columnFilter"),r!==void 0&&t?.setAdvFilterModel(r??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:o,startRow:i,endRow:r,columns:s,startColumn:l}=t;return{id:n,type:o,startRow:i,endRow:r,colIds:s.map(u=>u.getColId()),startColId:l.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:o,visibleCols:i}=this.beans;if(!er(t)||!n)return;const r=[];for(const s of e?.cellRanges??[]){const l=[];for(const d of s.colIds){const p=o.getCol(d);p&&l.push(p)}if(!l.length)continue;let u=o.getCol(s.startColId);if(!u){const d=i.allCols,p=new Set(l);u=d.find(g=>p.has(g))}r.push({...s,columns:l,startColumn:u})}n.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:o,rowRenderer:i,animationFrameSvc:r,ctrlsSvc:s}=this.beans;o.wrapIncoming(()=>{s.get("center").setCenterViewportScrollLeft(n),s.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),r?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:o}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:o}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:o,rowIndex:i,rowPinned:r}=e;t.setFocusedCell({column:n.getCol(o),rowIndex:i,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),o=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!o))return{page:n,pageSize:o}}setPaginationState(e,t){const{pagination:n,gos:o}=this.beans;if(!n)return;const{pageSize:i,page:r}=e??{page:0,pageSize:o.get("paginationPageSize")},s=t==="gridInitializing";i&&!o.get("paginationAutoPageSize")&&n.setPageSize(i,s?"initialState":"pageSizeSelector"),typeof r=="number"&&(s?n.setPage(r):n.goToPage(r))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,n){const o=this.beans.expansionSvc;if(!o)return;const i=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};o.setExpansionState(i,n)}updateColumnState(e){const t=this.getColumnState();let n=!1;const o=this.cachedState;for(const i of Object.keys(t)){const r=t[i];Hl(r,o[i])||(n=!0)}this.cachedState={...o,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Hl(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;for(const t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(const t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},d5={moduleName:"GridState",version:ue,beans:[u5],apiFunctions:{getState:s5,setState:a5}};function h5(e){return e.rowModel.isLastRowIndexKnown()}function p5(e){return e.pagination?.getPageSize()??100}function g5(e){return e.pagination?.getCurrentPage()??0}function f5(e){return e.pagination?.getTotalPages()??1}function m5(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function C5(e){e.pagination?.goToNextPage()}function v5(e){e.pagination?.goToPreviousPage()}function w5(e){e.pagination?.goToFirstPage()}function y5(e){e.pagination?.goToLastPage()}function S5(e,t){e.pagination?.goToPage(t)}var b5=class extends ee{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const o=Math.max(Gr(t),1),i=Math.floor(e/o);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?qt(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function R5(e,t){if(typeof e!="number")return"";const n=t(),o=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${o}`)}var hl="paginationPageSizeSelector",x5={tag:"span",cls:"ag-paging-page-size"},F5=class extends kt{constructor(){super(x5),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(hl,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Tn(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(hl)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),r=this.gos.get(hl)!==!0;oe(94,{pageSizeSet:i,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||oe(95,{paginationPageSizeOption:t,paginationPageSizeSelector:hl}),e.unshift("")}const o=String(n?"":t);this.selectPageSizeComp?(ir(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(o,!0)):this.createPageSizeSelectorComp(e,o),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),o=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new uC).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(o).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(hl);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,o)=>n-o)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},P5={selector:"AG-PAGE-SIZE-SELECTOR",component:F5},E5=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;flex-wrap:wrap-reverse;gap:calc(var(--ag-spacing)*4);justify-content:flex-end;min-height:var(--ag-pagination-panel-height);padding:calc(var(--ag-spacing)*.5) var(--ag-cell-horizontal-padding);row-gap:calc(var(--ag-spacing)*.5);@container (width < 600px){justify-content:center}}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel,.ag-paging-row-summary-panel{margin:calc(var(--ag-spacing)*.5)}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}.ag-paging-description{line-height:0}",D5=class extends NI{constructor(){super(),this.btFirst=Ce,this.btPrevious=Ce,this.btNext=Ce,this.btLast=Ce,this.lbRecordCount=Ce,this.lbFirstRowOnPage=Ce,this.lbLastRowOnPage=Ce,this.lbCurrent=Ce,this.lbTotal=Ce,this.pageSizeComp=Ce,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(E5)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[P5]);const{btFirst:t,btPrevious:n,btNext:o,btLast:i}=this;this.activateTabIndex([t,n,o,i]),t.insertAdjacentElement("afterbegin",En(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",En(e?"next":"previous",this.beans)),o.insertAdjacentElement("afterbegin",En(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",En(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):ak(this.beans,r),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(const e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:o=>{(o.key===q.ENTER||o.key===q.SPACE)&&(o.preventDefault(),n())}})}sk(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):R5(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const o=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||o,this.lastButtonDisabled=!t||o||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){c1(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),o=e?n:null,i=this.pagination.getCurrentPage(),r=this.pagination.getPageSize();let s,l;this.isZeroPagesToDisplay()?s=l=0:(s=r*i+1,l=s+r-1,e&&l>o&&(l=o));const u=s+r-1,d=!e&&n<u,p=this.formatNumber(s);this.lbFirstRowOnPage.textContent=p;let g;const m=this.getLocaleTextFunc();d?g=m("pageLastRowUnknown","?"):g=this.formatNumber(l),this.lbLastRowOnPage.textContent=g;const w=t>0?i+1:0,y=this.formatNumber(w);this.lbCurrent.textContent=y;let R,x;if(e)R=this.formatNumber(t),x=this.formatNumber(o);else{const E=m("more","more");R=E,x=E}this.lbTotal.textContent=R,this.lbRecordCount.textContent=x,this.announceAriaStatus(p,g,x,y,R)}announceAriaStatus(e,t,n,o,i){const r=this.getLocaleTextFunc(),s=r("page","Page"),l=r("to","to"),u=r("of","of"),d=`${e} ${l} ${t} ${u} ${n}`,p=`${s} ${o} ${u} ${i}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnounce?.announceValue(d,"paginationRow")),p!==this.ariaPageStatus&&(this.ariaPageStatus=p,this.ariaAnnounce?.announceValue(p,"paginationPage"))}},T5={selector:"AG-PAGINATION",component:D5},M5=100,k5=class extends ee{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return T5}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return de(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:de(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:de(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:de(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:M5}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,o=t-1;this.totalPages=Math.floor(o/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,r=n*i;let s=n*(i+1)-1;if(s>o&&(s=o),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(r),s===o)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,o=e-1;this.totalPages=Math.floor(o/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>o&&(this.bottomDisplayedRowIndex=o)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:o=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:o,keepRenderedRows:t})}},I5={moduleName:"Pagination",version:ue,beans:[k5,b5],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:h5,paginationGetPageSize:p5,paginationGetCurrentPage:g5,paginationGetTotalPages:f5,paginationGetRowCount:m5,paginationGoToNextPage:C5,paginationGoToPreviousPage:v5,paginationGoToFirstPage:w5,paginationGoToLastPage:y5,paginationGoToPage:S5},dependsOn:[th]},A5=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function L5(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function O5(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function N5(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function B5(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function H5(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var G5={moduleName:"PinnedRow",version:ue,beans:[Yk],css:[A5],apiFunctions:{getPinnedTopRowCount:L5,getPinnedBottomRowCount:O5,getPinnedTopRow:N5,getPinnedBottomRow:B5,forEachPinnedRow:H5},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},V5="",W5="",z5={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},_5=class extends kt{constructor(){super(z5),this.eValue=Ce,this.eDelta=Ce,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),o=e.formatValue(n),i=de(o)?o:n,r=t>=0,s=this.eDelta;r?s.textContent=V5+i:s.textContent=W5+i,s.classList.toggle("ag-value-change-delta-up",r),s.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Tn(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:o}=e,{eValue:i,lastValue:r,beans:s}=this;if(n===r||(de(o)?i.textContent=o:de(n)?i.textContent=n:Tn(i),s.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const l=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,u=r&&typeof r=="object"&&"toNumber"in r?r.toNumber():r;if(l===u)return!1;if(typeof l=="number"&&typeof u=="number"){const d=l-u;this.showDelta(e,d)}return r&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},$5=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",U5={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},j5=class extends kt{constructor(){super(U5),this.eCurrent=Ce,this.refreshCount=0,this.registerCSS($5)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious?.remove();const{beans:t,eCurrent:n}=this,o=Vn({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=o,o.textContent=n.textContent,this.getGui().insertBefore(o,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Pt(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const o=this.eCurrent;return de(e.valueFormatted)?o.textContent=e.valueFormatted:de(e.value)?o.textContent=n:Tn(o),!0}},K5=class extends ee{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),o=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const r=Date.now(),s=r+n,l=r+n+o,u={phase:"flash",flashEndTime:s,fadeEndTime:l};i.set(e,u);const d=`ag-cell-${t}`,p=`${d}-animation`,{comp:g,eGui:{style:m}}=e;g.toggleCss(d,!0),g.toggleCss(p,!1),m.removeProperty("transition"),m.removeProperty("transition-delay"),this.nextAnimationTime&&s+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=s)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const o=this.animations[n],i=`ag-cell-${n}`,r=`${i}-animation`;for(const[s,l]of o){if(!s.isAlive()||!s.comp){o.delete(s);continue}const{phase:u,flashEndTime:d,fadeEndTime:p}=l,g=u==="flash"?d:p;if(!(e+15>=g)){t=Math.min(g,t??1/0);continue}const{comp:C,eGui:{style:w}}=s;switch(u){case"flash":C.toggleCss(i,!1),C.toggleCss(r,!0),w.transition=`background-color ${p-d}ms`,w.transitionDelay=`${d-e}ms`,t=Math.min(p,t??1/0),l.phase="fade";break;case"fade":C.toggleCss(i,!1),C.toggleCss(r,!1),w.removeProperty("transition"),w.removeProperty("transition-delay"),o.delete(s);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=JM(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function q5(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(const o of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(o,t)})}var Y5={moduleName:"HighlightChanges",version:ue,beans:[K5],userComponents:{agAnimateShowChangeCellRenderer:_5,agAnimateSlideCellRenderer:j5},apiFunctions:{flashCells:q5}};function Q5(e,t,n){if(!t)return;const o=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?o.removeAttribute(i):o.setAttribute(i,n)}function X5(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Z5(e){e.frameworkOverrides.wrapIncoming(()=>{for(const t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function J5(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function e_(e){e.animationFrameSvc?.flushAllFrames()}function t_(e){return{rowHeight:Gr(e),headerHeight:nc(e)}}function n_(e,t={}){const n=[];for(const r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){const s=r.getCellRenderer();s!=null&&n.push(Zr(s))}if(t.columns?.length)return n;const o=[],i=Wf(t.rowNodes);for(const r of e.rowRenderer.getAllRowCtrls()){if(i&&!zf(r.rowNode,i)||!r.isFullWidth())continue;const s=r.getFullWidthCellRenderers();for(let l=0;l<s.length;l++){const u=s[l];u!=null&&o.push(Zr(u))}}return[...o,...n]}var o_={moduleName:"RenderApi",version:ue,apiFunctions:{setGridAriaProperty:Q5,refreshCells:X5,refreshHeader:Z5,isAnimationFrameQueueEmpty:J5,flushAllAnimationFrames:e_,getSizesForCurrentTheme:t_,getCellRendererInstances:n_}},i_=class extends ee{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=qt(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:o}=this.beans,i=e.autoHeightCols;let r=!1;const s=l=>{const u=l.__autoHeights;let d=Ji(this.beans,l).height;for(const p of i){let g=u?.[p.getColId()];const m=n?.getCellSpan(p,l);if(m){if(m.getLastNode()!==l)continue;if(g=n?.getCellSpan(p,l)?.getLastNodeAutoHeight(),!g)return}if(g==null){if(this.colSpanSkipCell(p,l))continue;return}d=Math.max(g,d)}d!==l.rowHeight&&(l.setRowHeight(d),r=!0)};o?.forEachPinnedRow?.("top",s),o?.forEachPinnedRow?.("bottom",s),t.forEachDisplayedNode?.(s),r&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const o=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,o!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:o,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let r=[];switch(e.getPinned()){case"left":r=i.getLeftColsForRow(t);break;case"right":r=i.getRightColsForRow(t);break;case null:r=o.getColsWithinViewport(t);break}return!r.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const o=t.parentElement,{rowNode:i,column:r}=e,s=this.beans,l=p=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:g,paddingBottom:m,borderBottomWidth:C,borderTopWidth:w}=ns(o),y=g+m+C+w,x=t.offsetHeight+y;if(p<5){const P=!_t(s)?.contains(t),M=x==0;if(P||M){window.setTimeout(()=>l(p+1),0);return}}this.setRowAutoHeight(i,x,r)},u=()=>l(0);u();const d=Si(s,t,u);return n.addDestroyFunc(()=>{d(),this.setRowAutoHeight(i,void 0,r)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const o of t){const i=n.__autoHeights[o.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},r_={moduleName:"RowAutoHeight",version:ue,beans:[i_]},s_=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(const n of this.spannedNodes)n!==this.lastNode&&(t+=n.rowHeight);return e-t}},a_=class extends ee{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:o,rowModel:i,valueSvc:r,pagination:s}}=this,{colDef:l}=t,u=this.getNodeMap(e),d=new Map,p=n.getCallback("isFullWidthRow"),g=l.equals,m=l.spanRows,C=typeof m=="function";let w=null,y=null,R;const x=(P,M)=>{w=P,y=null,R=M},E=P=>{const M=!P.isExpandable()&&!P.group&&!P.detail&&(p?!p({rowNode:P}):!0);if(P.rowIndex==null||!M){x(null,null);return}if(w==null||P.level!==w.level||P.footer||y&&P.rowIndex-1!==y?.getLastNode().rowIndex){x(P,r.getValue(t,P,"data"));return}const T=r.getValue(t,P,"data");if(C){const k=ke(n,{valueA:R,nodeA:w,valueB:T,nodeB:P,column:t,colDef:l});if(!m(k)){x(P,T);return}}else if(g?!g(R,T):R!==T){x(P,T);return}if(!y){const k=u?.get(w);k?.firstNode===w?(k.reset(),y=k):y=new s_(t,w),d.set(w,y)}y.addSpannedNode(P),d.set(P,y)};switch(e){case"center":i.forEachDisplayedNode?.(P=>{(!s||s.isRowInPage(P.rowIndex))&&E(P)}),this.centerValueNodeMap=d;break;case"top":o?.forEachPinnedRow("top",E),this.topValueNodeMap=d;break;case"bottom":o?.forEachPinnedRow("bottom",E),this.bottomValueNodeMap=d;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},l_=class extends ee{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=qt(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=qt(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new a_(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,o=e.column,i=e.rowIndex,r=this.spanningColumns.get(o);if(!r)return;let s;switch(e.rowPinned){case"top":s=t?.getPinnedTopRow(i);break;case"bottom":s=t?.getPinnedBottomRow(i);break;default:s=n.getRow(i)}if(s)return r.getCellSpan(s)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,o]of this.spanningColumns)if(o.isCellSpanning(e)){const i=o.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},c_=class extends ia{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,o,i,r,s){this.eWrapper=n,super.setComp(e,t,n,o,i,r,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){const{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||$0(e,t.rowIndex)}setAriaRowSpan(){p1(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Qd(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},u_=class extends Td{onRowIndexChanged(){super.onRowIndexChanged();for(const e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new c_(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},d_=class extends ee{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),o=n.size,i=this.getAllRelevantRowControls(e),r=new Map;let s=!1;for(const u of i)u.isAlive()&&t?.forEachSpannedColumn(u.rowNode,(d,p)=>{if(r.has(p.firstNode))return;const g=n.get(p.firstNode);if(g){r.set(p.firstNode,g),n.delete(p.firstNode);return}s=!0;const m=new u_(p.firstNode,this.beans,!1,!1,!1);r.set(p.firstNode,m)});this.setCtrlsMap(e,r);const l=r.size===o;if(!(!s&&l)){for(const u of n.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const o=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(o)return o.getAllCellCtrls().find(i=>i.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(const t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},h_={moduleName:"CellSpan",version:ue,beans:[l_,d_]},p_=class extends ee{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,ea(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),TT(e))}createColumns(e,t){const n=()=>{vd(this.beans,this.columns?.tree),this.columns=null},o=e.treeDepth,r=(this.columns?.treeDepth??-1)==o,s=this.generateSelectionCols();if(DT(s,this.columns?.list??[])&&r)return;n();const{colGroupSvc:u}=this.beans,d=u?.findDepth(e.tree)??0,p=u?.balanceTreeForAutoCols(s,d)??[];this.columns={list:s,tree:p,treeDepth:d,map:{}},t(m=>{if(!m)return null;const C=m.filter(w=>!rr(w));return[...s,...C]})}updateColumns(e){const t=ea(e.source),{beans:n}=this;for(const o of this.columns?.list??[]){const i=this.createSelectionColDef(e.currentValue);o.setColDef(i,null,t),Co(n,{state:[kT(i,o.colId)]},t)}}getColumn(e){return this.columns?.list.find(t=>Ml(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Hr(e))return!1;const o=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&o)return!1;const i=!!Xs(n),r=Uu(n);return i||r}createSelectionColDef(e){const{gos:t}=this,n=e??t.get("selectionColumnDef"),o=t.get("enableRtl"),{rowSpan:i,spanRows:r,...s}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:o?"right":"left",comparator(l,u,d,p){const g=d.isSelected(),m=p.isSelected();return g===m?0:g?1:-1},editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,pinned:null,...s,colId:RR,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new os(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const o=t&&typeof t!="string"?Xs(t):void 0,i=e&&typeof e!="string"?Xs(e):void 0,r=o!==i,s=t&&typeof t!="string"?Uu(t):void 0,l=e&&typeof e!="string"?Uu(e):void 0,u=s!==l,d=gd(e),p=gd(t);(r||u||d!==p)&&this.beans.colModel.refreshAll(n)}destroy(){vd(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const o=e.length+t.length+n.length;if(o===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const r=()=>{let u;switch(i.pinned){case"left":case!0:u=e;break;case"right":u=n;break;default:u=t}u&&Uo(u,i)};(this.beans.rowNumbersSvc?.getColumn(xR)?2:1)===o&&r()}},g_=':where(.ag-selection-checkbox) .ag-checkbox-input-wrapper:before{content:"";cursor:pointer;inset:-8px;position:absolute}';function f_(e,t){if(!t.nodes.every(s=>s.rowPinned&&!rc(s)?(oe(59),!1):s.id===void 0?(oe(60),!1):!0))return;const{nodes:o,source:i,newValue:r}=t;e.selectionSvc?.setNodesSelected({nodes:o,source:i??"api",newValue:r})}function m_(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function C_(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function v_(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function w_(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function y_(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function S_(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function b_(e){return e.selectionSvc?.getSelectedNodes()??[]}function R_(e){return e.selectionSvc?.getSelectedRows()??[]}var x_={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},F_=class extends kt{constructor(){super(x_,[Ym]),this.eCheckbox=Ce}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,o=t.isSelected(),i=Ud(e,o),[r,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(r,s);n.setValue(o,!0),n.setInputAriaLabel(`${l} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getWrapperElement(),{dblclick:Qr,click:o=>{Qr(o),!this.eCheckbox.isDisabled()&&this.beans.selectionSvc?.handleSelectionEvent(o,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:o,previousValue:i})=>{const r=typeof o=="object"?bg(o):void 0,s=typeof i=="object"?bg(i):void 0;r!==s&&this.onSelectableChanged()}),Ff(this.gos)||typeof this.getIsVisible()=="function"){const o=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:o}),this.addManagedListeners(this.rowNode,{dataChanged:o,cellChanged:o}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:o}=this,i=t.selectable,r=this.getIsVisible();let s;if(typeof r=="function"){const g=n?.callbackParams;if(!e)s=r({...g,node:t,data:t.data});else{const m=e.createColumnFunctionCallbackParams(t);s=r({...g,...m})}}else s=r??!1;const l=i&&!s||!i&&s,u=i||s,d=o.get("rowSelection"),p=d&&typeof d!="string"?!bg(d):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(u&&(l?p:!0)),this.setDisplayed(u&&(l?p:!0)),u&&this.eCheckbox.setDisabled(l),n?.removeHidden&&this.setDisplayed(u)}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Xs(t):this.column?.getColDef()?.checkboxSelection}},P_=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:o}=this;return t??(t=n.getRowNode(e)),o?.isManual()&&(t??(t=o.getPinnedRowById(e,"top")),t??(t=o.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,o=t.findIndex(i=>i.id===e.id);if(o>-1){const i=t.slice(0,o),r=t.slice(o+1);return this.setEndRange(e),n?{keep:i,discard:r}:{keep:r,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&i.push(r)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const o=this.getNodesInRange(n,e);if(!o)return this.setRoot(e),{keep:[e],discard:[]};if(o.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:o}=this;if(!n?.isManual())return o.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return qn(n,"top",e,void 0).concat(o.getNodesInRangeForSelection(o.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=qn(n,"bottom",void 0,e),r=o.getRowCount(),s=o.getRow(r-1);return(o.getNodesInRangeForSelection(t,s)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return o.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return qn(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=qn(n,"top",t,void 0),r=qn(n,"bottom",void 0,e),s=o.getRow(0),l=o.getRow(o.getRowCount()-1);return i.concat(o.getNodesInRangeForSelection(s,l)??[]).concat(r)}if(!e.rowPinned&&t.rowPinned==="top")return qn(n,"top",t,void 0).concat(o.getNodesInRangeForSelection(o.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=qn(n,"top",e,void 0),r=qn(n,"bottom",void 0,t),s=o.getRow(0),l=o.getRow(o.getRowCount()-1);return i.concat(o.getNodesInRangeForSelection(s,l)??[]).concat(r)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return qn(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=qn(n,"bottom",void 0,t),r=o.getRow(o.getRowCount());return(o.getNodesInRangeForSelection(e,r)??[]).concat(i)}return null}},E_=class extends ee{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(St(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new qm);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Ur(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:o,previousValue:i})=>{const r=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;r(o)!==r(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,o=t.getSelectAllState(e);n.setValue(o);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:o,cbSelectAllVisible:i}=this,r=o.getValue(),s=Ud(t,r),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${l} (${s})`:null),o.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return md(this.gos)?!0:(oe(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Nt(t)||wa(t)?!0:(oe(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const o={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(o):i.deselectAllRowNodes(o)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,r=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return NF(n,e)&&this.checkRightRowModelType(r)&&this.checkSelectionType(r)}getSelectAllMode(){const e=SR(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function NF({gos:e,selectionColSvc:t},n){const o=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:r}=i;let s=!1;if(typeof o=="object"){const u=rr(n),d=Nm(n);(gd(o)==="autoGroupColumn"&&d||u&&t?.isSelectionColumnEnabled())&&(s=Uu(o))}else typeof r=="function"?s=r(ke(e,{column:n,colDef:i})):s=!!r;return s}var D_=class extends ee{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new P_(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=Ff(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=Ff(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new F_}createSelectAllFeature(e){if(NF(this.beans,e))return new E_(e)}isMultiSelect(){return md(this.gos)}onRowCtrlSelected(e,t,n){const o=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",o);const r=i.element;j0(r,o),r.contains(St(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected(),n=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||n)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!rc(e)||!Hr(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Ul(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let o=0;o<e.childrenAfterGroup.length;o++){const i=e.childrenAfterGroup[o];let r=i.isSelected();if(!i.selectable){const s=this.calculateSelectedFromChildren(i);if(s===null)continue;r=s}switch(r){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,o="api"){if(t&&e.destroyed)return!1;const i=!e.selectable&&t,r=e.__selected===t;if(i||r)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const s=e.sibling;s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected");const l=e.pinnedSibling;return l?.rowPinned&&l.__localEventService&&l.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...Vk(e,this.gos,"rowSelected"),event:n||null,source:o}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const o=rr(e)&&Xs(n);return e.isColumnFunc(t,o)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,o){const{gos:i,selectionCtx:r}=this,s=e.isSelected(),l=Ul(i),u=uT(i),d=dT(i),p=this.isMultiSelect(),g=o==="rowClicked";if(g&&!(u||d))return null;if(t&&n&&p){const m=r.getRoot();if(m)if(m.isSelected()){const C=r.isInRange(e)?r.truncate(e):r.extend(e,l);return{deselect:C.discard,select:C.keep,reset:!1}}else{const C=r.extend(e,l);return{select:[],deselect:C.keep,reset:!1}}else return null}else if(t&&p){const m=r.selectAll?this.beans.rowModel.getRow(0):void 0,C=r.getRoot(m),w=r.isInRange(e)?r.truncate(e):r.extend(e,l);return{select:w.keep,deselect:w.discard,reset:r.selectAll||!!(C&&!C.isSelected())}}else if(n){if(g){const m=!s;return m&&!u||!m&&!d?null:(r.setRoot(e),{node:e,newValue:m,clearSelection:!1})}return r.setRoot(e),{node:e,newValue:!s,clearSelection:!p}}else{r.setRoot(e);const m=hT(i),C=Cd(i)==="filteredDescendants",w=g&&(!m||!u);if(C&&s===void 0&&Nt(i))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!p||w};if(g){const y=s?!m:u;return y===s&&!w||y&&!u||!y&&!d?null:{node:e,newValue:y,clearSelection:!p||w,keepDescendants:e.group&&l}}return{node:e,newValue:!s,clearSelection:!p||w}}}},T_=class extends D_{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=fd(e),this.groupSelectsDescendants=Ul(e),this.groupSelectsFiltered=Cd(e)==="filteredDescendants",this.masterSelectsDetail=iS(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Ul(e),n=fd(e),o=Cd(e)==="filteredDescendants";this.masterSelectsDetail=iS(e)==="detail",(t!==this.groupSelectsDescendants||o!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=o,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const o=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(o==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in o)return o.reset?this.resetNodes():this.selectRange(o.deselect,!1,n),this.selectRange(o.select,!0,n);{const i=o.checkFilteredNodes?HF(o.node):o.newValue;return this.setNodesSelected({nodes:[o.node],newValue:i,clearSelection:o.clearSelection,keepDescendants:o.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:o,event:i,source:r,keepDescendants:s=!1}){if(o.length===0)return 0;const{gos:l}=this;if(!Hr(l)&&e)return oe(132),0;if(o.length>1&&!this.isMultiSelect())return oe(130),0;let u=0;for(let d=0;d<o.length;d++){const p=o[d],g=Is(p);if(g.rowPinned&&!rc(g)){oe(59);continue}if(g.id===void 0){oe(60);continue}if(e&&p.destroyed)continue;this.groupSelectsFiltered&&g.group&&!l.get("treeData")||this.selectRowNode(g,e,i,r)&&(this.detailSelection.delete(g.id),u++),this.groupSelectsDescendants&&g.childrenAfterGroup?.length&&(u+=this.selectChildren(g,e,r))}return n||(o.length===1&&r==="api"&&this.selectionCtx.setRoot(Is(o[0])),e&&(t||!this.isMultiSelect())&&(u+=this.clearOtherNodes(Is(o[0]),s,r)),u>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r))),u}selectRange(e,t,n){let o=0;return e.forEach(i=>{const r=Is(i);if(r.group&&this.groupSelectsDescendants)return;this.selectRowNode(r,t,void 0,n)&&o++}),o>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),o}selectChildren(e,t,n){const o=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return o?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:o}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,o)=>{e(n)&&t.set(o,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:o}=this.beans;if(!Nt(n))return!1;const i=o.rootNode;if(!i)return!1;t||(t=new Kl(!0,i),t.active=!1);let r=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==i){const l=this.calculateSelectedFromChildren(s);r=this.selectRowNode(s,l===null?!1:l,void 0,e)||r}}),r}clearOtherNodes(e,t,n){const o=new Map;let i=0;return this.selectedNodes.forEach(r=>{const s=r.id==e.id;if((t?!k_(e,r):!0)&&!s){const u=this.selectedNodes.get(r.id);i+=this.setNodesSelected({nodes:[u],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&r.parent&&o.set(r.parent.id,r.parent)}}),o.forEach(r=>{const s=this.calculateSelectedFromChildren(r);this.selectRowNode(r,s===null?!1:s,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new nr(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Nt(e))return;const n=t.getTopLevelNodes();if(n===null)return;const o=[];function i(r){for(let s=0,l=r.length;s<l;s++){const u=r[s];u.isSelected()?o.push(u):u.group&&u.childrenAfterGroup&&i(u.childrenAfterGroup)}}return i(n),o}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Nt(this.gos);let o=!1;const i=r=>{const s=this.selectRowNode(Is(r),!1,void 0,e);o||(o=s)};if(t==="currentPage"||t==="filtered"){if(!n){et(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(e);o||(o=r)}o&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(o=>{this.groupSelectsDescendants&&o.group||(o.isSelected()?t++:o.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return BF(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const r=s=>{n(s),s.childrenAfterFilter?.forEach(r)};r(i);return}this.groupSelectsDescendants||n(i)}),t;const o=this.beans.rowModel;return e==="filtered"?(o.forEachNodeAfterFilter(n),t):(o.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,o=t.getFirstRow(),i=t.getLastRow();for(let r=o;r<=i;r++){const s=n.getRow(r);s&&e(s)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Hr(t)){oe(132);return}if(cT(t)&&!md(t)){oe(130);return}if(!this.canSelectAll())return;const{source:o,selectAll:i}=e;let r=!1;if(this.getNodesToSelect(i).forEach(s=>{const l=this.selectRowNode(Is(s),!0,void 0,o);r||(r=l)}),n.selectAll=!0,Nt(t)&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(o);r||(r=s)}r&&this.dispatchSelectionChanged(o)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){et(103);return}const o=new Set(e),i=[];this.beans.rowModel.forEachNode(r=>{o.has(r.id)&&i.push(r)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){return Nt(this.beans.gos)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!Hr(t))return;const o="selectableChanged",i=e!==void 0,r=Nt(t)&&this.groupSelectsDescendants,s=[],l=u=>{if(i&&!u.group)return;if(r&&u.group){const p=u.childrenAfterGroup?.some(g=>g.selectable)??!1;this.setRowSelectable(u,p,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&s.push(u)};if(r){if(e===void 0){const u=n.rootNode;e=u?new Kl(!1,u):void 0}e?.forEachChangedNodeDepthFirst(l,!i,!i)}else n.forEachNode(l);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:o}),!i&&r&&this.updateGroupsFromChildrenSelections?.(o)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const o=M_(n);e.isSelected()!==o&&this.selectRowNode(e,o,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),o||this.detailSelection.set(e.id,new Set(n.getSelectedNodes().map(r=>r.id)))}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!md(t)){oe(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const o=this.detailSelection.get(e.id);if(o){const i=[];for(const r of o){const s=n.getRowNode(r);s&&i.push(s)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Is(e){return rc(e)?e.pinnedSibling:e.footer?e.sibling:e}function M_(e){let t=0,n=0;return e.forEachNode(o=>{o.isSelected()?t++:o.selectable&&n++}),BF(t,n)}function BF(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function k_(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function HF(e){const t=e.isSelected()===!1,n=e.childrenAfterFilter?.some(HF)??!1;return t||n}var I_={moduleName:"SharedRowSelection",version:ue,beans:[p_],css:[g_],apiFunctions:{setNodesSelected:f_,selectAll:m_,deselectAll:C_,selectAllFiltered:v_,deselectAllFiltered:w_,selectAllOnCurrentPage:y_,deselectAllOnCurrentPage:S_,getSelectedNodes:b_,getSelectedRows:R_}},A_={moduleName:"RowSelection",version:ue,rowModels:["clientSide","infinite","viewport"],beans:[T_],dependsOn:[I_]},L_=class extends ee{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,o=n.cellClassRules,i=this.getCellClassParams(e,n);sC(this.beans.expressionSvc,o===this.cellClassRules?void 0:this.cellClassRules,o,i,r=>t.toggleCss(r,!0),r=>t.toggleCss(r,!1)),this.cellClassRules=o}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let o;if(typeof n=="function"){const i=this.getCellClassParams(e,t);o=n(i)}else o=n;o&&this.cellComp.setUserStyles(o)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,o=this.getCellClassParams(e,n);for(const r of this.staticClasses)t.toggleCss(r,!1);const i=this.beans.cellStyles.getStaticCellClasses(n,o);this.staticClasses=i;for(const r of i)t.toggleCss(r,!0)}getCellClassParams(e,t){const{value:n,rowNode:o}=this.cellCtrl;return ke(this.beans.gos,{value:n,data:o.data,node:o,colDef:t,column:e,rowIndex:o.rowIndex})}},O_=class extends ee{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,o){sC(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,o),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let o;return typeof n=="function"?o=n(t):o=n,typeof o=="string"&&(o=[o]),o||[]}createCellCustomStyleFeature(e){return new L_(e,this.beans)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},N_={moduleName:"CellStyle",version:ue,beans:[O_]},B_={moduleName:"RowStyle",version:ue,beans:[YN]},H_={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,overlayComponent:!0,suppressOverlays:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Fn="clientSide",sn="serverSide",As="infinite",G_={onGroupExpandedOrCollapsed:[Fn],refreshClientSideRowModel:[Fn],isRowDataEmpty:[Fn],forEachLeafNode:[Fn],forEachNodeAfterFilter:[Fn],forEachNodeAfterFilterAndSort:[Fn],resetRowHeights:[Fn,sn],applyTransaction:[Fn],applyTransactionAsync:[Fn],flushAsyncTransactions:[Fn],getBestCostNodeSelection:[Fn],getServerSideSelectionState:[sn],setServerSideSelectionState:[sn],applyServerSideTransaction:[sn],applyServerSideTransactionAsync:[sn],applyServerSideRowData:[sn],retryServerSideLoads:[sn],flushServerSideAsyncTransactions:[sn],refreshServerSide:[sn],getServerSideGroupLevelState:[sn],refreshInfiniteCache:[As],purgeInfiniteCache:[As],getInfiniteRowCount:[As],isLastRowIndexKnown:[As,sn],expandAll:[Fn,sn],collapseAll:[Fn,sn],onRowHeightChanged:[Fn,sn],setRowCount:[As,sn],getCacheBlockState:[As,sn]},V_={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function W_(e,t,n){const o=V_[e];if(o){const{version:r,new:s,old:l,message:u}=o,d=l??e;return(...p)=>{const g=s?`Please use ${s} instead. `:"";return Tl(`Since ${r} api.${d} is deprecated. ${g}${u??""}`),t.apply(t,p)}}const i=G_[e];return i?(...r)=>{const s=n.rowModel.getType();if(!i.includes(s)){qs(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,r)}:t}var z_={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agBigIntColumnFilterHandler:"BigIntFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},__={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,aasc:1,adesc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},$_={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",overlayLoading:"Overlay",overlayExporting:"Overlay",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",richSelectLoading:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortAbsoluteAscending:["MenuCore","Sort"],sortAbsoluteDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},U_=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),j_=class extends ee{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,X1(XB)}warnOnInitialPropertyUpdate(e,t){e==="api"&&H_[t]&&oe(22,{key:t})}processGridOptions(e){this.processOptions(e,Z2())}validateApiFunction(e,t){return W_(e,t,this.beans)}missingUserComponent(e,t,n,o){const i=oa[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):oe(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:o})}missingDynamicBean(e){const t=z_[e];return t?_o(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){q_.has(e)&&oe(10,{eventType:e})}validateIcon(e){if(U_.has(e)&&oe(43,{iconName:e}),__[e])return;const t=$_[e];if(t){et(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Am(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}oe(134,{iconName:e})}isProvidedUserComp(e){return!!oa[e]}validateColDef(e){this.processOptions(e,W2())}processOptions(e,t){const{validations:n,deprecations:o,allProperties:i,propertyExceptions:r,objectName:s,docsUrl:l}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(o)],i,s,l);const u=new Set;if(Object.keys(e).forEach(p=>{const g=o[p];if(g){const{message:E,version:P}=g;u.add(`As of v${P}, ${String(p)} is deprecated. ${E??""}`)}const m=e[p];if(m==null||m===!1)return;const C=n[p];if(!C)return;const{dependencies:w,validate:y,supportedRowModels:R,expectedType:x}=C;if(x){const E=typeof m;if(E!==x){u.add(`${String(p)} should be of type '${x}' but received '${E}' (${m}).`);return}}if(R){const E=this.gridOptions.rowModelType??"clientSide";if(!R.includes(E)){u.add(`${String(p)} is not supported with the '${E}' row model. It is only valid with: ${R.join(", ")}.`);return}}if(w){const E=this.checkForRequiredDependencies(p,w,e);if(E){u.add(E);return}}if(y){const E=y(e,this.gridOptions,this.beans);if(E){u.add(E);return}}}),u.size>0)for(const p of u)Tl(p)}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([r,s])=>{const l=n[r];return!s.required.includes(l)});return i.length===0?null:i.map(([r,s])=>`'${String(e)}' requires '${r}' to be one of [${s.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,n,o,i){const r=["__ob__","__v_skip","__metadata__"],s=K_(Object.getOwnPropertyNames(e),[...r,...t,...n],n),l=Object.keys(s);for(const u of l){const d=s[u];let p=`invalid ${o} property '${u}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(p+=`
If you are trying to annotate ${o} with application data, use the '${o}.context' property instead.`),Tl(p)}if(l.length>0&&i){const u=this.beans.frameworkOverrides.getDocLink(i);Tl(`to see all the valid ${o} properties please check: ${u}`)}}};function K_(e,t,n){const o={},i=e.filter(r=>!t.some(s=>s===r));if(i.length>0)for(const r of i)o[r]=_f({inputValue:r,allSuggestions:n}).values;return o}var q_=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Y_={moduleName:"Validation",version:ue,beans:[j_]},Q_={moduleName:"AllCommunity",version:ue,dependsOn:[XH,wG,Xz,Y_,UV,jV,KV,qV,YV,QV,XV,$V,Oz,Nz,Bz,Hz,Lz,Vz,Wz,d5,iH,I5,Px,CH,vH,o_,iG,vA,G5,A_,BB,N_,cG,B_,o5,VB,Y5,cF,r5,r_,CA,ZH,h_]},X_=class{wrap(e,t,n,o){const i=this.createWrapper(e,o);for(const r of t??[])this.createMethod(i,r,!0);for(const r of n??[])this.createMethod(i,r,!1);return i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&oe(49,{methodName:t}),null)}}},Z_=class extends fx{constructor(e){super(e,Vm)}},ch=G0();const Sl=H0(ch);var un=re.createContext({}),GF=re.createContext("default"),lc=(e,t,n,o)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();let s,l,u=!1;return r.then(d=>{if(u){t.destroyBean(d);return}s=d,l=s.getGui(),n.appendChild(l),Eb(o,s)}),()=>{u=!0,s&&(l?.remove(),t.destroyBean(s),o&&Eb(o,void 0))}},Eb=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Qn=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),eo=class VF{constructor(...t){this.classesMap={};for(const n of t)this.classesMap[n]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new VF;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},ba=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},nm=re.version?.split(".")[0],WF=nm==="16"||nm==="17";function J_(){return nm==="19"}var nd=!1;function e3(e){return nd||setTimeout(()=>nd=!1,0),nd=!0,e()}var Yl=(e,t)=>{!WF&&e&&!nd?Sl.flushSync(t):t()},t3=e=>{WF?e():re.startTransition(e)};function n3(e,t,n){return re.useSyncExternalStore?re.useSyncExternalStore(e,t):n}function Ld(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const o=[],i=[],r=new Map,s=new Map;for(let l=0;l<t.length;l++){const u=t[l];s.set(u.instanceId,u)}for(let l=0;l<e.length;l++){const u=e[l];r.set(u.instanceId,u),s.has(u.instanceId)&&o.push(u)}for(let l=0;l<t.length;l++){const u=t[l],d=u.instanceId;r.has(d)||i.push(u)}return o.length===e.length&&i.length===0?e:o.length===0&&i.length===t.length?t:o.length===0?i:i.length===0?o:[...o,...i]}var zF=b.forwardRef((e,t)=>{const{registry:n,context:o}=b.useContext(un),i=b.useRef(null),r=b.useRef(null),s=b.useRef(null),l=b.useRef(null),u=b.useRef(null),d=b.useRef(),[p,g]=b.useState(),[m,C]=b.useState(),[w,y]=b.useState(),[R,x]=b.useState(()=>new eo),[E,P]=b.useState(()=>new eo("ag-hidden")),[M,T]=b.useState(()=>new eo("ag-hidden")),[k,I]=b.useState(()=>new eo("ag-invisible"));b.useImperativeHandle(t,()=>({refresh(){return!1}})),b.useLayoutEffect(()=>lc(p,o,r.current),[p]);const z=b.useCallback(ne=>{if(i.current=ne,!ne||o.isDestroyed()){d.current=o.destroyBean(d.current);return}const j={setInnerRenderer:(K,L)=>{g(K),y(L)},setChildCount:K=>C(K),toggleCss:(K,L)=>x(W=>W.setClass(K,L)),setContractedDisplayed:K=>T(L=>L.setClass("ag-hidden",!K)),setExpandedDisplayed:K=>P(L=>L.setClass("ag-hidden",!K)),setCheckboxVisible:K=>I(L=>L.setClass("ag-invisible",!K)),setCheckboxSpacing:K=>I(L=>L.setClass("ag-group-checkbox-spacing",K))},X=n.createDynamicBean("groupCellRendererCtrl",!0);X&&(d.current=o.createBean(X),d.current.init(j,ne,s.current,l.current,u.current,zF,e))},[]),_=b.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),$=b.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),V=b.useMemo(()=>`ag-group-contracted ${M.toString()}`,[M]),F=b.useMemo(()=>`ag-group-checkbox ${k.toString()}`,[k]),B=p?.componentFromFramework,G=B?p.componentClass:void 0,O=p==null&&w!=null,Y=va(w);return re.createElement("span",{className:_,ref:z,...e.colDef?{}:{role:d.current?.getCellAriaRole()}},re.createElement("span",{className:$,ref:l}),re.createElement("span",{className:V,ref:u}),re.createElement("span",{className:F,ref:s}),re.createElement("span",{className:"ag-group-value",ref:r},O?Y:B?re.createElement(G,{...p.params}):null),re.createElement("span",{className:"ag-group-child-count"},m))}),Db=zF,TC=b.createContext({setMethods:()=>{}}),o3=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:o,setMethods:i}=e,[{key:r,...s},l]=b.useState(t);return b.useEffect(()=>{n(u=>l(u))},[]),re.createElement(TC.Provider,{value:{setMethods:i}},re.createElement(o,{key:r,...s}))},i3=b.memo(o3),r3=0;function Tb(){return`agPortalKey_${++r3}`}var _F=class{constructor(e,t,n,o){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!o,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Tb(),this.portalKey=Tb(),this.instanceCreated=this.isStatelessComponent()?$e.resolve(!1):new $e(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const o=n[e];if(o)return o.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new $e(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=ch.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return b.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function uh(e,t,n){for(const o of e){const i=t[o];i&&(n[o]=i)}}var no=class extends _F{constructor(){super(...arguments),this.awaitUpdateCallback=new $e(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=i3}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new $e(o=>{setTimeout(()=>{o()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,uh(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new $e(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},s3=class extends no{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},a3=class extends no{refresh(e){this.sourceParams=e,this.refreshProps()}},l3=class extends no{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},c3=class extends no{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:o}=this;return e.label=t,e.icon=n,e.shake=o,e}},u3=class extends no{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new $e(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new $e(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},d3=class extends no{constructor(){super(...arguments),this.awaitSetMethodsCallback=new $e(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function $F(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||$e.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var h3=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){uh(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$F(this.floatingFilterParams,e)}},p3=class extends no{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$F(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},g3=class extends no{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},f3=class extends no{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},m3=class extends no{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},C3=class extends no{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},v3=class extends no{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function MC(){oe(231)}var w3=1e3,y3=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||w3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Yl(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},S3=re.createContext([]),b3=re.createContext(void 0),R3=({ctrl:e})=>{const t=e.isAlive(),{context:n}=b.useContext(un),[o,i]=b.useState(),[r,s]=b.useState(),l=b.useRef(),u=b.useRef(null),d=b.useRef(null),p=b.useRef(null),g=b.useRef(),m=b.useRef();t&&!m.current&&(m.current=new ec(()=>u.current));const C=b.useCallback(x=>{if(u.current=x,!x||!e.isAlive()||n.isDestroyed()){l.current=n.destroyBean(l.current);return}l.current=n.createBean(new Sa);const E=()=>{const M=e.getSelectAllGui();M&&(d.current?.insertAdjacentElement("afterend",M),l.current.addDestroyFunc(()=>M.remove()))},P={setWidth:M=>{u.current&&(u.current.style.width=M)},toggleCss:(M,T)=>m.current.toggleCss(M,T),setUserStyles:M=>s(M),setAriaSort:M=>{u.current&&(M?m1(u.current,M):C1(u.current))},setUserCompDetails:M=>i(M),getUserCompInstance:()=>g.current||void 0,refreshSelectAllGui:E,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(P,x,d.current,p.current,l.current),E()},[]);b.useLayoutEffect(()=>lc(o,n,p.current,g),[o]),b.useEffect(()=>{e.setDragSource(u.current)},[o]);const w=b.useMemo(()=>!!(o?.componentFromFramework&&ba(o.componentClass)),[o]),y=o?.componentFromFramework,R=o?.componentClass;return re.createElement("div",{ref:C,style:r,className:"ag-header-cell",role:"columnheader"},re.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),re.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},y?w?re.createElement(R,{...o.params}):re.createElement(R,{...o.params,ref:g}):null))},x3=b.memo(R3),F3=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){uh(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},P3=({ctrl:e})=>{const{context:t,gos:n}=b.useContext(un),[o,i]=b.useState(),[r,s]=b.useState(()=>new eo("ag-header-cell","ag-floating-filter")),[l,u]=b.useState(()=>new eo),[d,p]=b.useState(()=>new eo("ag-floating-filter-button","ag-hidden")),[g,m]=b.useState("false"),[C,w]=b.useState(),[,y]=b.useState(1),R=b.useRef(),x=b.useRef(null),E=b.useRef(null),P=b.useRef(null),M=b.useRef(null),T=b.useRef(),k=b.useRef(),I=K=>{K!=null&&T.current?.(K)},z=b.useCallback(K=>{if(x.current=K,!K||!e.isAlive()||t.isDestroyed()){R.current=t.destroyBean(R.current);return}R.current=t.createBean(new Sa),k.current=new $e(W=>{T.current=W});const L={toggleCss:(W,ie)=>s(pe=>pe.setClass(W,ie)),setUserStyles:W=>i(W),addOrRemoveBodyCssClass:(W,ie)=>u(pe=>pe.setClass(W,ie)),setButtonWrapperDisplayed:W=>{p(ie=>ie.setClass("ag-hidden",!W)),m(W?"false":"true")},setWidth:W=>{x.current&&(x.current.style.width=W)},setCompDetails:W=>w(W),getFloatingFilterComp:()=>k.current?k.current:null,setMenuIcon:W=>M.current?.appendChild(W)};e.setComp(L,K,M.current,E.current,R.current)},[]);b.useLayoutEffect(()=>lc(C,t,E.current,I),[C]);const _=b.useMemo(()=>r.toString(),[r]),$=b.useMemo(()=>l.toString(),[l]),V=b.useMemo(()=>d.toString(),[d]),F=b.useMemo(()=>!!(C&&C.componentFromFramework&&ba(C.componentClass)),[C]),B=b.useMemo(()=>n.get("reactiveCustomComponents"),[]),G=b.useMemo(()=>n.get("enableFilterHandlers"),[]),[O,Y]=b.useState();b.useEffect(()=>{if(C?.componentFromFramework)if(B){const K=G?F3:h3,L=new K(C.params,()=>y(W=>W+1));I(L),Y(L)}else MC()},[C]);const ne=O?.getProps(),j=C?.componentFromFramework,X=C?.componentClass;return re.createElement("div",{ref:z,style:o,className:_,role:"gridcell"},re.createElement("div",{ref:E,className:$,role:"presentation"},j?B?ne&&re.createElement(TC.Provider,{value:{setMethods:K=>O.setMethods(K)}},re.createElement(X,{...ne})):re.createElement(X,{...C.params,ref:F?()=>{}:I}):null),re.createElement("div",{ref:P,"aria-hidden":g,className:V,role:"presentation"},re.createElement("button",{ref:M,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},E3=b.memo(P3),D3=({ctrl:e})=>{const{context:t}=b.useContext(un),[n,o]=b.useState(),[i,r]=b.useState(()=>new eo),[s,l]=b.useState(()=>new eo),[u,d]=b.useState("false"),[p,g]=b.useState(),[m,C]=b.useState(),w=b.useRef(),y=b.useRef(null),R=b.useRef(null),x=b.useRef(null),E=b.useRef(),P=b.useCallback(_=>{if(y.current=_,!_||!e.isAlive()||t.isDestroyed()){w.current=t.destroyBean(w.current);return}w.current=t.createBean(new Sa);const $={setWidth:V=>{y.current&&(y.current.style.width=V)},toggleCss:(V,F)=>r(B=>B.setClass(V,F)),setUserStyles:V=>o(V),setHeaderWrapperHidden:V=>{const F=x.current;F&&(V?F.style.setProperty("display","none"):F.style.removeProperty("display"))},setHeaderWrapperMaxHeight:V=>{const F=x.current;F&&(V!=null?F.style.setProperty("max-height",`${V}px`):F.style.removeProperty("max-height"),F.classList.toggle("ag-header-cell-comp-wrapper-limited-height",V!=null))},setUserCompDetails:V=>C(V),setResizableDisplayed:V=>{l(F=>F.setClass("ag-hidden",!V)),d(V?"false":"true")},setAriaExpanded:V=>g(V),getUserCompInstance:()=>E.current||void 0};e.setComp($,_,R.current,x.current,w.current)},[]);b.useLayoutEffect(()=>lc(m,t,x.current),[m]),b.useEffect(()=>{y.current&&e.setDragSource(y.current)},[m]);const M=b.useMemo(()=>!!(m?.componentFromFramework&&ba(m.componentClass)),[m]),T=b.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),k=b.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),I=m?.componentFromFramework,z=m?.componentClass;return re.createElement("div",{ref:P,style:n,className:T,role:"columnheader","aria-expanded":p},re.createElement("div",{ref:x,className:"ag-header-cell-comp-wrapper",role:"presentation"},I?M?re.createElement(z,{...m.params}):re.createElement(z,{...m.params,ref:E}):null),re.createElement("div",{ref:R,"aria-hidden":u,className:k}))},T3=b.memo(D3),M3=({ctrl:e})=>{const{gos:t,context:n}=b.useContext(un),{topOffset:o,rowHeight:i}=b.useMemo(()=>e.getTopAndHeight(),[]),r=b.useMemo(()=>t.get("tabIndex"),[]),[s,l]=b.useState(()=>e.getAriaRowIndex()),u=e.headerRowClass,[d,p]=b.useState(()=>i+"px"),[g,m]=b.useState(()=>o+"px"),C=b.useRef(null),[w,y]=b.useState(()=>e.getUpdatedHeaderCtrls()),R=b.useRef(),x=b.useRef(null),E=b.useCallback(T=>{if(x.current=T,!T||!e.isAlive()||n.isDestroyed()){R.current=n.destroyBean(R.current);return}R.current=n.createBean(new Sa);const k={setHeight:I=>p(I),setTop:I=>m(I),setHeaderCtrls:(I,z,_)=>{const $=C.current,V=Ld($,I,z);V!==$&&(C.current=V,Yl(_,()=>y(V)))},setWidth:I=>{x.current&&(x.current.style.width=I)},setRowIndex:I=>{l(I)}};e.setComp(k,R.current,!1)},[]),P=b.useMemo(()=>({height:d,top:g}),[d,g]),M=b.useCallback(T=>{switch(e.type){case"group":return re.createElement(T3,{ctrl:T,key:T.instanceId});case"filter":return re.createElement(E3,{ctrl:T,key:T.instanceId});default:return re.createElement(x3,{ctrl:T,key:T.instanceId})}},[]);return re.createElement("div",{ref:E,className:u,role:"row",style:P,tabIndex:r,"aria-rowindex":s},w.map(M))},k3=b.memo(M3),I3=({pinned:e})=>{const[t,n]=b.useState(!0),[o,i]=b.useState([]),{context:r}=b.useContext(un),s=b.useRef(null),l=b.useRef(null),u=b.useRef(),d=e==="left",p=e==="right",g=!d&&!p,m=b.useCallback(y=>{if(s.current=y,!y||r.isDestroyed()){u.current=r.destroyBean(u.current);return}u.current=r.createBean(new Sk(e));const R={setDisplayed:n,setCtrls:x=>i(x),setCenterWidth:x=>{l.current&&(l.current.style.width=x)},setViewportScrollLeft:x=>{s.current&&(s.current.scrollLeft=x)},setPinnedContainerWidth:x=>{s.current&&(s.current.style.width=x,s.current.style.minWidth=x,s.current.style.maxWidth=x)}};u.current.setComp(R,s.current)},[]),C=t?"":"ag-hidden",w=()=>o.map(y=>re.createElement(k3,{ctrl:y,key:y.instanceId}));return d?re.createElement("div",{ref:m,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},w()):p?re.createElement("div",{ref:m,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},w()):g?re.createElement("div",{ref:m,className:"ag-header-viewport "+C,role:"rowgroup",tabIndex:-1},re.createElement("div",{ref:l,className:"ag-header-container",role:"presentation"},w())):null},ef=b.memo(I3),A3=()=>{const[e,t]=b.useState(()=>new eo),[n,o]=b.useState(),{context:i}=b.useContext(un),r=b.useRef(null),s=b.useRef(),l=b.useCallback(p=>{if(r.current=p,!p||i.isDestroyed()){s.current=i.destroyBean(s.current);return}s.current=i.createBean(new pk);const g={toggleCss:(m,C)=>t(w=>w.setClass(m,C)),setHeightAndMinHeight:m=>o(m)};s.current.setComp(g,p,p)},[]),u=b.useMemo(()=>"ag-header "+e.toString(),[e]),d=b.useMemo(()=>({height:n,minHeight:n}),[n]);return re.createElement("div",{ref:l,className:u,style:d,role:"presentation"},re.createElement(ef,{pinned:"left"}),re.createElement(ef,{pinned:null}),re.createElement(ef,{pinned:"right"}))},L3=b.memo(A3),O3=(e,t)=>{b.useEffect(()=>{const n=t.current;if(n){const o=n.parentElement;if(o){const i=document.createComment(e);return o.insertBefore(i,n),()=>{i.remove()}}}},[e])},kr=O3,N3=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new $e(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){uh(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},B3=e=>{const t=b.useRef(e),n=b.useRef(),o=b.useRef(!1),i=b.useRef(!1),[,r]=b.useState(0);o.current&&(i.current=!0),b.useEffect(()=>(o.current||(n.current=t.current(),o.current=!0),r(s=>s+1),()=>{i.current&&n.current?.()}),[])},H3=e=>{const[t,n]=b.useState(),o=b.useContext(un),{context:i,popupSvc:r,gos:s,editSvc:l}=o,{editDetails:u,cellCtrl:d,eParentCell:p}=e;return B3(()=>{const{compDetails:g}=u,m=s.get("stopEditingWhenCellsLoseFocus");let C,w;if(!i.isDestroyed()){w=i.createBean(l.createPopupEditorWrapper(g.params));const y=w.getGui();if(e.jsChildComp){const T=e.jsChildComp.getGui();T&&y.appendChild(T)}const{column:R,rowNode:x}=d,E={column:R,rowNode:x,type:"popupCellEditor",eventSource:p,ePopup:y,position:u.popupPosition,keepWithinBounds:!0},P=r?.positionPopupByComponent.bind(r,E),M=r?.addPopup({modal:m,eChild:y,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:p,positionCallback:P,ariaOwns:p});C=M?M.hideFunc:void 0,n(w),e.jsChildComp?.afterGuiAttached?.()}return()=>{C?.(),i.destroyBean(w)}}),b.useLayoutEffect(()=>()=>{d.isCellFocused()&&t?.getGui().contains(St(o))&&p.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?ch.createPortal(e.wrappedContent,t.getGui()):null},Mb=b.memo(H3),G3=(e,t,n)=>{const{compProxy:o}=e;n(o);const i=o.getProps(),r=ba(t);return re.createElement(TC.Provider,{value:{setMethods:s=>o.setMethods(s)}},r?re.createElement(t,{...i}):re.createElement(t,{...i,ref:s=>o.setRef(s)}))},kb=(e,t,n)=>e.compProxy?G3(e,t,n):re.createElement(t,{...e.compDetails.params,ref:n}),V3=(e,t,n,o,i)=>{const r=e.compDetails,s=r.componentClass,l=r.componentFromFramework&&!e.popup,u=r.componentFromFramework&&e.popup,d=!r.componentFromFramework&&e.popup;return l?kb(e,s,t):u?re.createElement(Mb,{editDetails:e,cellCtrl:o,eParentCell:n,wrappedContent:kb(e,s,t)}):d&&i?re.createElement(Mb,{editDetails:e,cellCtrl:o,eParentCell:n,jsChildComp:i}):null},W3=(e,t,n,o,i,r,s=!1)=>{const{context:l}=b.useContext(un),u=b.useCallback(()=>{const d=i.current;if(!d)return;const p=d.getGui();p&&p.parentElement&&p.remove(),l.destroyBean(d),i.current=void 0},[]);b.useEffect(()=>{const d=e!=null&&!s,p=e?.compDetails&&!e.compDetails.componentFromFramework,g=t&&n==null;if(!(d&&p&&!g)){u();return}const C=e.compDetails;if(i.current){const y=i.current,x=y.refresh!=null&&e.force==!1?y.refresh(C.params):!1;if(x===!0||x===void 0)return;u()}C.newAgStackInstance().then(y=>{if(!y)return;const R=y.getGui();if(!R)return;(t?n:r.current).appendChild(R),i.current=y})},[e,t,o,s]),b.useEffect(()=>u,[])},UF=W3,z3=({cellCtrl:e,parent:t})=>{const n=b.useRef(),o=b.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(UF(o,!1,void 0,1,n,t),o?.compDetails?.componentFromFramework){const i=o.compDetails.componentClass;return re.createElement(i,{...o.compDetails.params})}return re.createElement(re.Fragment,null)},_3=({cellCtrl:e,printLayout:t,editingCell:n})=>{const o=b.useContext(un),{context:i}=o,{column:{colIdSanitised:r},instanceId:s}=e,l=b.useRef(),[u,d]=b.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[p,g]=b.useState(),[m,C]=b.useState(1),[w,y]=b.useState(),[R,x]=b.useState(!1),[E,P]=b.useState(!1),[M,T]=b.useState(!1),[k,I]=b.useState(),z=b.useMemo(()=>e.isForceWrapper(),[e]),_=b.useMemo(()=>e.getCellAriaRole(),[e]),$=b.useRef(null),V=b.useRef(null),F=b.useRef(null),B=b.useRef(),G=b.useRef(),O=b.useRef(),Y=b.useRef([]),ne=b.useRef(),j=b.useRef(),[X,K]=b.useState(0),L=b.useCallback(Fe=>{j.current=Fe,K(Ne=>Ne+1)},[]),W=u!=null&&(R||M||E)&&(p==null||!!p.popup),ie=z||W,pe=b.useMemo(()=>e.getCellValueClass(),[e]),ye=b.useCallback(Fe=>{if(G.current=Fe,Fe){const Ne=Fe.isCancelBeforeStart&&Fe.isCancelBeforeStart();setTimeout(()=>{Ne?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(Fe))})}},[e]),ve=b.useRef();ve.current||(ve.current=new ec(()=>$.current));const De=!!p&&!p.popup;UF(u,ie,j.current,X,B,$,De);const Ie=b.useRef();b.useLayoutEffect(()=>{const Fe=Ie.current,Ne=u;if(Ie.current=u,Fe==null||Fe.compDetails==null||Ne==null||Ne.compDetails==null)return;ne.current?.refreshVisibility();const je=Fe.compDetails,ze=Ne.compDetails;if(je.componentClass!=ze.componentClass||F.current?.refresh==null)return;F.current.refresh(ze.params)!=!0&&C(ge=>ge+1)},[u]),b.useLayoutEffect(()=>{if(!(p&&!p.compDetails.componentFromFramework)||i.isDestroyed())return;const Ne=p.compDetails,je=p.popup===!0,ze=Ne.newAgStackInstance();return ze.then(fe=>{if(!fe)return;const ge=fe.getGui();ye(fe),je||((z?O:$).current?.appendChild(ge),fe.afterGuiAttached?.()),I(fe)}),()=>{ze.then(fe=>{const ge=fe.getGui();e.disableEditorTooltipFeature(),i.destroyBean(fe),ye(void 0),I(void 0),ge?.remove()})}},[p]);const Pe=b.useCallback(Fe=>{if(O.current=Fe,!Fe||i.isDestroyed()||!e.isAlive()){const ze=Y.current;Y.current=[];for(const fe of ze)fe();return}let Ne;const je=ze=>{ze&&(Fe.insertAdjacentElement("afterbegin",ze.getGui()),Y.current.push(()=>{Zi(ze.getGui()),i.destroyBean(ze),ne.current===Ne&&(ne.current=void 0)}))};R&&je(e.createSelectionCheckbox()),M&&je(e.createDndSource()),E&&(Ne=e.createRowDragComp(),ne.current=Ne,Ne&&(je(Ne),Ne.refreshVisibility()))},[e,i,M,E,R]),he=b.useCallback(()=>{const Fe=!e.isCellSpanning()||V.current,Ne=$.current;if(!Ne||!Fe||!e||!e.isAlive()||i.isDestroyed()){l.current=i.destroyBean(l.current);return}l.current=i.createBean(new Sa);const je={toggleCss:(fe,ge)=>ve.current.toggleCss(fe,ge),setUserStyles:fe=>y(fe),getFocusableElement:()=>$.current,setIncludeSelection:fe=>x(fe),setIncludeRowDrag:fe=>P(fe),setIncludeDndSource:fe=>T(fe),getCellEditor:()=>G.current??null,getCellRenderer:()=>F.current??B.current,getParentOfValue:()=>j.current??O.current??$.current,setRenderDetails:(fe,ge,mt)=>{const Ke=()=>{d(Et=>Et?.compDetails!==fe||Et?.value!==ge||Et?.force!==mt?{value:ge,compDetails:fe,force:mt}:Et)};if(fe?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Et,onReady:Qt}=e.getDeferLoadingCellRenderer();if(Et){d({value:void 0,compDetails:Et,force:!1}),Qt.then(()=>t3(Ke));return}}Ke()},setEditDetails:(fe,ge,mt,Ke)=>{if(fe){let Et;fe.componentFromFramework&&(Ke?Et=new N3(fe.params,()=>C(Qt=>Qt+1)):MC()),g({compDetails:fe,popup:ge,popupPosition:mt,compProxy:Et}),ge||d(void 0)}else e.hasBrowserFocus()&&je.getFocusableElement().focus({preventScroll:!0}),G.current=void 0,g(void 0)},refreshEditStyles:(fe,ge)=>{if(!$.current)return;const{current:mt}=ve;mt.toggleCss("ag-cell-value",!ie),mt.toggleCss("ag-cell-inline-editing",!!fe&&!ge),mt.toggleCss("ag-cell-popup-editing",!!fe&&!!ge),mt.toggleCss("ag-cell-not-inline-editing",!fe||!!ge)}},ze=O.current||void 0;e.setComp(je,Ne,V.current??void 0,ze,t,n,l.current)},[]),Be=b.useCallback(Fe=>{$.current=Fe,he()},[]),Ge=b.useCallback(Fe=>{V.current=Fe,he()},[]),Ue=b.useMemo(()=>!!(u?.compDetails?.componentFromFramework&&ba(u.compDetails.componentClass)),[u]);b.useLayoutEffect(()=>{if(!$.current)return;const{current:Fe}=ve;Fe.toggleCss("ag-cell-value",!ie),Fe.toggleCss("ag-cell-inline-editing",!!p&&!p.popup),Fe.toggleCss("ag-cell-popup-editing",!!p&&!!p.popup),Fe.toggleCss("ag-cell-not-inline-editing",!p||!!p.popup)});const Te=()=>{const{compDetails:Fe,value:Ne}=u;if(!Fe)return Ne?.toString?.()??Ne;if(Fe.componentFromFramework){const je=Fe.componentClass;return re.createElement(b.Suspense,{fallback:re.createElement(z3,{cellCtrl:e,parent:$})},Ue?re.createElement(je,{...Fe.params,key:m}):re.createElement(je,{...Fe.params,key:m,ref:F}))}},We=()=>{const Fe=()=>u==null?null:ie?re.createElement("span",{role:"presentation",id:`cell-${s}`,className:pe,ref:L},Te()):Te(),Ne=je=>V3(je,ye,$.current,e,k);return p!=null?p.popup?re.createElement(re.Fragment,null,Fe(),Ne(p)):Ne(p):Fe()},bt=()=>re.createElement("div",{ref:Be,style:w,role:_,"col-id":r},ie?re.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Pe},We()):We());return e.isCellSpanning()?re.createElement("div",{ref:Ge,className:"ag-spanned-cell-wrapper",role:"presentation"},bt()):bt()},$3=b.memo(_3),U3=({rowCtrl:e,containerType:t})=>{const{context:n,gos:o,editSvc:i}=b.useContext(un),r=b.useContext(GF)==="default",s=b.useRef(),l=b.useRef(e.getDomOrder()),u=e.isFullWidth(),d=e.rowNode.displayed,[p,g]=b.useState(()=>d?e.rowNode.getRowIndexString():null),[m,C]=b.useState(()=>e.rowId),[w,y]=b.useState(()=>e.businessKey),[R,x]=b.useState(()=>e.rowStyles),E=b.useRef(null),[P,M]=b.useState(()=>null),[T,k]=b.useState(),[I,z]=b.useState(()=>d?e.getInitialRowTop(t):void 0),[_,$]=b.useState(()=>d?e.getInitialTransform(t):void 0),V=b.useRef(null),F=b.useRef(),B=b.useRef(),G=b.useRef(!1),[O,Y]=b.useState(0);b.useEffect(()=>{if(G.current||!T||O>10)return;const he=V.current?.firstChild;he?(e.setupDetailRowAutoHeight(he),G.current=!0):Y(Be=>Be+1)},[T,O]);const ne=b.useRef();ne.current||(ne.current=new ec(()=>V.current));const j=b.useRef(()=>{}),X=b.useCallback(he=>(j.current=he,()=>{j.current=()=>{}}),[]),K=n3(X,()=>E.current,[]),L=r?K:P,W=b.useCallback(he=>{if(V.current=he,s.current=he?n.createBean(new Sa):n.destroyBean(s.current),!he){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;const Be={setTop:z,setTransform:$,toggleCss:(Ge,Ue)=>ne.current.toggleCss(Ge,Ue),setDomOrder:Ge=>l.current=Ge,setRowIndex:g,setRowId:C,setRowBusinessKey:y,setUserStyles:x,setCellCtrls:(Ge,Ue)=>{const Te=E.current,We=Ld(Te,Ge,l.current);We!==Te&&(E.current=We,r?j.current():Yl(Ue,()=>M(We)))},showFullWidth:Ge=>{B.current=Ge.params,k(Ge)},getFullWidthCellRenderer:()=>F.current,getFullWidthCellRendererParams:()=>B.current,refreshFullWidth:Ge=>{const Ue=Ge();return B.current=Ue,De.current?(k(Te=>({...Te,params:Ue})),!0):!F.current||!F.current.refresh?!1:F.current.refresh(Ue)}};e.setComp(Be,he,t,s.current)},[]);b.useLayoutEffect(()=>lc(T,n,V.current,F),[T]);const ie=b.useMemo(()=>{const he={top:I,transform:_};return Object.assign(he,R),he},[I,_,R]),pe=u&&T?.componentFromFramework,ye=!u&&L!=null,ve=b.useMemo(()=>!!(T?.componentFromFramework&&ba(T.componentClass)),[T]),De=b.useRef(!1);b.useEffect(()=>{De.current=ve&&!!T&&!!o.get("reactiveCustomComponents")},[ve,T]);const Ie=()=>L?.map(he=>re.createElement($3,{cellCtrl:he,editingCell:i?.isEditing(he,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:he.instanceId})),Pe=()=>{const he=T.componentClass;return ve?re.createElement(he,{...T.params}):re.createElement(he,{...T.params,ref:F})};return re.createElement("div",{ref:W,role:"row",style:ie,"row-index":p,"row-id":m,"row-business-key":w},ye?Ie():pe?Pe():null)},Ib=b.memo(U3),j3=({name:e})=>{const{context:t,gos:n}=b.useContext(un),o=b.useMemo(()=>ic(e),[e]),i=b.useRef(null),r=b.useRef(null),s=b.useRef(null),l=b.useRef([]),u=b.useRef([]),[d,p]=b.useState(()=>[]),g=!!n.get("enableCellSpan")&&!!o.getSpannedRowCtrls,m=b.useRef([]),C=b.useRef([]),[w,y]=b.useState(()=>[]),R=b.useRef(!1),x=b.useRef(),E=b.useMemo(()=>Qn("ag-viewport",dx(e)),[e]),P=b.useMemo(()=>Qn(hx(e)),[e]),M=b.useMemo(()=>Qn("ag-spanning-container",wI(e)),[e]),T=o.type==="center"||g,k=T?i:r;kr(" AG Row Container "+e+" ",k);const I=b.useCallback(()=>{const O=!T||i.current!=null,Y=r.current!=null,ne=!g||s.current!=null;return O&&Y&&ne},[]),z=b.useCallback(()=>i.current==null&&r.current==null&&s.current==null,[]),_=b.useCallback(()=>{if(z()&&(x.current=t.destroyBean(x.current)),!t.isDestroyed()&&I()){const O=j=>{const X=Ld(u.current,l.current,R.current);X!==u.current&&(u.current=X,Yl(j,()=>p(X)))},Y=j=>{const X=Ld(C.current,m.current,R.current);X!==C.current&&(C.current=X,Yl(j,()=>y(X)))},ne={setHorizontalScroll:j=>{i.current&&(i.current.scrollLeft=j)},setViewportHeight:j=>{i.current&&(i.current.style.height=j)},setRowCtrls:({rowCtrls:j,useFlushSync:X})=>{const K=!!X&&l.current.length>0&&j.length>0;l.current=j,O(K)},setSpannedRowCtrls:(j,X)=>{const K=!!X&&m.current.length>0&&j.length>0;m.current=j,Y(K)},setDomOrder:j=>{R.current!=j&&(R.current=j,O(!1))},setContainerWidth:j=>{r.current&&(r.current.style.width=j)},setOffsetTop:j=>{r.current&&(r.current.style.transform=`translateY(${j})`)}};x.current=t.createBean(new TI(e)),x.current.setComp(ne,r.current,s.current??void 0,i.current)}},[I,z]),$=b.useCallback(O=>{r.current=O,_()},[_]),V=b.useCallback(O=>{s.current=O,_()},[_]),F=b.useCallback(O=>{i.current=O,_()},[_]),B=()=>re.createElement("div",{className:P,ref:$,role:T?"presentation":"rowgroup"},d.map(O=>re.createElement(Ib,{rowCtrl:O,containerType:o.type,key:O.instanceId})));if(!T)return B();const G=()=>re.createElement("div",{className:M,ref:V,role:"presentation"},w.map(O=>re.createElement(Ib,{rowCtrl:O,containerType:o.type,key:O.instanceId})));return re.createElement("div",{className:E,ref:F,role:"rowgroup"},B(),g?G():null)},K3=b.memo(j3),q3=()=>{const e=b.useContext(un),{context:t,overlays:n}=e,[o,i]=b.useState(""),[r,s]=b.useState(0),[l,u]=b.useState(0),[d,p]=b.useState("0px"),[g,m]=b.useState("0px"),[C,w]=b.useState("100%"),[y,R]=b.useState("0px"),[x,E]=b.useState("0px"),[P,M]=b.useState("100%"),[T,k]=b.useState(!0),[I,z]=b.useState(!0),[_,$]=b.useState(null),[V,F]=b.useState(""),[B,G]=b.useState(null),[O,Y]=b.useState("ag-layout-normal"),ne=b.useRef();ne.current||(ne.current=new ec(()=>j.current));const j=b.useRef(null),X=b.useRef(null),K=b.useRef(null),L=b.useRef(null),W=b.useRef(null),ie=b.useRef(null),pe=b.useRef(null),ye=b.useRef([]),ve=b.useRef([]);kr(" AG Grid Body ",j),kr(" AG Pinned Top ",X),kr(" AG Sticky Top ",K),kr(" AG Middle ",ie),kr(" AG Pinned Bottom ",pe);const De=b.useCallback(fe=>{if(j.current=fe,!fe||t.isDestroyed()){ye.current=t.destroyBeans(ye.current);for(const Ye of ve.current)Ye();ve.current=[];return}const ge=(Ye,Rt)=>{Ye.appendChild(Rt),ve.current.push(()=>Rt.remove())},mt=Ye=>{const Rt=t.createBean(new Ye);return ye.current.push(Rt),Rt},Ke=(Ye,Rt,vn)=>{ge(Ye,document.createComment(vn)),ge(Ye,mt(Rt).getGui())};Ke(fe,sI," AG Fake Horizontal Scroll ");const Et=n?.getOverlayWrapperCompClass();Et&&Ke(fe,Et," AG Overlay Wrapper "),W.current&&Ke(W.current,lI," AG Fake Vertical Scroll ");const Qt={setRowAnimationCssOnBodyViewport:i,setColumnCount:Ye=>{j.current&&g1(j.current,Ye)},setRowCount:Ye=>{j.current&&h1(j.current,Ye)},setTopHeight:s,setBottomHeight:u,setStickyTopHeight:p,setStickyTopTop:m,setStickyTopWidth:w,setTopInvisible:k,setBottomInvisible:z,setColumnMovingCss:(Ye,Rt)=>ne.current.toggleCss(Ye,Rt),updateLayoutClasses:Y,setAlwaysVerticalScrollClass:$,setPinnedTopBottomOverflowY:F,setCellSelectableCss:(Ye,Rt)=>G(Rt?Ye:null),setBodyViewportWidth:Ye=>{ie.current&&(ie.current.style.width=Ye)},registerBodyViewportResizeListener:Ye=>{if(ie.current){const Rt=Si(e,ie.current,Ye);ve.current.push(()=>Rt())}},setStickyBottomHeight:R,setStickyBottomBottom:E,setStickyBottomWidth:M,setGridRootRole:Ye=>fe.setAttribute("role",Ye)},Cn=t.createBean(new AI);ye.current.push(Cn),Cn.setComp(Qt,fe,ie.current,X.current,pe.current,K.current,L.current)},[]),Ie=b.useMemo(()=>Qn("ag-root","ag-unselectable",O),[O]),Pe=b.useMemo(()=>Qn("ag-body-viewport",o,O,_,B),[o,O,_,B]),he=b.useMemo(()=>Qn("ag-body",O),[O]),Be=b.useMemo(()=>Qn("ag-floating-top",T?"ag-invisible":null,B),[B,T]),Ge=b.useMemo(()=>Qn("ag-sticky-top",B),[B]),Ue=b.useMemo(()=>Qn("ag-sticky-bottom",y==="0px"?"ag-invisible":null,B),[B,y]),Te=b.useMemo(()=>Qn("ag-floating-bottom",I?"ag-invisible":null,B),[B,I]),We=b.useMemo(()=>({height:r,minHeight:r,overflowY:V}),[r,V]),bt=b.useMemo(()=>({height:d,top:g,width:C}),[d,g,C]),Fe=b.useMemo(()=>({height:y,bottom:x,width:P}),[y,x,P]),Ne=b.useMemo(()=>({height:l,minHeight:l,overflowY:V}),[l,V]),je=fe=>re.createElement(K3,{name:fe,key:`${fe}-container`}),ze=({section:fe,children:ge,className:mt,style:Ke})=>re.createElement("div",{ref:fe,className:mt,role:"presentation",style:Ke},ge.map(je));return re.createElement("div",{ref:De,className:Ie},re.createElement(L3,null),ze({section:X,className:Be,style:We,children:["topLeft","topCenter","topRight","topFullWidth"]}),re.createElement("div",{className:he,ref:W,role:"presentation"},ze({section:ie,className:Pe,children:["left","center","right","fullWidth"]})),ze({section:K,className:Ge,style:bt,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ze({section:L,className:Ue,style:Fe,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ze({section:pe,className:Te,style:Ne,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Y3=b.memo(q3),Q3=(e,t)=>{const{children:n,eFocusableElement:o,onTabKeyDown:i,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:s,isEmpty:l}=e,{context:u}=b.useContext(un),d=b.useRef(null),p=b.useRef(null),g=b.useRef(),m=x=>{const E=x==null?void 0:parseInt(x,10).toString();for(const P of[d,p])E===void 0?P.current?.removeAttribute("tabindex"):P.current?.setAttribute("tabindex",E)};b.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){g.current?.forceFocusOutOfContainer(x)}}));const C=b.useCallback(()=>{const x=d.current,E=p.current;if(!x&&!E||u.isDestroyed()){g.current=u.destroyBean(g.current);return}if(x&&E){const P={setTabIndex:m};g.current=u.createBean(new Z_({comp:P,eTopGuard:x,eBottomGuard:E,eFocusableElement:o,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:M=>r.focusInnerElement(M),isEmpty:l}))}},[]),w=b.useCallback(x=>{d.current=x,C()},[C]),y=b.useCallback(x=>{p.current=x,C()},[C]),R=x=>{const E=x==="top"?na.TAB_GUARD_TOP:na.TAB_GUARD_BOTTOM;return re.createElement("div",{className:`${na.TAB_GUARD} ${E}`,role:"presentation",ref:x==="top"?w:y})};return re.createElement(re.Fragment,null,R("top"),n,R("bottom"))},X3=b.forwardRef(Q3),Z3=b.memo(X3),J3=({context:e})=>{const[t,n]=b.useState(""),[o,i]=b.useState(""),[r,s]=b.useState(null),[l,u]=b.useState(null),[d,p]=b.useState(!1),[g,m]=b.useState(),C=b.useRef(),w=b.useRef(null),y=b.useRef(),[R,x]=b.useState(null),E=b.useRef(()=>{}),P=b.useRef(),M=b.useRef([]),T=b.useCallback(()=>{},[]);kr(" AG Grid ",w);const k=b.useCallback(F=>{if(w.current=F,C.current=F?e.createBean(new BI):e.destroyBean(C.current),!F||e.isDestroyed())return;const B=C.current;E.current=B.focusInnerElement.bind(B);const G={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:O=>{if(!O&&P.current?.isDisplayed()){P.current.forceFocusOutOfContainer(O);return}y.current?.forceFocusOutOfContainer(O)},updateLayoutClasses:i,getFocusableContainers:()=>{const O=[],Y=w.current?.querySelector(".ag-root");Y&&O.push({getGui:()=>Y});for(const ne of M.current)ne.isDisplayed()&&O.push(ne);return O},setCursor:s,setUserSelect:u};B.setComp(G,F,F),p(!0)},[]);b.useEffect(()=>{const F=C.current,B=w.current;if(!g||!F||!R||!B||e.isDestroyed())return;const G=[],{watermarkSelector:O,paginationSelector:Y,sideBarSelector:ne,statusBarSelector:j,gridHeaderDropZonesSelector:X}=F.getOptionalSelectors(),K=[];if(X){const W=e.createBean(new X.component),ie=W.getGui();B.insertAdjacentElement("afterbegin",ie),K.push(ie),G.push(W)}if(ne){const W=e.createBean(new ne.component),ie=W.getGui(),pe=R.querySelector(".ag-tab-guard-bottom");pe&&(pe.insertAdjacentElement("beforebegin",ie),K.push(ie)),G.push(W),M.current.push(W)}const L=W=>{const ie=e.createBean(new W),pe=ie.getGui();return B.insertAdjacentElement("beforeend",pe),K.push(pe),G.push(ie),ie};if(j&&L(j.component),Y){const W=L(Y.component);P.current=W,M.current.push(W)}return O&&L(O.component),()=>{e.destroyBeans(G);for(const W of K)W.remove()}},[g,R,e]);const I=b.useMemo(()=>Qn("ag-root-wrapper",t,o),[t,o]),z=b.useMemo(()=>Qn("ag-root-wrapper-body","ag-focus-managed",o),[o]),_=b.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:r??""}),[l,r]),$=b.useCallback(F=>{y.current=F,m(F!==null)},[]),V=b.useCallback(()=>!C.current?.isFocusable(),[]);return re.createElement("div",{ref:k,className:I,style:_,role:"presentation"},re.createElement("div",{className:z,ref:x,role:"presentation"},d&&R&&!e.isDestroyed()&&re.createElement(un.Provider,{value:e.getBeans()},re.createElement(Z3,{ref:$,eFocusableElement:R,onTabKeyDown:T,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:V},re.createElement(Y3,null)))))},e4=b.memo(J3),t4=class extends ee{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},n4=typeof window>"u"?b.useEffect:b.useLayoutEffect,jF={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},o4={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...jF},KF=new Set(Object.keys(o4)),i4=new Set(Object.keys(jF)),qF=e=>{const t=b.useContext(S3),n=b.useContext(b3),o=b.useRef(),i=b.useRef(null),r=b.useRef(null),s=b.useRef([]),l=b.useRef([]),u=b.useRef(e),d=b.useRef(),p=b.useRef(),g=b.useRef(!1),[m,C]=b.useState(void 0),[,w]=b.useState(0),y=b.useRef(),R=T=>{const k=i.current?.classList,I=(z="")=>z.trim().split(/\s+/g).filter(Boolean);if(y.current!==T){for(const z of I(y.current))k?.contains(z)&&k.remove(z);for(const z of I(T))k?.contains(z)||k?.add(z);y.current=T}};n4(()=>{R(e.className)},[e.className]);const x=b.useCallback(T=>{if(i.current=T,R(e.className),!T){for(const O of s.current)O();s.current.length=0;return}const k=[...e.modules??[],...t??[]];n&&lR(k)?.setLicenseKey(n),r.current||(r.current=new y3(()=>w(O=>O+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{r.current?.destroy(),r.current=null}));const I=CT(e.gridOptions,e,Object.keys(e).filter(O=>!KF.has(O))),z=()=>{if(g.current){const O=()=>d.current?.shouldQueueUpdates()?void 0:l.current.shift();let Y=O();for(;Y;)Y(),Y=O()}},_=new l4(z);d.current=_;const $=new t4,V={providedBeanInstances:{frameworkCompWrapper:new s4(r.current,I),renderStatus:$},modules:k,frameworkOverrides:_,setThemeOnGridDiv:!0},F=O=>{C(O),O.createBean($),s.current.push(()=>{O.destroy()}),O.getBean("ctrlsSvc").whenReady({addDestroyFunc:Y=>{s.current.push(Y)}},()=>{if(O.isDestroyed())return;const Y=o.current;Y&&e.passGridApi?.(Y)})},B=O=>{O.getBean("ctrlsSvc").whenReady({addDestroyFunc:Y=>{s.current.push(Y)}},()=>{for(const Y of l.current)Y();l.current.length=0,g.current=!0})},G=new eH;I.gridId??(I.gridId=p.current),o.current=G.create(T,I,F,B,V),s.current.push(()=>{o.current=void 0}),o.current&&(p.current=o.current.getGridId())},[]),E=b.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),P=b.useCallback(T=>{g.current&&!d.current?.shouldQueueUpdates()?T():l.current.push(T)},[]);b.useEffect(()=>{const T=r4(u.current,e);u.current=e,P(()=>{o.current&&vT(T,o.current)})},[e]);const M=!re.useSyncExternalStore||ju(e,"renderingMode")==="legacy"?"legacy":"default";return re.createElement("div",{style:E,ref:x},re.createElement(GF.Provider,{value:M},m&&!m.isDestroyed()?re.createElement(e4,{key:m.instanceId,context:m}):null,r.current?.getPortals()??null))};function r4(e,t){const n={};for(const o of Object.keys(t)){if(KF.has(o)){i4.has(o)&&oe(274,{prop:o});continue}const i=t[o];e[o]!==i&&(n[o]=i)}return n}var s4=class extends X_{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(ju(n,"reactiveCustomComponents")){const s=(l=>{switch(l){case"filter":return ju(n,"enableFilterHandlers")?d3:u3;case"floatingFilterComponent":return ju(n,"enableFilterHandlers")?g3:p3;case"dateComponent":return l3;case"dragAndDropImageComponent":return c3;case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":return a3;case"statusPanel":return C3;case"toolPanel":return v3;case"menuItem":return m3;case"cellRenderer":return s3;case"innerHeaderComponent":return f3}})(t.name);if(s)return new s(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":MC();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new _F(e,this.parent,t,i)}},a4=b.forwardRef((e,t)=>{const n=b.useContext(un),{registry:o,context:i,gos:r,rowModel:s}=n,[l,u]=b.useState(()=>new eo),[d,p]=b.useState(()=>new eo),[g,m]=b.useState(),[C,w]=b.useState(),y=b.useRef(),R=b.useRef(null),x=b.useRef(),E=b.useMemo(()=>q1(e.api.getGridId(),g?.rowModelType??"clientSide"),[e]),P=b.useMemo(()=>l.toString()+" ag-details-row",[l]),M=b.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&b.useImperativeHandle(t,()=>({refresh(){return y.current?.refresh()??!1}})),e.template&&oe(230);const T=b.useCallback(I=>{if(R.current=I,!I||i.isDestroyed()){y.current=i.destroyBean(y.current),x.current?.();return}const z={toggleCss:($,V)=>u(F=>F.setClass($,V)),toggleDetailGridCss:($,V)=>p(F=>F.setClass($,V)),setDetailGrid:$=>m($),setRowData:$=>w($),getGui:()=>R.current},_=o.createDynamicBean("detailCellRendererCtrl",!0);if(_&&(i.createBean(_),_.init(z,e),y.current=_,r.get("detailRowAutoHeight"))){const $=()=>{if(R.current==null)return;const V=R.current.clientHeight;V!=null&&V>0&&setTimeout(()=>{e.node.setRowHeight(V),(Nt(r)||wa(r))&&s.onRowHeightChanged()},0)};x.current=Si(n,I,$),$()}},[]),k=b.useCallback(I=>{y.current?.registerDetailWithMaster(I)},[]);return re.createElement("div",{className:P,ref:T},g&&re.createElement(qF,{className:M,...g,modules:E,rowData:C,passGridApi:k}))}),l4=class extends Jx{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:Db,agGroupRowRenderer:Db,agDetailCellRenderer:a4},this.wrapIncoming=(t,n)=>n==="ensureVisible"?e3(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return J_()}},c4=class extends b.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return re.createElement(qF,{...this.props,passGridApi:this.setGridApi})}};const Ql={black:"#000",white:"#fff"},Ls={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Os={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ns={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Bs={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Hs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},pl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},u4={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function vi(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(o=>n.searchParams.append("args[]",o)),`Minified MUI error #${e}; visit ${n} for the full message.`}const kC="$$material";function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Od.apply(null,arguments)}function d4(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function h4(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var p4=(function(){function e(n){var o=this;this._insertTag=function(i){var r;o.tags.length===0?o.insertionPoint?r=o.insertionPoint.nextSibling:o.prepend?r=o.container.firstChild:r=o.before:r=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(i,r),o.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(h4(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=d4(i);try{r.insertRule(o,r.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){var i;return(i=o.parentNode)==null?void 0:i.removeChild(o)}),this.tags=[],this.ctr=0},e})(),an="-ms-",Nd="-moz-",Xe="-webkit-",YF="comm",IC="rule",AC="decl",g4="@import",QF="@keyframes",f4="@layer",m4=Math.abs,dh=String.fromCharCode,C4=Object.assign;function v4(e,t){return Jt(e,0)^45?(((t<<2^Jt(e,0))<<2^Jt(e,1))<<2^Jt(e,2))<<2^Jt(e,3):0}function XF(e){return e.trim()}function w4(e,t){return(e=t.exec(e))?e[0]:e}function Ze(e,t,n){return e.replace(t,n)}function om(e,t){return e.indexOf(t)}function Jt(e,t){return e.charCodeAt(t)|0}function Xl(e,t,n){return e.slice(t,n)}function No(e){return e.length}function LC(e){return e.length}function Bu(e,t){return t.push(e),e}function y4(e,t){return e.map(t).join("")}var hh=1,fa=1,ZF=0,kn=0,Vt=0,Ra="";function ph(e,t,n,o,i,r,s){return{value:e,root:t,parent:n,type:o,props:i,children:r,line:hh,column:fa,length:s,return:""}}function gl(e,t){return C4(ph("",null,null,"",null,null,0),e,{length:-e.length},t)}function S4(){return Vt}function b4(){return Vt=kn>0?Jt(Ra,--kn):0,fa--,Vt===10&&(fa=1,hh--),Vt}function Gn(){return Vt=kn<ZF?Jt(Ra,kn++):0,fa++,Vt===10&&(fa=1,hh++),Vt}function $o(){return Jt(Ra,kn)}function od(){return kn}function cc(e,t){return Xl(Ra,e,t)}function Zl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JF(e){return hh=fa=1,ZF=No(Ra=e),kn=0,[]}function eP(e){return Ra="",e}function id(e){return XF(cc(kn-1,im(e===91?e+2:e===40?e+1:e)))}function R4(e){for(;(Vt=$o())&&Vt<33;)Gn();return Zl(e)>2||Zl(Vt)>3?"":" "}function x4(e,t){for(;--t&&Gn()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return cc(e,od()+(t<6&&$o()==32&&Gn()==32))}function im(e){for(;Gn();)switch(Vt){case e:return kn;case 34:case 39:e!==34&&e!==39&&im(Vt);break;case 40:e===41&&im(e);break;case 92:Gn();break}return kn}function F4(e,t){for(;Gn()&&e+Vt!==57;)if(e+Vt===84&&$o()===47)break;return"/*"+cc(t,kn-1)+"*"+dh(e===47?e:Gn())}function P4(e){for(;!Zl($o());)Gn();return cc(e,kn)}function E4(e){return eP(rd("",null,null,null,[""],e=JF(e),0,[0],e))}function rd(e,t,n,o,i,r,s,l,u){for(var d=0,p=0,g=s,m=0,C=0,w=0,y=1,R=1,x=1,E=0,P="",M=i,T=r,k=o,I=P;R;)switch(w=E,E=Gn()){case 40:if(w!=108&&Jt(I,g-1)==58){om(I+=Ze(id(E),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:I+=id(E);break;case 9:case 10:case 13:case 32:I+=R4(w);break;case 92:I+=x4(od()-1,7);continue;case 47:switch($o()){case 42:case 47:Bu(D4(F4(Gn(),od()),t,n),u);break;default:I+="/"}break;case 123*y:l[d++]=No(I)*x;case 125*y:case 59:case 0:switch(E){case 0:case 125:R=0;case 59+p:x==-1&&(I=Ze(I,/\f/g,"")),C>0&&No(I)-g&&Bu(C>32?Lb(I+";",o,n,g-1):Lb(Ze(I," ","")+";",o,n,g-2),u);break;case 59:I+=";";default:if(Bu(k=Ab(I,t,n,d,p,i,l,P,M=[],T=[],g),r),E===123)if(p===0)rd(I,t,k,k,M,r,g,l,T);else switch(m===99&&Jt(I,3)===110?100:m){case 100:case 108:case 109:case 115:rd(e,k,k,o&&Bu(Ab(e,k,k,0,0,i,l,P,i,M=[],g),T),i,T,g,l,o?M:T);break;default:rd(I,k,k,k,[""],T,0,l,T)}}d=p=C=0,y=x=1,P=I="",g=s;break;case 58:g=1+No(I),C=w;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&b4()==125)continue}switch(I+=dh(E),E*y){case 38:x=p>0?1:(I+="\f",-1);break;case 44:l[d++]=(No(I)-1)*x,x=1;break;case 64:$o()===45&&(I+=id(Gn())),m=$o(),p=g=No(P=I+=P4(od())),E++;break;case 45:w===45&&No(I)==2&&(y=0)}}return r}function Ab(e,t,n,o,i,r,s,l,u,d,p){for(var g=i-1,m=i===0?r:[""],C=LC(m),w=0,y=0,R=0;w<o;++w)for(var x=0,E=Xl(e,g+1,g=m4(y=s[w])),P=e;x<C;++x)(P=XF(y>0?m[x]+" "+E:Ze(E,/&\f/g,m[x])))&&(u[R++]=P);return ph(e,t,n,i===0?IC:l,u,d,p)}function D4(e,t,n){return ph(e,t,n,YF,dh(S4()),Xl(e,2,-2),0)}function Lb(e,t,n,o){return ph(e,t,n,AC,Xl(e,0,o),Xl(e,o+1,-1),o)}function ra(e,t){for(var n="",o=LC(e),i=0;i<o;i++)n+=t(e[i],i,e,t)||"";return n}function T4(e,t,n,o){switch(e.type){case f4:if(e.children.length)break;case g4:case AC:return e.return=e.return||e.value;case YF:return"";case QF:return e.return=e.value+"{"+ra(e.children,o)+"}";case IC:e.value=e.props.join(",")}return No(n=ra(e.children,o))?e.return=e.value+"{"+n+"}":""}function M4(e){var t=LC(e);return function(n,o,i,r){for(var s="",l=0;l<t;l++)s+=e[l](n,o,i,r)||"";return s}}function k4(e){return function(t){t.root||(t=t.return)&&e(t)}}function tP(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var I4=function(t,n,o){for(var i=0,r=0;i=r,r=$o(),i===38&&r===12&&(n[o]=1),!Zl(r);)Gn();return cc(t,kn)},A4=function(t,n){var o=-1,i=44;do switch(Zl(i)){case 0:i===38&&$o()===12&&(n[o]=1),t[o]+=I4(kn-1,n,o);break;case 2:t[o]+=id(i);break;case 4:if(i===44){t[++o]=$o()===58?"&\f":"",n[o]=t[o].length;break}default:t[o]+=dh(i)}while(i=Gn());return t},L4=function(t,n){return eP(A4(JF(t),n))},Ob=new WeakMap,O4=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,o=t.parent,i=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Ob.get(o))&&!i){Ob.set(t,!0);for(var r=[],s=L4(n,r),l=o.props,u=0,d=0;u<s.length;u++)for(var p=0;p<l.length;p++,d++)t.props[d]=r[u]?s[u].replace(/&\f/g,l[p]):l[p]+" "+s[u]}}},N4=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function nP(e,t){switch(v4(e,t)){case 5103:return Xe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+e+Nd+e+an+e+e;case 6828:case 4268:return Xe+e+an+e+e;case 6165:return Xe+e+an+"flex-"+e+e;case 5187:return Xe+e+Ze(e,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+an+"flex-$1$2")+e;case 5443:return Xe+e+an+"flex-item-"+Ze(e,/flex-|-self/,"")+e;case 4675:return Xe+e+an+"flex-line-pack"+Ze(e,/align-content|flex-|-self/,"")+e;case 5548:return Xe+e+an+Ze(e,"shrink","negative")+e;case 5292:return Xe+e+an+Ze(e,"basis","preferred-size")+e;case 6060:return Xe+"box-"+Ze(e,"-grow","")+Xe+e+an+Ze(e,"grow","positive")+e;case 4554:return Xe+Ze(e,/([^-])(transform)/g,"$1"+Xe+"$2")+e;case 6187:return Ze(Ze(Ze(e,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),e,"")+e;case 5495:case 3959:return Ze(e,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return Ze(Ze(e,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+an+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+e+e;case 4095:case 3583:case 4068:case 2532:return Ze(e,/(.+)-inline(.+)/,Xe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(e)-1-t>6)switch(Jt(e,t+1)){case 109:if(Jt(e,t+4)!==45)break;case 102:return Ze(e,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+Nd+(Jt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~om(e,"stretch")?nP(Ze(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Jt(e,t+1)!==115)break;case 6444:switch(Jt(e,No(e)-3-(~om(e,"!important")&&10))){case 107:return Ze(e,":",":"+Xe)+e;case 101:return Ze(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(Jt(e,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+an+"$2box$3")+e}break;case 5936:switch(Jt(e,t+11)){case 114:return Xe+e+an+Ze(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Xe+e+an+Ze(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Xe+e+an+Ze(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Xe+e+an+e+e}return e}var B4=function(t,n,o,i){if(t.length>-1&&!t.return)switch(t.type){case AC:t.return=nP(t.value,t.length);break;case QF:return ra([gl(t,{value:Ze(t.value,"@","@"+Xe)})],i);case IC:if(t.length)return y4(t.props,function(r){switch(w4(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ra([gl(t,{props:[Ze(r,/:(read-\w+)/,":"+Nd+"$1")]})],i);case"::placeholder":return ra([gl(t,{props:[Ze(r,/:(plac\w+)/,":"+Xe+"input-$1")]}),gl(t,{props:[Ze(r,/:(plac\w+)/,":"+Nd+"$1")]}),gl(t,{props:[Ze(r,/:(plac\w+)/,an+"input-$1")]})],i)}return""})}},H4=[B4],G4=function(t){var n=t.key;if(n==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(y){var R=y.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||H4,r={},s,l=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var R=y.getAttribute("data-emotion").split(" "),x=1;x<R.length;x++)r[R[x]]=!0;l.push(y)});var u,d=[O4,N4];{var p,g=[T4,k4(function(y){p.insert(y)})],m=M4(d.concat(i,g)),C=function(R){return ra(E4(R),m)};u=function(R,x,E,P){p=E,C(R?R+"{"+x.styles+"}":x.styles),P&&(w.inserted[x.name]=!0)}}var w={key:n,sheet:new p4({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:r,registered:{},insert:u};return w.sheet.hydrate(l),w},tf={exports:{}},Je={};var Nb;function V4(){if(Nb)return Je;Nb=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,r=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,C=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,R=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function P(T){if(typeof T=="object"&&T!==null){var k=T.$$typeof;switch(k){case t:switch(T=T.type,T){case u:case d:case o:case r:case i:case g:return T;default:switch(T=T&&T.$$typeof,T){case l:case p:case w:case C:case s:return T;default:return k}}case n:return k}}}function M(T){return P(T)===d}return Je.AsyncMode=u,Je.ConcurrentMode=d,Je.ContextConsumer=l,Je.ContextProvider=s,Je.Element=t,Je.ForwardRef=p,Je.Fragment=o,Je.Lazy=w,Je.Memo=C,Je.Portal=n,Je.Profiler=r,Je.StrictMode=i,Je.Suspense=g,Je.isAsyncMode=function(T){return M(T)||P(T)===u},Je.isConcurrentMode=M,Je.isContextConsumer=function(T){return P(T)===l},Je.isContextProvider=function(T){return P(T)===s},Je.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},Je.isForwardRef=function(T){return P(T)===p},Je.isFragment=function(T){return P(T)===o},Je.isLazy=function(T){return P(T)===w},Je.isMemo=function(T){return P(T)===C},Je.isPortal=function(T){return P(T)===n},Je.isProfiler=function(T){return P(T)===r},Je.isStrictMode=function(T){return P(T)===i},Je.isSuspense=function(T){return P(T)===g},Je.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===o||T===d||T===r||T===i||T===g||T===m||typeof T=="object"&&T!==null&&(T.$$typeof===w||T.$$typeof===C||T.$$typeof===s||T.$$typeof===l||T.$$typeof===p||T.$$typeof===R||T.$$typeof===x||T.$$typeof===E||T.$$typeof===y)},Je.typeOf=P,Je}var Bb;function W4(){return Bb||(Bb=1,tf.exports=V4()),tf.exports}var nf,Hb;function z4(){if(Hb)return nf;Hb=1;var e=W4(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[e.ForwardRef]=o,r[e.Memo]=i;function s(w){return e.isMemo(w)?i:r[w.$$typeof]||t}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,m=Object.prototype;function C(w,y,R){if(typeof y!="string"){if(m){var x=g(y);x&&x!==m&&C(w,x,R)}var E=u(y);d&&(E=E.concat(d(y)));for(var P=s(w),M=s(y),T=0;T<E.length;++T){var k=E[T];if(!n[k]&&!(R&&R[k])&&!(M&&M[k])&&!(P&&P[k])){var I=p(y,k);try{l(w,k,I)}catch{}}}}return w}return nf=C,nf}z4();var _4=!0;function oP(e,t,n){var o="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(o+=i+" ")}),o}var OC=function(t,n,o){var i=t.key+"-"+n.name;(o===!1||_4===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},NC=function(t,n,o){OC(t,n,o);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var r=n;do t.insert(n===r?"."+i:"",r,t.sheet,!0),r=r.next;while(r!==void 0)}};function $4(e){for(var t=0,n,o=0,i=e.length;i>=4;++o,i-=4)n=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var U4={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},j4=/[A-Z]|^ms/g,K4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iP=function(t){return t.charCodeAt(1)===45},Gb=function(t){return t!=null&&typeof t!="boolean"},of=tP(function(e){return iP(e)?e:e.replace(j4,"-$&").toLowerCase()}),Vb=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(K4,function(o,i,r){return Bo={name:i,styles:r,next:Bo},i})}return U4[t]!==1&&!iP(t)&&typeof n=="number"&&n!==0?n+"px":n};function Jl(e,t,n){if(n==null)return"";var o=n;if(o.__emotion_styles!==void 0)return o;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Bo={name:i.name,styles:i.styles,next:Bo},i.name;var r=n;if(r.styles!==void 0){var s=r.next;if(s!==void 0)for(;s!==void 0;)Bo={name:s.name,styles:s.styles,next:Bo},s=s.next;var l=r.styles+";";return l}return q4(e,t,n)}case"function":{if(e!==void 0){var u=Bo,d=n(e);return Bo=u,Jl(e,t,d)}break}}var p=n;if(t==null)return p;var g=t[p];return g!==void 0?g:p}function q4(e,t,n){var o="";if(Array.isArray(n))for(var i=0;i<n.length;i++)o+=Jl(e,t,n[i])+";";else for(var r in n){var s=n[r];if(typeof s!="object"){var l=s;t!=null&&t[l]!==void 0?o+=r+"{"+t[l]+"}":Gb(l)&&(o+=of(r)+":"+Vb(r,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var u=0;u<s.length;u++)Gb(s[u])&&(o+=of(r)+":"+Vb(r,s[u])+";");else{var d=Jl(e,t,s);switch(r){case"animation":case"animationName":{o+=of(r)+":"+d+";";break}default:o+=r+"{"+d+"}"}}}return o}var Wb=/label:\s*([^\s;{]+)\s*(;|$)/g,Bo;function uc(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,i="";Bo=void 0;var r=e[0];if(r==null||r.raw===void 0)o=!1,i+=Jl(n,t,r);else{var s=r;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=Jl(n,t,e[l]),o){var u=r;i+=u[l]}Wb.lastIndex=0;for(var d="",p;(p=Wb.exec(i))!==null;)d+="-"+p[1];var g=$4(i)+d;return{name:g,styles:i,next:Bo}}var Y4=function(t){return t()},rP=Cf.useInsertionEffect?Cf.useInsertionEffect:!1,sP=rP||Y4,zb=rP||b.useLayoutEffect,aP=b.createContext(typeof HTMLElement<"u"?G4({key:"css"}):null);aP.Provider;var BC=function(t){return b.forwardRef(function(n,o){var i=b.useContext(aP);return t(n,i,o)})},gh=b.createContext({}),HC={}.hasOwnProperty,rm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Q4=function(t,n){var o={};for(var i in n)HC.call(n,i)&&(o[i]=n[i]);return o[rm]=t,o},X4=function(t){var n=t.cache,o=t.serialized,i=t.isStringTag;return OC(n,o,i),sP(function(){return NC(n,o,i)}),null},Z4=BC(function(e,t,n){var o=e.css;typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var i=e[rm],r=[o],s="";typeof e.className=="string"?s=oP(t.registered,r,e.className):e.className!=null&&(s=e.className+" ");var l=uc(r,void 0,b.useContext(gh));s+=t.key+"-"+l.name;var u={};for(var d in e)HC.call(e,d)&&d!=="css"&&d!==rm&&(u[d]=e[d]);return u.className=s,n&&(u.ref=n),b.createElement(b.Fragment,null,b.createElement(X4,{cache:t,serialized:l,isStringTag:typeof i=="string"}),b.createElement(i,u))}),J4=Z4,_b=function(t,n){var o=arguments;if(n==null||!HC.call(n,"css"))return b.createElement.apply(void 0,o);var i=o.length,r=new Array(i);r[0]=J4,r[1]=Q4(t,n);for(var s=2;s<i;s++)r[s]=o[s];return b.createElement.apply(null,r)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(_b||(_b={}));var e6=BC(function(e,t){var n=e.styles,o=uc([n],void 0,b.useContext(gh)),i=b.useRef();return zb(function(){var r=t.key+"-global",s=new t.sheet.constructor({key:r,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+r+" "+o.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",r),s.hydrate([u])),i.current=[s,l],function(){s.flush()}},[t]),zb(function(){var r=i.current,s=r[0],l=r[1];if(l){r[1]=!1;return}if(o.next!==void 0&&NC(t,o.next,!0),s.tags.length){var u=s.tags[s.tags.length-1].nextElementSibling;s.before=u,s.flush()}t.insert("",o,s,!1)},[t,o.name]),null});function GC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uc(t)}function dc(){var e=GC.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var t6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,n6=tP(function(e){return t6.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),o6=n6,i6=function(t){return t!=="theme"},$b=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?o6:i6},Ub=function(t,n,o){var i;if(n){var r=n.shouldForwardProp;i=t.__emotion_forwardProp&&r?function(s){return t.__emotion_forwardProp(s)&&r(s)}:r}return typeof i!="function"&&o&&(i=t.__emotion_forwardProp),i},r6=function(t){var n=t.cache,o=t.serialized,i=t.isStringTag;return OC(n,o,i),sP(function(){return NC(n,o,i)}),null},s6=function e(t,n){var o=t.__emotion_real===t,i=o&&t.__emotion_base||t,r,s;n!==void 0&&(r=n.label,s=n.target);var l=Ub(t,n,o),u=l||$b(i),d=!u("as");return function(){var p=arguments,g=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(r!==void 0&&g.push("label:"+r+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var m=p[0];g.push(m[0]);for(var C=p.length,w=1;w<C;w++)g.push(p[w],m[w])}var y=BC(function(R,x,E){var P=d&&R.as||i,M="",T=[],k=R;if(R.theme==null){k={};for(var I in R)k[I]=R[I];k.theme=b.useContext(gh)}typeof R.className=="string"?M=oP(x.registered,T,R.className):R.className!=null&&(M=R.className+" ");var z=uc(g.concat(T),x.registered,k);M+=x.key+"-"+z.name,s!==void 0&&(M+=" "+s);var _=d&&l===void 0?$b(P):u,$={};for(var V in R)d&&V==="as"||_(V)&&($[V]=R[V]);return $.className=M,E&&($.ref=E),b.createElement(b.Fragment,null,b.createElement(r6,{cache:x,serialized:z,isStringTag:typeof P=="string"}),b.createElement(P,$))});return y.displayName=r!==void 0?r:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=g,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(R,x){var E=e(R,Od({},n,x,{shouldForwardProp:Ub(y,x,!0)}));return E.apply(void 0,g)},y}},a6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],sm=s6.bind(null);a6.forEach(function(e){sm[e]=sm(e)});function l6(e){return e==null||Object.keys(e).length===0}function c6(e){const{styles:t,defaultTheme:n={}}=e,o=typeof t=="function"?i=>t(l6(i)?n:i):t;return J.jsx(e6,{styles:o})}function u6(e,t){return sm(e,t)}function d6(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const jb=[];function Xi(e){return jb[0]=e,uc(jb)}var rf={exports:{}},dt={};var Kb;function h6(){if(Kb)return dt;Kb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function w(y){if(typeof y=="object"&&y!==null){var R=y.$$typeof;switch(R){case e:switch(y=y.type,y){case n:case i:case o:case u:case d:case m:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case p:return y;case r:return y;default:return R}}case t:return R}}}return dt.ContextConsumer=r,dt.ContextProvider=s,dt.Element=e,dt.ForwardRef=l,dt.Fragment=n,dt.Lazy=g,dt.Memo=p,dt.Portal=t,dt.Profiler=i,dt.StrictMode=o,dt.Suspense=u,dt.SuspenseList=d,dt.isContextConsumer=function(y){return w(y)===r},dt.isContextProvider=function(y){return w(y)===s},dt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},dt.isForwardRef=function(y){return w(y)===l},dt.isFragment=function(y){return w(y)===n},dt.isLazy=function(y){return w(y)===g},dt.isMemo=function(y){return w(y)===p},dt.isPortal=function(y){return w(y)===t},dt.isProfiler=function(y){return w(y)===i},dt.isStrictMode=function(y){return w(y)===o},dt.isSuspense=function(y){return w(y)===u},dt.isSuspenseList=function(y){return w(y)===d},dt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===o||y===u||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===p||y.$$typeof===s||y.$$typeof===r||y.$$typeof===l||y.$$typeof===C||y.getModuleId!==void 0)},dt.typeOf=w,dt}var qb;function p6(){return qb||(qb=1,rf.exports=h6()),rf.exports}var lP=p6();function Go(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cP(e){if(b.isValidElement(e)||lP.isValidElementType(e)||!Go(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=cP(e[n])}),t}function cn(e,t,n={clone:!0}){const o=n.clone?{...e}:e;return Go(e)&&Go(t)&&Object.keys(t).forEach(i=>{b.isValidElement(t[i])||lP.isValidElementType(t[i])?o[i]=t[i]:Go(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Go(e[i])?o[i]=cn(e[i],t[i],n):n.clone?o[i]=Go(t[i])?cP(t[i]):t[i]:o[i]=t[i]}),o}const g6=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,o)=>n.val-o.val),t.reduce((n,o)=>({...n,[o.key]:o.val}),{})};function f6(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5,...i}=e,r=g6(t),s=Object.keys(r);function l(m){return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof t[m]=="number"?t[m]:m)-o/100}${n})`}function d(m,C){const w=s.indexOf(C);return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n}) and (max-width:${(w!==-1&&typeof t[s[w]]=="number"?t[s[w]]:C)-o/100}${n})`}function p(m){return s.indexOf(m)+1<s.length?d(m,s[s.indexOf(m)+1]):l(m)}function g(m){const C=s.indexOf(m);return C===0?l(s[1]):C===s.length-1?u(s[C]):d(m,s[s.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:s,values:r,up:l,down:u,between:d,only:p,not:g,unit:n,...i}}function Yb(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(o=>o.startsWith("@container")).sort((o,i)=>{const r=/min-width:\s*([0-9.]+)/;return+(o.match(r)?.[1]||0)-+(i.match(r)?.[1]||0)});return n.length?n.reduce((o,i)=>{const r=t[i];return delete o[i],o[i]=r,o},{...t}):t}function m6(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function C6(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,o,i]=n,r=Number.isNaN(+o)?o||0:+o;return e.containerQueries(i).up(r)}function v6(e){const t=(r,s)=>r.replace("@media",s?`@container ${s}`:"@container");function n(r,s){r.up=(...l)=>t(e.breakpoints.up(...l),s),r.down=(...l)=>t(e.breakpoints.down(...l),s),r.between=(...l)=>t(e.breakpoints.between(...l),s),r.only=(...l)=>t(e.breakpoints.only(...l),s),r.not=(...l)=>{const u=t(e.breakpoints.not(...l),s);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const o={},i=r=>(n(o,r),o);return n(i),{...e,containerQueries:i}}const w6={borderRadius:4};function Ol(e,t){return t?cn(e,t,{clone:!1}):e}const fh={xs:0,sm:600,md:900,lg:1200,xl:1536},Qb={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${fh[e]}px)`},y6={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:fh[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function wi(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const r=o.breakpoints||Qb;return t.reduce((s,l,u)=>(s[r.up(r.keys[u])]=n(t[u]),s),{})}if(typeof t=="object"){const r=o.breakpoints||Qb;return Object.keys(t).reduce((s,l)=>{if(m6(r.keys,l)){const u=C6(o.containerQueries?o:y6,l);u&&(s[u]=n(t[l],l))}else if(Object.keys(r.values||fh).includes(l)){const u=r.up(l);s[u]=n(t[l],l)}else{const u=l;s[u]=t[u]}return s},{})}return n(t)}function S6(e={}){return e.keys?.reduce((n,o)=>{const i=e.up(o);return n[i]={},n},{})||{}}function Xb(e,t){return e.reduce((n,o)=>{const i=n[o];return(!i||Object.keys(i).length===0)&&delete n[o],n},t)}function Me(e){if(typeof e!="string")throw new Error(vi(7));return e.charAt(0).toUpperCase()+e.slice(1)}function mh(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const o=`vars.${t}`.split(".").reduce((i,r)=>i&&i[r]?i[r]:null,e);if(o!=null)return o}return t.split(".").reduce((o,i)=>o&&o[i]!=null?o[i]:null,e)}function Bd(e,t,n,o=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||o:i=mh(e,n)||o,t&&(i=t(i,o,e)),i}function Ht(e){const{prop:t,cssProperty:n=e.prop,themeKey:o,transform:i}=e,r=s=>{if(s[t]==null)return null;const l=s[t],u=s.theme,d=mh(u,o)||{};return wi(s,l,g=>{let m=Bd(d,i,g);return g===m&&typeof g=="string"&&(m=Bd(d,i,`${t}${g==="default"?"":Me(g)}`,g)),n===!1?m:{[n]:m}})};return r.propTypes={},r.filterProps=[t],r}function b6(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const R6={m:"margin",p:"padding"},x6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Zb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F6=b6(e=>{if(e.length>2)if(Zb[e])e=Zb[e];else return[e];const[t,n]=e.split(""),o=R6[t],i=x6[n]||"";return Array.isArray(i)?i.map(r=>o+r):[o+i]}),VC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],WC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VC,...WC];function hc(e,t,n,o){const i=mh(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?r=>typeof r=="string"?r:typeof i=="string"?i.startsWith("var(")&&r===0?0:i.startsWith("var(")&&r===1?i:`calc(${r} * ${i})`:i*r:Array.isArray(i)?r=>{if(typeof r=="string")return r;const s=Math.abs(r),l=i[s];return r>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof i=="function"?i:()=>{}}function zC(e){return hc(e,"spacing",8)}function pc(e,t){return typeof t=="string"||t==null?t:e(t)}function P6(e,t){return n=>e.reduce((o,i)=>(o[i]=pc(t,n),o),{})}function E6(e,t,n,o){if(!t.includes(n))return null;const i=F6(n),r=P6(i,o),s=e[n];return wi(e,s,r)}function uP(e,t){const n=zC(e.theme);return Object.keys(e).map(o=>E6(e,t,o,n)).reduce(Ol,{})}function Tt(e){return uP(e,VC)}Tt.propTypes={};Tt.filterProps=VC;function Mt(e){return uP(e,WC)}Mt.propTypes={};Mt.filterProps=WC;function dP(e=8,t=zC({spacing:e})){if(e.mui)return e;const n=(...o)=>(o.length===0?[1]:o).map(r=>{const s=t(r);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Ch(...e){const t=e.reduce((o,i)=>(i.filterProps.forEach(r=>{o[r]=i}),o),{}),n=o=>Object.keys(o).reduce((i,r)=>t[r]?Ol(i,t[r](o)):i,{});return n.propTypes={},n.filterProps=e.reduce((o,i)=>o.concat(i.filterProps),[]),n}function Zn(e){return typeof e!="number"?e:`${e}px solid`}function oo(e,t){return Ht({prop:e,themeKey:"borders",transform:t})}const D6=oo("border",Zn),T6=oo("borderTop",Zn),M6=oo("borderRight",Zn),k6=oo("borderBottom",Zn),I6=oo("borderLeft",Zn),A6=oo("borderColor"),L6=oo("borderTopColor"),O6=oo("borderRightColor"),N6=oo("borderBottomColor"),B6=oo("borderLeftColor"),H6=oo("outline",Zn),G6=oo("outlineColor"),vh=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=hc(e.theme,"shape.borderRadius",4),n=o=>({borderRadius:pc(t,o)});return wi(e,e.borderRadius,n)}return null};vh.propTypes={};vh.filterProps=["borderRadius"];Ch(D6,T6,M6,k6,I6,A6,L6,O6,N6,B6,vh,H6,G6);const wh=e=>{if(e.gap!==void 0&&e.gap!==null){const t=hc(e.theme,"spacing",8),n=o=>({gap:pc(t,o)});return wi(e,e.gap,n)}return null};wh.propTypes={};wh.filterProps=["gap"];const yh=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=hc(e.theme,"spacing",8),n=o=>({columnGap:pc(t,o)});return wi(e,e.columnGap,n)}return null};yh.propTypes={};yh.filterProps=["columnGap"];const Sh=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=hc(e.theme,"spacing",8),n=o=>({rowGap:pc(t,o)});return wi(e,e.rowGap,n)}return null};Sh.propTypes={};Sh.filterProps=["rowGap"];const V6=Ht({prop:"gridColumn"}),W6=Ht({prop:"gridRow"}),z6=Ht({prop:"gridAutoFlow"}),_6=Ht({prop:"gridAutoColumns"}),$6=Ht({prop:"gridAutoRows"}),U6=Ht({prop:"gridTemplateColumns"}),j6=Ht({prop:"gridTemplateRows"}),K6=Ht({prop:"gridTemplateAreas"}),q6=Ht({prop:"gridArea"});Ch(wh,yh,Sh,V6,W6,z6,_6,$6,U6,j6,K6,q6);function sa(e,t){return t==="grey"?t:e}const Y6=Ht({prop:"color",themeKey:"palette",transform:sa}),Q6=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:sa}),X6=Ht({prop:"backgroundColor",themeKey:"palette",transform:sa});Ch(Y6,Q6,X6);function Bn(e){return e<=1&&e!==0?`${e*100}%`:e}const Z6=Ht({prop:"width",transform:Bn}),_C=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{const o=e.theme?.breakpoints?.values?.[n]||fh[n];return o?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Bn(n)}};return wi(e,e.maxWidth,t)}return null};_C.filterProps=["maxWidth"];const J6=Ht({prop:"minWidth",transform:Bn}),e8=Ht({prop:"height",transform:Bn}),t8=Ht({prop:"maxHeight",transform:Bn}),n8=Ht({prop:"minHeight",transform:Bn});Ht({prop:"size",cssProperty:"width",transform:Bn});Ht({prop:"size",cssProperty:"height",transform:Bn});const o8=Ht({prop:"boxSizing"});Ch(Z6,_C,J6,e8,t8,n8,o8);const gc={border:{themeKey:"borders",transform:Zn},borderTop:{themeKey:"borders",transform:Zn},borderRight:{themeKey:"borders",transform:Zn},borderBottom:{themeKey:"borders",transform:Zn},borderLeft:{themeKey:"borders",transform:Zn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vh},color:{themeKey:"palette",transform:sa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:sa},backgroundColor:{themeKey:"palette",transform:sa},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:Tt},mt:{style:Tt},mr:{style:Tt},mb:{style:Tt},ml:{style:Tt},mx:{style:Tt},my:{style:Tt},margin:{style:Tt},marginTop:{style:Tt},marginRight:{style:Tt},marginBottom:{style:Tt},marginLeft:{style:Tt},marginX:{style:Tt},marginY:{style:Tt},marginInline:{style:Tt},marginInlineStart:{style:Tt},marginInlineEnd:{style:Tt},marginBlock:{style:Tt},marginBlockStart:{style:Tt},marginBlockEnd:{style:Tt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wh},rowGap:{style:Sh},columnGap:{style:yh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bn},maxWidth:{style:_C},minWidth:{transform:Bn},height:{transform:Bn},maxHeight:{transform:Bn},minHeight:{transform:Bn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function i8(...e){const t=e.reduce((o,i)=>o.concat(Object.keys(i)),[]),n=new Set(t);return e.every(o=>n.size===Object.keys(o).length)}function r8(e,t){return typeof e=="function"?e(t):e}function s8(){function e(n,o,i,r){const s={[n]:o,theme:i},l=r[n];if(!l)return{[n]:o};const{cssProperty:u=n,themeKey:d,transform:p,style:g}=l;if(o==null)return null;if(d==="typography"&&o==="inherit")return{[n]:o};const m=mh(i,d)||{};return g?g(s):wi(s,o,w=>{let y=Bd(m,p,w);return w===y&&typeof w=="string"&&(y=Bd(m,p,`${n}${w==="default"?"":Me(w)}`,w)),u===!1?y:{[u]:y}})}function t(n){const{sx:o,theme:i={},nested:r}=n||{};if(!o)return null;const s=i.unstable_sxConfig??gc;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const p=S6(i.breakpoints),g=Object.keys(p);let m=p;return Object.keys(d).forEach(C=>{const w=r8(d[C],i);if(w!=null)if(typeof w=="object")if(s[C])m=Ol(m,e(C,w,i,s));else{const y=wi({theme:i},w,R=>({[C]:R}));i8(y,w)?m[C]=t({sx:w,theme:i,nested:!0}):m=Ol(m,y)}else m=Ol(m,e(C,w,i,s))}),!r&&i.modularCssLayers?{"@layer sx":Yb(i,Xb(g,m))}:Yb(i,Xb(g,m))}return Array.isArray(o)?o.map(l):l(o)}return t}const ma=s8();ma.filterProps=["sx"];function a8(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||typeof n.getColorSchemeSelector!="function")return{};let o=n.getColorSchemeSelector(e);return o==="&"?t:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:t})}return n.palette.mode===e?t:{}}function $C(e={},...t){const{breakpoints:n={},palette:o={},spacing:i,shape:r={},...s}=e,l=f6(n),u=dP(i);let d=cn({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:u,shape:{...w6,...r}},s);return d=v6(d),d.applyStyles=a8,d=t.reduce((p,g)=>cn(p,g),d),d.unstable_sxConfig={...gc,...s?.unstable_sxConfig},d.unstable_sx=function(g){return ma({sx:g,theme:this})},d}function l8(e){return Object.keys(e).length===0}function c8(e=null){const t=b.useContext(gh);return!t||l8(t)?e:t}const u8=$C();function hP(e=u8){return c8(e)}function sf(e){const t=Xi(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function d8({styles:e,themeId:t,defaultTheme:n={}}){const o=hP(n),i=t&&o[t]||o;let r=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(r)?r=r.map(s=>sf(typeof s=="function"?s(i):s)):r=sf(r)),J.jsx(c6,{styles:r})}const h8=e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??gc;return Object.keys(e).forEach(o=>{n[o]?t.systemProps[o]=e[o]:t.otherProps[o]=e[o]}),t};function p8(e){const{sx:t,...n}=e,{systemProps:o,otherProps:i}=h8(n);let r;return Array.isArray(t)?r=[o,...t]:typeof t=="function"?r=(...s)=>{const l=t(...s);return Go(l)?{...o,...l}:o}:r={...o,...t},{...i,sx:r}}const Jb=e=>e,g8=()=>{let e=Jb;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Jb}}},f8=g8();function pP(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pP(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Ve(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pP(e))&&(o&&(o+=" "),o+=t);return o}const m8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tt(e,t,n="Mui"){const o=m8[t];return o?`${n}-${o}`:`${f8.generate(e)}-${t}`}function nt(e,t,n="Mui"){const o={};return t.forEach(i=>{o[i]=tt(e,i,n)}),o}function gP(e){const{variants:t,...n}=e,o={variants:t,style:Xi(n),isProcessed:!0};return o.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=Xi(i.style))}),o}const C8=$C();function af(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Lr(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function v8(e){return e?(t,n)=>n[e]:null}function w8(e,t,n){e.theme=b8(e.theme)?n:e.theme[t]||e.theme}function sd(e,t,n){const o=typeof t=="function"?t(e):t;if(Array.isArray(o))return o.flatMap(i=>sd(e,i,n));if(Array.isArray(o?.variants)){let i;if(o.isProcessed)i=n?Lr(o.style,n):o.style;else{const{variants:r,...s}=o;i=n?Lr(Xi(s),n):s}return fP(e,o.variants,[i],n)}return o?.isProcessed?n?Lr(Xi(o.style),n):o.style:n?Lr(Xi(o),n):o}function fP(e,t,n=[],o=void 0){let i;e:for(let r=0;r<t.length;r+=1){const s=t[r];if(typeof s.props=="function"){if(i??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(i))continue}else for(const l in s.props)if(e[l]!==s.props[l]&&e.ownerState?.[l]!==s.props[l])continue e;typeof s.style=="function"?(i??={...e,...e.ownerState,ownerState:e.ownerState},n.push(o?Lr(Xi(s.style(i)),o):s.style(i))):n.push(o?Lr(Xi(s.style),o):s.style)}return n}function y8(e={}){const{themeId:t,defaultTheme:n=C8,rootShouldForwardProp:o=af,slotShouldForwardProp:i=af}=e;function r(l){w8(l,t,n)}return(l,u={})=>{d6(l,k=>k.filter(I=>I!==ma));const{name:d,slot:p,skipVariantsResolver:g,skipSx:m,overridesResolver:C=v8(x8(p)),...w}=u,y=d&&d.startsWith("Mui")||p?"components":"custom",R=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,x=m||!1;let E=af;p==="Root"||p==="root"?E=o:p?E=i:R8(l)&&(E=void 0);const P=u6(l,{shouldForwardProp:E,label:S8(),...w}),M=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(z){return sd(z,k,z.theme.modularCssLayers?y:void 0)};if(Go(k)){const I=gP(k);return function(_){return I.variants?sd(_,I,_.theme.modularCssLayers?y:void 0):_.theme.modularCssLayers?Lr(I.style,y):I.style}}return k},T=(...k)=>{const I=[],z=k.map(M),_=[];if(I.push(r),d&&C&&_.push(function(B){const O=B.theme.components?.[d]?.styleOverrides;if(!O)return null;const Y={};for(const ne in O)Y[ne]=sd(B,O[ne],B.theme.modularCssLayers?"theme":void 0);return C(B,Y)}),d&&!R&&_.push(function(B){const O=B.theme?.components?.[d]?.variants;return O?fP(B,O,[],B.theme.modularCssLayers?"theme":void 0):null}),x||_.push(ma),Array.isArray(z[0])){const F=z.shift(),B=new Array(I.length).fill(""),G=new Array(_.length).fill("");let O;O=[...B,...F,...G],O.raw=[...B,...F.raw,...G],I.unshift(O)}const $=[...I,...z,..._],V=P(...$);return l.muiName&&(V.muiName=l.muiName),V};return P.withConfig&&(T.withConfig=P.withConfig),T}}function S8(e,t){return void 0}function b8(e){for(const t in e)return!1;return!0}function R8(e){return typeof e=="string"&&e.charCodeAt(0)>96}function x8(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Hd(e,t,n=!1){const o={...t};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=i;if(r==="components"||r==="slots")o[r]={...e[r],...o[r]};else if(r==="componentsProps"||r==="slotProps"){const s=e[r],l=t[r];if(!l)o[r]=s||{};else if(!s)o[r]=l;else{o[r]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;o[r][d]=Hd(s[d],l[d],n)}}}else r==="className"&&n&&t.className?o.className=Ve(e?.className,t?.className):r==="style"&&n&&t.style?o.style={...e?.style,...t?.style}:o[r]===void 0&&(o[r]=e[r])}return o}const ts=typeof window<"u"?b.useLayoutEffect:b.useEffect;function F8(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function UC(e,t=0,n=1){return F8(e,t,n)}function P8(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(o=>o+o)),n?`rgb${n.length===4?"a":""}(${n.map((o,i)=>i<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function or(e){if(e.type)return e;if(e.charAt(0)==="#")return or(P8(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(vi(9,e));let o=e.substring(t+1,e.length-1),i;if(n==="color"){if(o=o.split(" "),i=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(vi(10,i))}else o=o.split(",");return o=o.map(r=>parseFloat(r)),{type:n,values:o,colorSpace:i}}const E8=e=>{const t=or(e);return t.values.slice(0,3).map((n,o)=>t.type.includes("hsl")&&o!==0?`${n}%`:n).join(" ")},bl=(e,t)=>{try{return E8(e)}catch{return e}};function bh(e){const{type:t,colorSpace:n}=e;let{values:o}=e;return t.includes("rgb")?o=o.map((i,r)=>r<3?parseInt(i,10):i):t.includes("hsl")&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.includes("color")?o=`${n} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function mP(e){e=or(e);const{values:t}=e,n=t[0],o=t[1]/100,i=t[2]/100,r=o*Math.min(i,1-i),s=(d,p=(d+n/30)%12)=>i-r*Math.max(Math.min(p-3,9-p,1),-1);let l="rgb";const u=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(l+="a",u.push(t[3])),bh({type:l,values:u})}function am(e){e=or(e);let t=e.type==="hsl"||e.type==="hsla"?or(mP(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function D8(e,t){const n=am(e),o=am(t);return(Math.max(n,o)+.05)/(Math.min(n,o)+.05)}function Gd(e,t){return e=or(e),t=UC(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,bh(e)}function xr(e,t,n){try{return Gd(e,t)}catch{return e}}function Rh(e,t){if(e=or(e),t=UC(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return bh(e)}function at(e,t,n){try{return Rh(e,t)}catch{return e}}function xh(e,t){if(e=or(e),t=UC(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return bh(e)}function lt(e,t,n){try{return xh(e,t)}catch{return e}}function T8(e,t=.15){return am(e)>.5?Rh(e,t):xh(e,t)}function Hu(e,t,n){try{return T8(e,t)}catch{return e}}const M8=b.createContext(),k8=()=>b.useContext(M8)??!1,I8=b.createContext(void 0);function A8(e){const{theme:t,name:n,props:o}=e;if(!t||!t.components||!t.components[n])return o;const i=t.components[n];return i.defaultProps?Hd(i.defaultProps,o,t.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?Hd(i,o,t.components.mergeClassNameAndStyle):o}function L8({props:e,name:t}){const n=b.useContext(I8);return A8({props:e,name:t,theme:{components:n}})}let e0=0;function O8(e){const[t,n]=b.useState(e),o=e||t;return b.useEffect(()=>{t==null&&(e0+=1,n(`mui-${e0}`))},[t]),o}const N8={...Cf},t0=N8.useId;function fc(e){if(t0!==void 0){const t=t0();return e??t}return O8(e)}const n0={theme:void 0};function B8(e){let t,n;return function(i){let r=t;return(r===void 0||i.theme!==n)&&(n0.theme=i.theme,r=gP(e(n0)),t=r,n=i.theme),r}}function H8(e=""){function t(...o){if(!o.length)return"";const i=o[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...o.slice(1))})`:`, ${i}`}return(o,...i)=>`var(--${e?`${e}-`:""}${o}${t(...i)})`}const o0=(e,t,n,o=[])=>{let i=e;t.forEach((r,s)=>{s===t.length-1?Array.isArray(i)?i[Number(r)]=n:i&&typeof i=="object"&&(i[r]=n):i&&typeof i=="object"&&(i[r]||(i[r]=o.includes(r)?[]:{}),i=i[r])})},G8=(e,t,n)=>{function o(i,r=[],s=[]){Object.entries(i).forEach(([l,u])=>{(!n||n&&!n([...r,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?o(u,[...r,l],Array.isArray(u)?[...s,l]:s):t([...r,l],u,s))})}o(e)},V8=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(o=>e.includes(o))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function lf(e,t){const{prefix:n,shouldSkipGeneratingVar:o}=t||{},i={},r={},s={};return G8(e,(l,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!o||!o(l,u))){const p=`--${n?`${n}-`:""}${l.join("-")}`,g=V8(l,u);Object.assign(i,{[p]:g}),o0(r,l,`var(${p})`,d),o0(s,l,`var(${p}, ${g})`,d)}},l=>l[0]==="vars"),{css:i,vars:r,varsWithDefaults:s}}function W8(e,t={}){const{getSelector:n=x,disableCssColorScheme:o,colorSchemeSelector:i,enableContrastVars:r}=t,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=e,{vars:p,css:g,varsWithDefaults:m}=lf(d,t);let C=m;const w={},{[u]:y,...R}=s;if(Object.entries(R||{}).forEach(([M,T])=>{const{vars:k,css:I,varsWithDefaults:z}=lf(T,t);C=cn(C,z),w[M]={css:I,vars:k}}),y){const{css:M,vars:T,varsWithDefaults:k}=lf(y,t);C=cn(C,k),w[u]={css:M,vars:T}}function x(M,T){let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),M){if(k==="media")return e.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${s[M]?.palette?.mode||M})`]:{":root":T}};if(k)return e.defaultColorScheme===M?`:root, ${k.replace("%s",String(M))}`:k.replace("%s",String(M))}return":root"}return{vars:C,generateThemeVars:()=>{let M={...p};return Object.entries(w).forEach(([,{vars:T}])=>{M=cn(M,T)}),M},generateStyleSheets:()=>{const M=[],T=e.defaultColorScheme||"light";function k(_,$){Object.keys($).length&&M.push(typeof _=="string"?{[_]:{...$}}:_)}k(n(void 0,{...g}),g);const{[T]:I,...z}=w;if(I){const{css:_}=I,$=s[T]?.palette?.mode,V=!o&&$?{colorScheme:$,..._}:{..._};k(n(T,{...V}),V)}return Object.entries(z).forEach(([_,{css:$}])=>{const V=s[_]?.palette?.mode,F=!o&&V?{colorScheme:V,...$}:{...$};k(n(_,{...F}),F)}),r&&M.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),M}}}function z8(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function ot(e,t,n=void 0){const o={};for(const i in e){const r=e[i];let s="",l=!0;for(let u=0;u<r.length;u+=1){const d=r[u];d&&(s+=(l===!0?"":" ")+t(d),l=!1,n&&n[d]&&(s+=" "+n[d]))}o[i]=s}return o}function cf(e,t){return b.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}function CP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ql.white,default:Ql.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vP=CP();function wP(){return{text:{primary:Ql.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ql.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const lm=wP();function i0(e,t,n,o){const i=o.light||o,r=o.dark||o*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=xh(e.main,i):t==="dark"&&(e.dark=Rh(e.main,r)))}function r0(e,t,n,o,i){const r=i.light||i,s=i.dark||i*1.5;t[n]||(t.hasOwnProperty(o)?t[n]=t[o]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(r*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function _8(e="light"){return e==="dark"?{main:Ns[200],light:Ns[50],dark:Ns[400]}:{main:Ns[700],light:Ns[400],dark:Ns[800]}}function $8(e="light"){return e==="dark"?{main:Os[200],light:Os[50],dark:Os[400]}:{main:Os[500],light:Os[300],dark:Os[700]}}function U8(e="light"){return e==="dark"?{main:Ls[500],light:Ls[300],dark:Ls[700]}:{main:Ls[700],light:Ls[400],dark:Ls[800]}}function j8(e="light"){return e==="dark"?{main:Bs[400],light:Bs[300],dark:Bs[700]}:{main:Bs[700],light:Bs[500],dark:Bs[900]}}function K8(e="light"){return e==="dark"?{main:Hs[400],light:Hs[300],dark:Hs[700]}:{main:Hs[800],light:Hs[500],dark:Hs[900]}}function q8(e="light"){return e==="dark"?{main:pl[400],light:pl[300],dark:pl[700]}:{main:"#ed6c02",light:pl[500],dark:pl[900]}}function Y8(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function jC(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:o=.2,colorSpace:i,...r}=e,s=e.primary||_8(t),l=e.secondary||$8(t),u=e.error||U8(t),d=e.info||j8(t),p=e.success||K8(t),g=e.warning||q8(t);function m(R){return i?Y8(R):D8(R,lm.text.primary)>=n?lm.text.primary:vP.text.primary}const C=({color:R,name:x,mainShade:E=500,lightShade:P=300,darkShade:M=700})=>{if(R={...R},!R.main&&R[E]&&(R.main=R[E]),!R.hasOwnProperty("main"))throw new Error(vi(11,x?` (${x})`:"",E));if(typeof R.main!="string")throw new Error(vi(12,x?` (${x})`:"",JSON.stringify(R.main)));return i?(r0(i,R,"light",P,o),r0(i,R,"dark",M,o)):(i0(R,"light",P,o),i0(R,"dark",M,o)),R.contrastText||(R.contrastText=m(R.main)),R};let w;return t==="light"?w=CP():t==="dark"&&(w=wP()),cn({common:{...Ql},mode:t,primary:C({color:s,name:"primary"}),secondary:C({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:u,name:"error"}),warning:C({color:g,name:"warning"}),info:C({color:d,name:"info"}),success:C({color:p,name:"success"}),grey:u4,contrastThreshold:n,getContrastText:m,augmentColor:C,tonalOffset:o,...w},r)}function Q8(e){const t={};return Object.entries(e).forEach(o=>{const[i,r]=o;typeof r=="object"&&(t[i]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),t}function X8(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Z8(e){return Math.round(e*1e5)/1e5}const s0={textTransform:"uppercase"},a0='"Roboto", "Helvetica", "Arial", sans-serif';function J8(e,t){const{fontFamily:n=a0,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:r=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:p,...g}=typeof t=="function"?t(e):t,m=o/14,C=p||(R=>`${R/u*m}rem`),w=(R,x,E,P,M)=>({fontFamily:n,fontWeight:R,fontSize:C(x),lineHeight:E,...n===a0?{letterSpacing:`${Z8(P/x)}em`}:{},...M,...d}),y={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(r,48,1.167,0),h4:w(r,34,1.235,.25),h5:w(r,24,1.334,0),h6:w(s,20,1.6,.15),subtitle1:w(r,16,1.75,.15),subtitle2:w(s,14,1.57,.1),body1:w(r,16,1.5,.15),body2:w(r,14,1.43,.15),button:w(s,14,1.75,.4,s0),caption:w(r,12,1.66,.4),overline:w(r,12,2.66,1,s0),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return cn({htmlFontSize:u,pxToRem:C,fontFamily:n,fontSize:o,fontWeightLight:i,fontWeightRegular:r,fontWeightMedium:s,fontWeightBold:l,...y},g,{clone:!1})}const e$=.2,t$=.14,n$=.12;function yt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${e$})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${t$})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${n$})`].join(",")}const o$=["none",yt(0,2,1,-1,0,1,1,0,0,1,3,0),yt(0,3,1,-2,0,2,2,0,0,1,5,0),yt(0,3,3,-2,0,3,4,0,0,1,8,0),yt(0,2,4,-1,0,4,5,0,0,1,10,0),yt(0,3,5,-1,0,5,8,0,0,1,14,0),yt(0,3,5,-1,0,6,10,0,0,1,18,0),yt(0,4,5,-2,0,7,10,1,0,2,16,1),yt(0,5,5,-3,0,8,10,1,0,3,14,2),yt(0,5,6,-3,0,9,12,1,0,3,16,2),yt(0,6,6,-3,0,10,14,1,0,4,18,3),yt(0,6,7,-4,0,11,15,1,0,4,20,3),yt(0,7,8,-4,0,12,17,2,0,5,22,4),yt(0,7,8,-4,0,13,19,2,0,5,24,4),yt(0,7,9,-4,0,14,21,2,0,5,26,4),yt(0,8,9,-5,0,15,22,2,0,6,28,5),yt(0,8,10,-5,0,16,24,2,0,6,30,5),yt(0,8,11,-5,0,17,26,2,0,6,32,5),yt(0,9,11,-5,0,18,28,2,0,7,34,6),yt(0,9,12,-6,0,19,29,2,0,7,36,6),yt(0,10,13,-6,0,20,31,3,0,8,38,7),yt(0,10,13,-6,0,21,33,3,0,8,40,7),yt(0,10,14,-6,0,22,35,3,0,8,42,7),yt(0,11,14,-7,0,23,36,3,0,9,44,8),yt(0,11,15,-7,0,24,38,3,0,9,46,8)],i$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},r$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l0(e){return`${Math.round(e)}ms`}function s$(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function a$(e){const t={...i$,...e.easing},n={...r$,...e.duration};return{getAutoHeightDuration:s$,create:(i=["all"],r={})=>{const{duration:s=n.standard,easing:l=t.easeInOut,delay:u=0,...d}=r;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof s=="string"?s:l0(s)} ${l} ${typeof u=="string"?u:l0(u)}`).join(",")},...e,easing:t,duration:n}}const l$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function c$(e){return Go(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function yP(e={}){const t={...e};function n(o){const i=Object.entries(o);for(let r=0;r<i.length;r++){const[s,l]=i[r];!c$(l)||s.startsWith("unstable_")?delete o[s]:Go(l)&&(o[s]={...l},n(o[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function c0(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const u$=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let o=0;o<t.length;o+=1)n+=+t[o];return n};function d$(e){Object.assign(e,{alpha(t,n){const o=this||e;return o.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:o.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Gd(t,u$(n))},lighten(t,n){const o=this||e;return o.colorSpace?`color-mix(in ${o.colorSpace}, ${t}, #fff ${c0(n)})`:xh(t,n)},darken(t,n){const o=this||e;return o.colorSpace?`color-mix(in ${o.colorSpace}, ${t}, #000 ${c0(n)})`:Rh(t,n)}})}function cm(e={},...t){const{breakpoints:n,mixins:o={},spacing:i,palette:r={},transitions:s={},typography:l={},shape:u,colorSpace:d,...p}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(vi(20));const g=jC({...r,colorSpace:d}),m=$C(e);let C=cn(m,{mixins:X8(m.breakpoints,o),palette:g,shadows:o$.slice(),typography:J8(g,l),transitions:a$(s),zIndex:{...l$}});return C=cn(C,p),C=t.reduce((w,y)=>cn(w,y),C),C.unstable_sxConfig={...gc,...p?.unstable_sxConfig},C.unstable_sx=function(y){return ma({sx:y,theme:this})},C.toRuntimeSource=yP,d$(C),C}function um(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const h$=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=um(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function SP(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function bP(e){return e==="dark"?h$:[]}function p$(e){const{palette:t={mode:"light"},opacity:n,overlays:o,colorSpace:i,...r}=e,s=jC({...t,colorSpace:i});return{palette:s,opacity:{...SP(s.mode),...n},overlays:o||bP(s.mode),...r}}function g$(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const f$=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],m$=e=>(t,n)=>{const o=e.rootSelector||":root",i=e.colorSchemeSelector;let r=i;if(i==="class"&&(r=".%s"),i==="data"&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return f$(e.cssVarPrefix).forEach(l=>{s[l]=n[l],delete n[l]}),r==="media"?{[o]:n,"@media (prefers-color-scheme: dark)":{[o]:s}}:r?{[r.replace("%s",t)]:s,[`${o}, ${r.replace("%s",t)}`]:n}:{[o]:{...n,...s}}}if(r&&r!=="media")return`${o}, ${r.replace("%s",String(t))}`}else if(t){if(r==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[o]:n}};if(r)return r.replace("%s",String(t))}return o};function C$(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function te(e,t,n){!e[t]&&n&&(e[t]=n)}function Rl(e){return typeof e!="string"||!e.startsWith("hsl")?e:mP(e)}function ri(e,t){`${t}Channel`in e||(e[`${t}Channel`]=bl(Rl(e[t])))}function v$(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Io=e=>{try{return e()}catch{}},w$=(e="mui")=>H8(e);function uf(e,t,n,o,i){if(!n)return;n=n===!0?{}:n;const r=i==="dark"?"dark":"light";if(!o){t[i]=p$({...n,palette:{mode:r,...n?.palette},colorSpace:e});return}const{palette:s,...l}=cm({...o,palette:{mode:r,...n?.palette},colorSpace:e});return t[i]={...n,palette:s,opacity:{...SP(r),...n?.opacity},overlays:n?.overlays||bP(r)},l}function y$(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:o,disableCssColorScheme:i=!1,cssVarPrefix:r="mui",nativeColor:s=!1,shouldSkipGeneratingVar:l=g$,colorSchemeSelector:u=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...p}=e,g=Object.keys(n)[0],m=o||(n.light&&g!=="light"?"light":g),C=w$(r),{[m]:w,light:y,dark:R,...x}=n,E={...x};let P=w;if((m==="dark"&&!("dark"in n)||m==="light"&&!("light"in n))&&(P=!0),!P)throw new Error(vi(21,m));let M;s&&(M="oklch");const T=uf(M,E,P,p,m);y&&!E.light&&uf(M,E,y,void 0,"light"),R&&!E.dark&&uf(M,E,R,void 0,"dark");let k={defaultColorScheme:m,...T,cssVarPrefix:r,colorSchemeSelector:u,rootSelector:d,getCssVar:C,colorSchemes:E,font:{...Q8(T.typography),...T.font},spacing:v$(p.spacing)};Object.keys(k.colorSchemes).forEach(V=>{const F=k.colorSchemes[V].palette,B=O=>{const Y=O.split("-"),ne=Y[1],j=Y[2];return C(O,F[ne][j])};F.mode==="light"&&(te(F.common,"background","#fff"),te(F.common,"onBackground","#000")),F.mode==="dark"&&(te(F.common,"background","#000"),te(F.common,"onBackground","#fff"));function G(O,Y,ne){if(M){let j;return O===xr&&(j=`transparent ${((1-ne)*100).toFixed(0)}%`),O===at&&(j=`#000 ${(ne*100).toFixed(0)}%`),O===lt&&(j=`#fff ${(ne*100).toFixed(0)}%`),`color-mix(in ${M}, ${Y}, ${j})`}return O(Y,ne)}if(C$(F,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),F.mode==="light"){te(F.Alert,"errorColor",G(at,F.error.light,.6)),te(F.Alert,"infoColor",G(at,F.info.light,.6)),te(F.Alert,"successColor",G(at,F.success.light,.6)),te(F.Alert,"warningColor",G(at,F.warning.light,.6)),te(F.Alert,"errorFilledBg",B("palette-error-main")),te(F.Alert,"infoFilledBg",B("palette-info-main")),te(F.Alert,"successFilledBg",B("palette-success-main")),te(F.Alert,"warningFilledBg",B("palette-warning-main")),te(F.Alert,"errorFilledColor",Io(()=>F.getContrastText(F.error.main))),te(F.Alert,"infoFilledColor",Io(()=>F.getContrastText(F.info.main))),te(F.Alert,"successFilledColor",Io(()=>F.getContrastText(F.success.main))),te(F.Alert,"warningFilledColor",Io(()=>F.getContrastText(F.warning.main))),te(F.Alert,"errorStandardBg",G(lt,F.error.light,.9)),te(F.Alert,"infoStandardBg",G(lt,F.info.light,.9)),te(F.Alert,"successStandardBg",G(lt,F.success.light,.9)),te(F.Alert,"warningStandardBg",G(lt,F.warning.light,.9)),te(F.Alert,"errorIconColor",B("palette-error-main")),te(F.Alert,"infoIconColor",B("palette-info-main")),te(F.Alert,"successIconColor",B("palette-success-main")),te(F.Alert,"warningIconColor",B("palette-warning-main")),te(F.AppBar,"defaultBg",B("palette-grey-100")),te(F.Avatar,"defaultBg",B("palette-grey-400")),te(F.Button,"inheritContainedBg",B("palette-grey-300")),te(F.Button,"inheritContainedHoverBg",B("palette-grey-A100")),te(F.Chip,"defaultBorder",B("palette-grey-400")),te(F.Chip,"defaultAvatarColor",B("palette-grey-700")),te(F.Chip,"defaultIconColor",B("palette-grey-700")),te(F.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),te(F.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),te(F.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),te(F.LinearProgress,"primaryBg",G(lt,F.primary.main,.62)),te(F.LinearProgress,"secondaryBg",G(lt,F.secondary.main,.62)),te(F.LinearProgress,"errorBg",G(lt,F.error.main,.62)),te(F.LinearProgress,"infoBg",G(lt,F.info.main,.62)),te(F.LinearProgress,"successBg",G(lt,F.success.main,.62)),te(F.LinearProgress,"warningBg",G(lt,F.warning.main,.62)),te(F.Skeleton,"bg",M?G(xr,F.text.primary,.11):`rgba(${B("palette-text-primaryChannel")} / 0.11)`),te(F.Slider,"primaryTrack",G(lt,F.primary.main,.62)),te(F.Slider,"secondaryTrack",G(lt,F.secondary.main,.62)),te(F.Slider,"errorTrack",G(lt,F.error.main,.62)),te(F.Slider,"infoTrack",G(lt,F.info.main,.62)),te(F.Slider,"successTrack",G(lt,F.success.main,.62)),te(F.Slider,"warningTrack",G(lt,F.warning.main,.62));const O=M?G(at,F.background.default,.6825):Hu(F.background.default,.8);te(F.SnackbarContent,"bg",O),te(F.SnackbarContent,"color",Io(()=>M?lm.text.primary:F.getContrastText(O))),te(F.SpeedDialAction,"fabHoverBg",Hu(F.background.paper,.15)),te(F.StepConnector,"border",B("palette-grey-400")),te(F.StepContent,"border",B("palette-grey-400")),te(F.Switch,"defaultColor",B("palette-common-white")),te(F.Switch,"defaultDisabledColor",B("palette-grey-100")),te(F.Switch,"primaryDisabledColor",G(lt,F.primary.main,.62)),te(F.Switch,"secondaryDisabledColor",G(lt,F.secondary.main,.62)),te(F.Switch,"errorDisabledColor",G(lt,F.error.main,.62)),te(F.Switch,"infoDisabledColor",G(lt,F.info.main,.62)),te(F.Switch,"successDisabledColor",G(lt,F.success.main,.62)),te(F.Switch,"warningDisabledColor",G(lt,F.warning.main,.62)),te(F.TableCell,"border",G(lt,G(xr,F.divider,1),.88)),te(F.Tooltip,"bg",G(xr,F.grey[700],.92))}if(F.mode==="dark"){te(F.Alert,"errorColor",G(lt,F.error.light,.6)),te(F.Alert,"infoColor",G(lt,F.info.light,.6)),te(F.Alert,"successColor",G(lt,F.success.light,.6)),te(F.Alert,"warningColor",G(lt,F.warning.light,.6)),te(F.Alert,"errorFilledBg",B("palette-error-dark")),te(F.Alert,"infoFilledBg",B("palette-info-dark")),te(F.Alert,"successFilledBg",B("palette-success-dark")),te(F.Alert,"warningFilledBg",B("palette-warning-dark")),te(F.Alert,"errorFilledColor",Io(()=>F.getContrastText(F.error.dark))),te(F.Alert,"infoFilledColor",Io(()=>F.getContrastText(F.info.dark))),te(F.Alert,"successFilledColor",Io(()=>F.getContrastText(F.success.dark))),te(F.Alert,"warningFilledColor",Io(()=>F.getContrastText(F.warning.dark))),te(F.Alert,"errorStandardBg",G(at,F.error.light,.9)),te(F.Alert,"infoStandardBg",G(at,F.info.light,.9)),te(F.Alert,"successStandardBg",G(at,F.success.light,.9)),te(F.Alert,"warningStandardBg",G(at,F.warning.light,.9)),te(F.Alert,"errorIconColor",B("palette-error-main")),te(F.Alert,"infoIconColor",B("palette-info-main")),te(F.Alert,"successIconColor",B("palette-success-main")),te(F.Alert,"warningIconColor",B("palette-warning-main")),te(F.AppBar,"defaultBg",B("palette-grey-900")),te(F.AppBar,"darkBg",B("palette-background-paper")),te(F.AppBar,"darkColor",B("palette-text-primary")),te(F.Avatar,"defaultBg",B("palette-grey-600")),te(F.Button,"inheritContainedBg",B("palette-grey-800")),te(F.Button,"inheritContainedHoverBg",B("palette-grey-700")),te(F.Chip,"defaultBorder",B("palette-grey-700")),te(F.Chip,"defaultAvatarColor",B("palette-grey-300")),te(F.Chip,"defaultIconColor",B("palette-grey-300")),te(F.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),te(F.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),te(F.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),te(F.LinearProgress,"primaryBg",G(at,F.primary.main,.5)),te(F.LinearProgress,"secondaryBg",G(at,F.secondary.main,.5)),te(F.LinearProgress,"errorBg",G(at,F.error.main,.5)),te(F.LinearProgress,"infoBg",G(at,F.info.main,.5)),te(F.LinearProgress,"successBg",G(at,F.success.main,.5)),te(F.LinearProgress,"warningBg",G(at,F.warning.main,.5)),te(F.Skeleton,"bg",M?G(xr,F.text.primary,.13):`rgba(${B("palette-text-primaryChannel")} / 0.13)`),te(F.Slider,"primaryTrack",G(at,F.primary.main,.5)),te(F.Slider,"secondaryTrack",G(at,F.secondary.main,.5)),te(F.Slider,"errorTrack",G(at,F.error.main,.5)),te(F.Slider,"infoTrack",G(at,F.info.main,.5)),te(F.Slider,"successTrack",G(at,F.success.main,.5)),te(F.Slider,"warningTrack",G(at,F.warning.main,.5));const O=M?G(lt,F.background.default,.985):Hu(F.background.default,.98);te(F.SnackbarContent,"bg",O),te(F.SnackbarContent,"color",Io(()=>M?vP.text.primary:F.getContrastText(O))),te(F.SpeedDialAction,"fabHoverBg",Hu(F.background.paper,.15)),te(F.StepConnector,"border",B("palette-grey-600")),te(F.StepContent,"border",B("palette-grey-600")),te(F.Switch,"defaultColor",B("palette-grey-300")),te(F.Switch,"defaultDisabledColor",B("palette-grey-600")),te(F.Switch,"primaryDisabledColor",G(at,F.primary.main,.55)),te(F.Switch,"secondaryDisabledColor",G(at,F.secondary.main,.55)),te(F.Switch,"errorDisabledColor",G(at,F.error.main,.55)),te(F.Switch,"infoDisabledColor",G(at,F.info.main,.55)),te(F.Switch,"successDisabledColor",G(at,F.success.main,.55)),te(F.Switch,"warningDisabledColor",G(at,F.warning.main,.55)),te(F.TableCell,"border",G(at,G(xr,F.divider,1),.68)),te(F.Tooltip,"bg",G(xr,F.grey[700],.92))}ri(F.background,"default"),ri(F.background,"paper"),ri(F.common,"background"),ri(F.common,"onBackground"),ri(F,"divider"),Object.keys(F).forEach(O=>{const Y=F[O];O!=="tonalOffset"&&Y&&typeof Y=="object"&&(Y.main&&te(F[O],"mainChannel",bl(Rl(Y.main))),Y.light&&te(F[O],"lightChannel",bl(Rl(Y.light))),Y.dark&&te(F[O],"darkChannel",bl(Rl(Y.dark))),Y.contrastText&&te(F[O],"contrastTextChannel",bl(Rl(Y.contrastText))),O==="text"&&(ri(F[O],"primary"),ri(F[O],"secondary")),O==="action"&&(Y.active&&ri(F[O],"active"),Y.selected&&ri(F[O],"selected")))})}),k=t.reduce((V,F)=>cn(V,F),k);const I={prefix:r,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:m$(k),enableContrastVars:s},{vars:z,generateThemeVars:_,generateStyleSheets:$}=W8(k,I);return k.vars=z,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([V,F])=>{k[V]=F}),k.generateThemeVars=_,k.generateStyleSheets=$,k.generateSpacing=function(){return dP(p.spacing,zC(this))},k.getColorSchemeSelector=z8(u),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=l,k.unstable_sxConfig={...gc,...p?.unstable_sxConfig},k.unstable_sx=function(F){return ma({sx:F,theme:this})},k.toRuntimeSource=yP,k}function u0(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:jC({...n===!0?{}:n.palette,mode:t})})}function S$(e={},...t){const{palette:n,cssVariables:o=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:r=n?.mode,...s}=e,l=r||"light",u=i?.[l],d={...i,...n?{[l]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(o===!1){if(!("colorSchemes"in e))return cm(e,...t);let p=n;"palette"in e||d[l]&&(d[l]!==!0?p=d[l].palette:l==="dark"&&(p={mode:"dark"}));const g=cm({...e,palette:p},...t);return g.defaultColorScheme=l,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},u0(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},u0(g,"light",d.light)),g}return!n&&!("light"in d)&&l==="light"&&(d.light=!0),y$({...s,colorSchemes:d,defaultColorScheme:l,...typeof o!="boolean"&&o},...t)}const KC=S$();function Fh(){const e=hP(KC);return e[kC]||e}function RP(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ro=e=>RP(e)&&e!=="classes",Re=y8({themeId:kC,defaultTheme:KC,rootShouldForwardProp:Ro});function d0(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function b$(e){return J.jsx(d8,{...e,defaultTheme:KC,themeId:kC})}function R$(e){return function(n){return J.jsx(b$,{styles:typeof e=="function"?o=>e({theme:o,...n}):e})}}function x$(){return p8}const gt=B8;function ut(e){return L8(e)}function F$(e){return tt("MuiSvgIcon",e)}nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const P$=e=>{const{color:t,fontSize:n,classes:o}=e,i={root:["root",t!=="inherit"&&`color${Me(t)}`,`fontSize${Me(n)}`]};return ot(i,F$,o)},E$=Re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Me(n.color)}`],t[`fontSize${Me(n.fontSize)}`]]}})(gt(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),dm=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiSvgIcon"}),{children:i,className:r,color:s="inherit",component:l="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:g,viewBox:m="0 0 24 24",...C}=o,w=b.isValidElement(i)&&i.type==="svg",y={...o,color:s,component:l,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:m,hasSvgAsChild:w},R={};p||(R.viewBox=m);const x=P$(y);return J.jsxs(E$,{as:l,className:Ve(x.root,r),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...R,...C,...w&&i.props,ownerState:y,children:[w?i.props.children:i,g?J.jsx("title",{children:g}):null]})});dm.muiName="SvgIcon";function xP(e,t){function n(o,i){return J.jsx(dm,{"data-testid":void 0,ref:i,...o,children:e})}return n.muiName=dm.muiName,b.memo(b.forwardRef(n))}function FP(e,t=166){let n;function o(...i){const r=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(r,t)}return o.clear=()=>{clearTimeout(n)},o}function yo(e){return e&&e.ownerDocument||document}function yi(e){return yo(e).defaultView||window}function h0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function p0(e){const{controlled:t,default:n,name:o,state:i="value"}=e,{current:r}=b.useRef(t!==void 0),[s,l]=b.useState(n),u=r?t:s,d=b.useCallback(p=>{r||l(p)},[]);return[u,d]}function _r(e){const t=b.useRef(e);return ts(()=>{t.current=e}),b.useRef((...n)=>(0,t.current)(...n)).current}function In(...e){const t=b.useRef(void 0),n=b.useCallback(o=>{const i=e.map(r=>{if(r==null)return null;if(typeof r=="function"){const s=r,l=s(o);return typeof l=="function"?l:()=>{s(null)}}return r.current=o,()=>{r.current=null}});return()=>{i.forEach(r=>r?.())}},e);return b.useMemo(()=>e.every(o=>o==null)?null:o=>{t.current&&(t.current(),t.current=void 0),o!=null&&(t.current=n(o))},e)}function D$(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function T$(e,t){if(!e)return t;function n(s,l){const u={};return Object.keys(l).forEach(d=>{D$(d,l[d])&&typeof s[d]=="function"&&(u[d]=(...p)=>{s[d](...p),l[d](...p)})}),u}if(typeof e=="function"||typeof t=="function")return s=>{const l=typeof t=="function"?t(s):t,u=typeof e=="function"?e({...s,...l}):e,d=Ve(s?.className,l?.className,u?.className),p=n(u,l);return{...l,...u,...p,...!!d&&{className:d},...l?.style&&u?.style&&{style:{...l.style,...u.style}},...l?.sx&&u?.sx&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const o=t,i=n(e,o),r=Ve(o?.className,e?.className);return{...t,...e,...i,...!!r&&{className:r},...o?.style&&e?.style&&{style:{...o.style,...e.style}},...o?.sx&&e?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function PP(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},hm(e,t)}function EP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hm(e,t)}const g0={disabled:!1},Vd=re.createContext(null);var M$=function(t){return t.scrollTop},xl="unmounted",Dr="exited",Tr="entering",Ws="entered",pm="exiting",qo=(function(e){EP(t,e);function t(o,i){var r;r=e.call(this,o,i)||this;var s=i,l=s&&!s.isMounting?o.enter:o.appear,u;return r.appearStatus=null,o.in?l?(u=Dr,r.appearStatus=Tr):u=Ws:o.unmountOnExit||o.mountOnEnter?u=xl:u=Dr,r.state={status:u},r.nextCallback=null,r}t.getDerivedStateFromProps=function(i,r){var s=i.in;return s&&r.status===xl?{status:Dr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var r=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Tr&&s!==Ws&&(r=Tr):(s===Tr||s===Ws)&&(r=pm)}this.updateStatus(!1,r)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,r,s,l;return r=s=l=i,i!=null&&typeof i!="number"&&(r=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:r,enter:s,appear:l}},n.updateStatus=function(i,r){if(i===void 0&&(i=!1),r!==null)if(this.cancelNextCallback(),r===Tr){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Sl.findDOMNode(this);s&&M$(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dr&&this.setState({status:xl})},n.performEnter=function(i){var r=this,s=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Sl.findDOMNode(this),l],d=u[0],p=u[1],g=this.getTimeouts(),m=l?g.appear:g.enter;if(!i&&!s||g0.disabled){this.safeSetState({status:Ws},function(){r.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:Tr},function(){r.props.onEntering(d,p),r.onTransitionEnd(m,function(){r.safeSetState({status:Ws},function(){r.props.onEntered(d,p)})})})},n.performExit=function(){var i=this,r=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Sl.findDOMNode(this);if(!r||g0.disabled){this.safeSetState({status:Dr},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:pm},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Dr},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,r){r=this.setNextCallback(r),this.setState(i,r)},n.setNextCallback=function(i){var r=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,r.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,r){this.setNextCallback(r);var s=this.props.nodeRef?this.props.nodeRef.current:Sl.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],d=u[0],p=u[1];this.props.addEndListener(d,p)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===xl)return null;var r=this.props,s=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var l=PP(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return re.createElement(Vd.Provider,{value:null},typeof s=="function"?s(i,l):re.cloneElement(re.Children.only(s),l))},t})(re.Component);qo.contextType=Vd;qo.propTypes={};function Gs(){}qo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gs,onEntering:Gs,onEntered:Gs,onExit:Gs,onExiting:Gs,onExited:Gs};qo.UNMOUNTED=xl;qo.EXITED=Dr;qo.ENTERING=Tr;qo.ENTERED=Ws;qo.EXITING=pm;function k$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qC(e,t){var n=function(r){return t&&b.isValidElement(r)?t(r):r},o=Object.create(null);return e&&b.Children.map(e,function(i){return i}).forEach(function(i){o[i.key]=n(i)}),o}function I$(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var o=Object.create(null),i=[];for(var r in e)r in t?i.length&&(o[r]=i,i=[]):i.push(r);var s,l={};for(var u in t){if(o[u])for(s=0;s<o[u].length;s++){var d=o[u][s];l[o[u][s]]=n(d)}l[u]=n(u)}for(s=0;s<i.length;s++)l[i[s]]=n(i[s]);return l}function Or(e,t,n){return n[t]!=null?n[t]:e.props[t]}function A$(e,t){return qC(e.children,function(n){return b.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Or(n,"appear",e),enter:Or(n,"enter",e),exit:Or(n,"exit",e)})})}function L$(e,t,n){var o=qC(e.children),i=I$(t,o);return Object.keys(i).forEach(function(r){var s=i[r];if(b.isValidElement(s)){var l=r in t,u=r in o,d=t[r],p=b.isValidElement(d)&&!d.props.in;u&&(!l||p)?i[r]=b.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Or(s,"exit",e),enter:Or(s,"enter",e)}):!u&&l&&!p?i[r]=b.cloneElement(s,{in:!1}):u&&l&&b.isValidElement(d)&&(i[r]=b.cloneElement(s,{onExited:n.bind(null,s),in:d.props.in,exit:Or(s,"exit",e),enter:Or(s,"enter",e)}))}}),i}var O$=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},N$={component:"div",childFactory:function(t){return t}},YC=(function(e){EP(t,e);function t(o,i){var r;r=e.call(this,o,i)||this;var s=r.handleExited.bind(k$(r));return r.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},r}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,r){var s=r.children,l=r.handleExited,u=r.firstRender;return{children:u?A$(i,l):L$(i,s,l),firstRender:!1}},n.handleExited=function(i,r){var s=qC(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(r),this.mounted&&this.setState(function(l){var u=Od({},l.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,r=i.component,s=i.childFactory,l=PP(i,["component","childFactory"]),u=this.state.contextValue,d=O$(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,r===null?re.createElement(Vd.Provider,{value:u},d):re.createElement(Vd.Provider,{value:u},re.createElement(r,l,d))},t})(re.Component);YC.propTypes={};YC.defaultProps=N$;const f0={};function DP(e,t){const n=b.useRef(f0);return n.current===f0&&(n.current=e(t)),n}const B$=[];function H$(e){b.useEffect(e,B$)}class QC{static create(){return new QC}currentId=null;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function TP(){const e=DP(QC.create).current;return H$(e.disposeEffect),e}const MP=e=>e.scrollTop;function Wd(e,t){const{timeout:n,easing:o,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof o=="object"?o[t.mode]:o),delay:i.transitionDelay}}function zd(e){return typeof e=="string"}function kP(e,t,n){return e===void 0||zd(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function IP(e,t,n){return typeof e=="function"?e(t,n):e}function AP(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{n[o]=e[o]}),n}function m0(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function LP(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:o,externalForwardedProps:i,className:r}=e;if(!t){const C=Ve(n?.className,r,i?.className,o?.className),w={...n?.style,...i?.style,...o?.style},y={...n,...i,...o};return C.length>0&&(y.className=C),Object.keys(w).length>0&&(y.style=w),{props:y,internalRef:void 0}}const s=AP({...i,...o}),l=m0(o),u=m0(i),d=t(s),p=Ve(d?.className,n?.className,r,i?.className,o?.className),g={...d?.style,...n?.style,...i?.style,...o?.style},m={...d,...n,...u,...l};return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:d.ref}}function Bt(e,t){const{className:n,elementType:o,ownerState:i,externalForwardedProps:r,internalForwardedProps:s,shouldForwardComponentProp:l=!1,...u}=t,{component:d,slots:p={[e]:void 0},slotProps:g={[e]:void 0},...m}=r,C=p[e]||o,w=IP(g[e],i),{props:{component:y,...R},internalRef:x}=LP({className:n,...u,externalForwardedProps:e==="root"?m:void 0,externalSlotProps:w}),E=In(x,w?.ref,t.ref),P=e==="root"?y||d:y,M=kP(C,{...e==="root"&&!d&&!p[e]&&s,...e!=="root"&&!p[e]&&s,...R,...P&&!l&&{as:P},...P&&l&&{component:P},ref:E},i);return[C,M]}function G$(e){return tt("MuiPaper",e)}nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const V$=e=>{const{square:t,elevation:n,variant:o,classes:i}=e,r={root:["root",o,!t&&"rounded",o==="elevation"&&`elevation${n}`]};return ot(r,G$,i)},W$=Re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(gt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ph=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiPaper"}),i=Fh(),{className:r,component:s="div",elevation:l=1,square:u=!1,variant:d="elevation",...p}=o,g={...o,component:s,elevation:l,square:u,variant:d},m=V$(g);return J.jsx(W$,{as:s,ownerState:g,className:Ve(m.root,r),ref:n,...p,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Gd("#fff",um(l))}, ${Gd("#fff",um(l))})`}},...p.style}})});function C0(e){try{return e.matches(":focus-visible")}catch{}return!1}class _d{static create(){return new _d}static use(){const t=DP(_d.create).current,[n,o]=b.useState(!1);return t.shouldMount=n,t.setShouldMount=o,b.useEffect(t.mountEffect,[n]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=_$(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function z$(){return _d.use()}function _$(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});return n.resolve=e,n.reject=t,n}function $$(e){const{className:t,classes:n,pulsate:o=!1,rippleX:i,rippleY:r,rippleSize:s,in:l,onExited:u,timeout:d}=e,[p,g]=b.useState(!1),m=Ve(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),C={width:s,height:s,top:-(s/2)+r,left:-(s/2)+i},w=Ve(n.child,p&&n.childLeaving,o&&n.childPulsate);return!l&&!p&&g(!0),b.useEffect(()=>{if(!l&&u!=null){const y=setTimeout(u,d);return()=>{clearTimeout(y)}}},[u,l,d]),J.jsx("span",{className:m,style:C,children:J.jsx("span",{className:w})})}const Xn=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gm=550,U$=80,j$=dc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,K$=dc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,q$=dc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Y$=Re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Q$=Re($$,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Xn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${j$};
    animation-duration: ${gm}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Xn.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Xn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Xn.childLeaving} {
    opacity: 0;
    animation-name: ${K$};
    animation-duration: ${gm}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Xn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${q$};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,X$=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:r={},className:s,...l}=o,[u,d]=b.useState([]),p=b.useRef(0),g=b.useRef(null);b.useEffect(()=>{g.current&&(g.current(),g.current=null)},[u]);const m=b.useRef(!1),C=TP(),w=b.useRef(null),y=b.useRef(null),R=b.useCallback(M=>{const{pulsate:T,rippleX:k,rippleY:I,rippleSize:z,cb:_}=M;d($=>[...$,J.jsx(Q$,{classes:{ripple:Ve(r.ripple,Xn.ripple),rippleVisible:Ve(r.rippleVisible,Xn.rippleVisible),ripplePulsate:Ve(r.ripplePulsate,Xn.ripplePulsate),child:Ve(r.child,Xn.child),childLeaving:Ve(r.childLeaving,Xn.childLeaving),childPulsate:Ve(r.childPulsate,Xn.childPulsate)},timeout:gm,pulsate:T,rippleX:k,rippleY:I,rippleSize:z},p.current)]),p.current+=1,g.current=_},[r]),x=b.useCallback((M={},T={},k=()=>{})=>{const{pulsate:I=!1,center:z=i||T.pulsate,fakeElement:_=!1}=T;if(M?.type==="mousedown"&&m.current){m.current=!1;return}M?.type==="touchstart"&&(m.current=!0);const $=_?null:y.current,V=$?$.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,B,G;if(z||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)F=Math.round(V.width/2),B=Math.round(V.height/2);else{const{clientX:O,clientY:Y}=M.touches&&M.touches.length>0?M.touches[0]:M;F=Math.round(O-V.left),B=Math.round(Y-V.top)}if(z)G=Math.sqrt((2*V.width**2+V.height**2)/3),G%2===0&&(G+=1);else{const O=Math.max(Math.abs(($?$.clientWidth:0)-F),F)*2+2,Y=Math.max(Math.abs(($?$.clientHeight:0)-B),B)*2+2;G=Math.sqrt(O**2+Y**2)}M?.touches?w.current===null&&(w.current=()=>{R({pulsate:I,rippleX:F,rippleY:B,rippleSize:G,cb:k})},C.start(U$,()=>{w.current&&(w.current(),w.current=null)})):R({pulsate:I,rippleX:F,rippleY:B,rippleSize:G,cb:k})},[i,R,C]),E=b.useCallback(()=>{x({},{pulsate:!0})},[x]),P=b.useCallback((M,T)=>{if(C.clear(),M?.type==="touchend"&&w.current){w.current(),w.current=null,C.start(0,()=>{P(M,T)});return}w.current=null,d(k=>k.length>0?k.slice(1):k),g.current=T},[C]);return b.useImperativeHandle(n,()=>({pulsate:E,start:x,stop:P}),[E,x,P]),J.jsx(Y$,{className:Ve(Xn.root,r.root,s),ref:y,...l,children:J.jsx(YC,{component:null,exit:!0,children:u})})});function Z$(e){return tt("MuiButtonBase",e)}const J$=nt("MuiButtonBase",["root","disabled","focusVisible"]),eU=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:o,classes:i}=e,s=ot({root:["root",t&&"disabled",n&&"focusVisible"]},Z$,i);return n&&o&&(s.root+=` ${o}`),s},tU=Re("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${J$.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),OP=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:r=!1,children:s,className:l,component:u="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:m=!1,focusVisibleClassName:C,LinkComponent:w="a",onBlur:y,onClick:R,onContextMenu:x,onDragLeave:E,onFocus:P,onFocusVisible:M,onKeyDown:T,onKeyUp:k,onMouseDown:I,onMouseLeave:z,onMouseUp:_,onTouchEnd:$,onTouchMove:V,onTouchStart:F,tabIndex:B=0,TouchRippleProps:G,touchRippleRef:O,type:Y,...ne}=o,j=b.useRef(null),X=z$(),K=In(X.ref,O),[L,W]=b.useState(!1);d&&L&&W(!1),b.useImperativeHandle(i,()=>({focusVisible:()=>{W(!0),j.current.focus()}}),[]);const ie=X.shouldMount&&!p&&!d;b.useEffect(()=>{L&&m&&!p&&X.pulsate()},[p,m,L,X]);const pe=si(X,"start",I,g),ye=si(X,"stop",x,g),ve=si(X,"stop",E,g),De=si(X,"stop",_,g),Ie=si(X,"stop",ge=>{L&&ge.preventDefault(),z&&z(ge)},g),Pe=si(X,"start",F,g),he=si(X,"stop",$,g),Be=si(X,"stop",V,g),Ge=si(X,"stop",ge=>{C0(ge.target)||W(!1),y&&y(ge)},!1),Ue=_r(ge=>{j.current||(j.current=ge.currentTarget),C0(ge.target)&&(W(!0),M&&M(ge)),P&&P(ge)}),Te=()=>{const ge=j.current;return u&&u!=="button"&&!(ge.tagName==="A"&&ge.href)},We=_r(ge=>{m&&!ge.repeat&&L&&ge.key===" "&&X.stop(ge,()=>{X.start(ge)}),ge.target===ge.currentTarget&&Te()&&ge.key===" "&&ge.preventDefault(),T&&T(ge),ge.target===ge.currentTarget&&Te()&&ge.key==="Enter"&&!d&&(ge.preventDefault(),R&&R(ge))}),bt=_r(ge=>{m&&ge.key===" "&&L&&!ge.defaultPrevented&&X.stop(ge,()=>{X.pulsate(ge)}),k&&k(ge),R&&ge.target===ge.currentTarget&&Te()&&ge.key===" "&&!ge.defaultPrevented&&R(ge)});let Fe=u;Fe==="button"&&(ne.href||ne.to)&&(Fe=w);const Ne={};if(Fe==="button"){const ge=!!ne.formAction;Ne.type=Y===void 0&&!ge?"button":Y,Ne.disabled=d}else!ne.href&&!ne.to&&(Ne.role="button"),d&&(Ne["aria-disabled"]=d);const je=In(n,j),ze={...o,centerRipple:r,component:u,disabled:d,disableRipple:p,disableTouchRipple:g,focusRipple:m,tabIndex:B,focusVisible:L},fe=eU(ze);return J.jsxs(tU,{as:Fe,className:Ve(fe.root,l),ownerState:ze,onBlur:Ge,onClick:R,onContextMenu:ye,onFocus:Ue,onKeyDown:We,onKeyUp:bt,onMouseDown:pe,onMouseLeave:Ie,onMouseUp:De,onDragLeave:ve,onTouchEnd:he,onTouchMove:Be,onTouchStart:Pe,ref:je,tabIndex:d?-1:B,type:Y,...Ne,...ne,children:[s,ie?J.jsx(X$,{ref:K,center:r,...G}):null]})});function si(e,t,n,o=!1){return _r(i=>(n&&n(i),o||e[t](i),!0))}function nU(e){return typeof e.main=="string"}function oU(e,t=[]){if(!nU(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Ko(e=[]){return([,t])=>t&&oU(t,e)}function iU(e){return tt("MuiCircularProgress",e)}nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const po=44,fm=dc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,mm=dc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,rU=typeof fm!="string"?GC`
        animation: ${fm} 1.4s linear infinite;
      `:null,sU=typeof mm!="string"?GC`
        animation: ${mm} 1.4s ease-in-out infinite;
      `:null,aU=e=>{const{classes:t,variant:n,color:o,disableShrink:i}=e,r={root:["root",n,`color${Me(o)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Me(n)}`,i&&"circleDisableShrink"]};return ot(r,iU,t)},lU=Re("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Me(n.color)}`]]}})(gt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rU||{animation:`${fm} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Ko()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),cU=Re("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),uU=Re("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Me(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(gt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:sU||{animation:`${mm} 1.4s ease-in-out infinite`}}]}))),dU=Re("circle",{name:"MuiCircularProgress",slot:"Track"})(gt(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),NP=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiCircularProgress"}),{className:i,color:r="primary",disableShrink:s=!1,enableTrackSlot:l=!1,size:u=40,style:d,thickness:p=3.6,value:g=0,variant:m="indeterminate",...C}=o,w={...o,color:r,disableShrink:s,size:u,thickness:p,value:g,variant:m,enableTrackSlot:l},y=aU(w),R={},x={},E={};if(m==="determinate"){const P=2*Math.PI*((po-p)/2);R.strokeDasharray=P.toFixed(3),E["aria-valuenow"]=Math.round(g),R.strokeDashoffset=`${((100-g)/100*P).toFixed(3)}px`,x.transform="rotate(-90deg)"}return J.jsx(lU,{className:Ve(y.root,i),style:{width:u,height:u,...x,...d},ownerState:w,ref:n,role:"progressbar",...E,...C,children:J.jsxs(cU,{className:y.svg,ownerState:w,viewBox:`${po/2} ${po/2} ${po} ${po}`,children:[l?J.jsx(dU,{className:y.track,ownerState:w,cx:po,cy:po,r:(po-p)/2,fill:"none",strokeWidth:p,"aria-hidden":"true"}):null,J.jsx(uU,{className:y.circle,style:R,ownerState:w,cx:po,cy:po,r:(po-p)/2,fill:"none",strokeWidth:p})]})})});function hU(e){return tt("MuiIconButton",e)}const v0=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),pU=e=>{const{classes:t,disabled:n,color:o,edge:i,size:r,loading:s}=e,l={root:["root",s&&"loading",n&&"disabled",o!=="default"&&`color${Me(o)}`,i&&`edge${Me(i)}`,`size${Me(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ot(l,hU,t)},gU=Re(OP,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Me(n.color)}`],n.edge&&t[`edge${Me(n.edge)}`],t[`size${Me(n.size)}`]]}})(gt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),gt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Ko()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Ko()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${v0.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${v0.loading}`]:{color:"transparent"}}))),fU=Re("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),mU=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiIconButton"}),{edge:i=!1,children:r,className:s,color:l="default",disabled:u=!1,disableFocusRipple:d=!1,size:p="medium",id:g,loading:m=null,loadingIndicator:C,...w}=o,y=fc(g),R=C??J.jsx(NP,{"aria-labelledby":y,color:"inherit",size:16}),x={...o,edge:i,color:l,disabled:u,disableFocusRipple:d,loading:m,loadingIndicator:R,size:p},E=pU(x);return J.jsxs(gU,{id:m?y:g,className:Ve(E.root,s),centerRipple:!0,focusRipple:!d,disabled:u||m,ref:n,...w,ownerState:x,children:[typeof m=="boolean"&&J.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:J.jsx(fU,{className:E.loadingIndicator,ownerState:x,children:m&&R})}),r]})});function CU(e){return tt("MuiTypography",e)}nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const vU={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},wU=x$(),yU=e=>{const{align:t,gutterBottom:n,noWrap:o,paragraph:i,variant:r,classes:s}=e,l={root:["root",r,e.align!=="inherit"&&`align${Me(t)}`,n&&"gutterBottom",o&&"noWrap",i&&"paragraph"]};return ot(l,CU,s)},SU=Re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Me(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(gt(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(Ko()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Me(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),w0={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},BP=b.forwardRef(function(t,n){const{color:o,...i}=ut({props:t,name:"MuiTypography"}),r=!vU[o],s=wU({...i,...r&&{color:o}}),{align:l="inherit",className:u,component:d,gutterBottom:p=!1,noWrap:g=!1,paragraph:m=!1,variant:C="body1",variantMapping:w=w0,...y}=s,R={...s,align:l,color:o,className:u,component:d,gutterBottom:p,noWrap:g,paragraph:m,variant:C,variantMapping:w},x=d||(m?"p":w[C]||w0[C])||"span",E=yU(R);return J.jsx(SU,{as:x,ref:n,className:Ve(E.root,u),...y,ownerState:R,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...y.style}})});function bU(e){return tt("MuiAppBar",e)}nt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const RU=e=>{const{color:t,position:n,classes:o}=e,i={root:["root",`color${Me(t)}`,`position${Me(n)}`]};return ot(i,bU,o)},y0=(e,t)=>e?`${e.replace(")","")}, ${t})`:t,xU=Re(Ph,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Me(n.position)}`],t[`color${Me(n.color)}`]]}})(gt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit",color:"var(--AppBar-color)"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Ko(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?y0(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?y0(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),FU=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiAppBar"}),{className:i,color:r="primary",enableColorOnDark:s=!1,position:l="fixed",...u}=o,d={...o,color:r,position:l,enableColorOnDark:s},p=RU(d);return J.jsx(xU,{square:!0,component:"header",ownerState:d,elevation:4,className:Ve(p.root,i,l==="fixed"&&"mui-fixed"),ref:n,...u})});function PU(e){const{elementType:t,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:i=!1,...r}=e,s=i?{}:IP(n,o),{props:l,internalRef:u}=LP({...r,externalSlotProps:s}),d=In(u,s?.ref,e.additionalProps?.ref);return kP(t,{...l,ref:d},o)}function mc(e){return parseInt(b.version,10)>=19?e?.props?.ref||null:e?.ref||null}function EU(e){return typeof e=="function"?e():e}const DU=b.forwardRef(function(t,n){const{children:o,container:i,disablePortal:r=!1}=t,[s,l]=b.useState(null),u=In(b.isValidElement(o)?mc(o):null,n);if(ts(()=>{r||l(EU(i)||document.body)},[i,r]),ts(()=>{if(s&&!r)return h0(n,s),()=>{h0(n,null)}},[n,s,r]),r){if(b.isValidElement(o)){const d={ref:u};return b.cloneElement(o,d)}return o}return s&&ch.createPortal(o,s)});function Gu(e){return parseInt(e,10)||0}const TU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function MU(e){for(const t in e)return!1;return!0}function S0(e){return MU(e)||e.outerHeightStyle===0&&!e.overflowing}const kU=b.forwardRef(function(t,n){const{onChange:o,maxRows:i,minRows:r=1,style:s,value:l,...u}=t,{current:d}=b.useRef(l!=null),p=b.useRef(null),g=In(n,p),m=b.useRef(null),C=b.useRef(null),w=b.useCallback(()=>{const P=p.current,M=C.current;if(!P||!M)return;const k=yi(P).getComputedStyle(P);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};M.style.width=k.width,M.value=P.value||t.placeholder||"x",M.value.slice(-1)===`
`&&(M.value+=" ");const I=k.boxSizing,z=Gu(k.paddingBottom)+Gu(k.paddingTop),_=Gu(k.borderBottomWidth)+Gu(k.borderTopWidth),$=M.scrollHeight;M.value="x";const V=M.scrollHeight;let F=$;r&&(F=Math.max(Number(r)*V,F)),i&&(F=Math.min(Number(i)*V,F)),F=Math.max(F,V);const B=F+(I==="border-box"?z+_:0),G=Math.abs(F-$)<=1;return{outerHeightStyle:B,overflowing:G}},[i,r,t.placeholder]),y=_r(()=>{const P=p.current,M=w();if(!P||!M||S0(M))return!1;const T=M.outerHeightStyle;return m.current!=null&&m.current!==T}),R=b.useCallback(()=>{const P=p.current,M=w();if(!P||!M||S0(M))return;const T=M.outerHeightStyle;m.current!==T&&(m.current=T,P.style.height=`${T}px`),P.style.overflow=M.overflowing?"hidden":""},[w]),x=b.useRef(-1);ts(()=>{const P=FP(R),M=p?.current;if(!M)return;const T=yi(M);T.addEventListener("resize",P);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{y()&&(k.unobserve(M),cancelAnimationFrame(x.current),R(),x.current=requestAnimationFrame(()=>{k.observe(M)}))}),k.observe(M)),()=>{P.clear(),cancelAnimationFrame(x.current),T.removeEventListener("resize",P),k&&k.disconnect()}},[w,R,y]),ts(()=>{R()});const E=P=>{d||R();const M=P.target,T=M.value.length,k=M.value.endsWith(`
`),I=M.selectionStart===T;k&&I&&M.setSelectionRange(T,T),o&&o(P)};return J.jsxs(b.Fragment,{children:[J.jsx("textarea",{value:l,onChange:E,ref:g,rows:r,style:s,...u}),J.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:C,tabIndex:-1,style:{...TU.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function xa({props:e,states:t,muiFormControl:n}){return t.reduce((o,i)=>(o[i]=e[i],n&&typeof e[i]>"u"&&(o[i]=n[i]),o),{})}const XC=b.createContext(void 0);function Fa(){return b.useContext(XC)}function b0(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function $d(e,t=!1){return e&&(b0(e.value)&&e.value!==""||t&&b0(e.defaultValue)&&e.defaultValue!=="")}function IU(e){return e.startAdornment}function AU(e){return tt("MuiInputBase",e)}const Ca=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var R0;const Eh=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Me(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Dh=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},LU=e=>{const{classes:t,color:n,disabled:o,error:i,endAdornment:r,focused:s,formControl:l,fullWidth:u,hiddenLabel:d,multiline:p,readOnly:g,size:m,startAdornment:C,type:w}=e,y={root:["root",`color${Me(n)}`,o&&"disabled",i&&"error",u&&"fullWidth",s&&"focused",l&&"formControl",m&&m!=="medium"&&`size${Me(m)}`,p&&"multiline",C&&"adornedStart",r&&"adornedEnd",d&&"hiddenLabel",g&&"readOnly"],input:["input",o&&"disabled",w==="search"&&"inputTypeSearch",p&&"inputMultiline",m==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",C&&"inputAdornedStart",r&&"inputAdornedEnd",g&&"readOnly"]};return ot(y,AU,t)},Th=Re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Eh})(gt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ca.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Mh=Re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Dh})(gt(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},o={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ca.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Ca.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),x0=R$({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),ZC=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:r,autoFocus:s,className:l,color:u,components:d={},componentsProps:p={},defaultValue:g,disabled:m,disableInjectingGlobalStyles:C,endAdornment:w,error:y,fullWidth:R=!1,id:x,inputComponent:E="input",inputProps:P={},inputRef:M,margin:T,maxRows:k,minRows:I,multiline:z=!1,name:_,onBlur:$,onChange:V,onClick:F,onFocus:B,onKeyDown:G,onKeyUp:O,placeholder:Y,readOnly:ne,renderSuffix:j,rows:X,size:K,slotProps:L={},slots:W={},startAdornment:ie,type:pe="text",value:ye,...ve}=o,De=P.value!=null?P.value:ye,{current:Ie}=b.useRef(De!=null),Pe=b.useRef(),he=b.useCallback(it=>{},[]),Be=In(Pe,M,P.ref,he),[Ge,Ue]=b.useState(!1),Te=Fa(),We=xa({props:o,muiFormControl:Te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});We.focused=Te?Te.focused:Ge,b.useEffect(()=>{!Te&&m&&Ge&&(Ue(!1),$&&$())},[Te,m,Ge,$]);const bt=Te&&Te.onFilled,Fe=Te&&Te.onEmpty,Ne=b.useCallback(it=>{$d(it)?bt&&bt():Fe&&Fe()},[bt,Fe]);ts(()=>{Ie&&Ne({value:De})},[De,Ne,Ie]);const je=it=>{B&&B(it),P.onFocus&&P.onFocus(it),Te&&Te.onFocus?Te.onFocus(it):Ue(!0)},ze=it=>{$&&$(it),P.onBlur&&P.onBlur(it),Te&&Te.onBlur?Te.onBlur(it):Ue(!1)},fe=(it,...io)=>{if(!Ie){const Yo=it.target||Pe.current;if(Yo==null)throw new Error(vi(1));Ne({value:Yo.value})}P.onChange&&P.onChange(it,...io),V&&V(it,...io)};b.useEffect(()=>{Ne(Pe.current)},[]);const ge=it=>{Pe.current&&it.currentTarget===it.target&&Pe.current.focus(),F&&F(it)};let mt=E,Ke=P;z&&mt==="input"&&(X?Ke={type:void 0,minRows:X,maxRows:X,...Ke}:Ke={type:void 0,maxRows:k,minRows:I,...Ke},mt=kU);const Et=it=>{Ne(it.animationName==="mui-auto-fill-cancel"?Pe.current:{value:"x"})};b.useEffect(()=>{Te&&Te.setAdornedStart(!!ie)},[Te,ie]);const Qt={...o,color:We.color||"primary",disabled:We.disabled,endAdornment:w,error:We.error,focused:We.focused,formControl:Te,fullWidth:R,hiddenLabel:We.hiddenLabel,multiline:z,size:We.size,startAdornment:ie,type:pe},Cn=LU(Qt),Ye=W.root||d.Root||Th,Rt=L.root||p.root||{},vn=W.input||d.Input||Mh;return Ke={...Ke,...L.input??p.input},J.jsxs(b.Fragment,{children:[!C&&typeof x0=="function"&&(R0||(R0=J.jsx(x0,{}))),J.jsxs(Ye,{...Rt,ref:n,onClick:ge,...ve,...!zd(Ye)&&{ownerState:{...Qt,...Rt.ownerState}},className:Ve(Cn.root,Rt.className,l,ne&&"MuiInputBase-readOnly"),children:[ie,J.jsx(XC.Provider,{value:null,children:J.jsx(vn,{"aria-invalid":We.error,"aria-describedby":i,autoComplete:r,autoFocus:s,defaultValue:g,disabled:We.disabled,id:x,onAnimationStart:Et,name:_,placeholder:Y,readOnly:ne,required:We.required,rows:X,value:De,onKeyDown:G,onKeyUp:O,type:pe,...Ke,...!zd(vn)&&{as:mt,ownerState:{...Qt,...Ke.ownerState}},ref:Be,className:Ve(Cn.input,Ke.className,ne&&"MuiInputBase-readOnly"),onBlur:ze,onChange:fe,onFocus:je})}),w,j?j({...We,startAdornment:ie}):null]})]})});function OU(e){return tt("MuiInput",e)}const fl={...Ca,...nt("MuiInput",["root","underline","input"])};function NU(e){return tt("MuiOutlinedInput",e)}const Ao={...Ca,...nt("MuiOutlinedInput",["root","notchedOutline","input"])};function BU(e){return tt("MuiFilledInput",e)}const Fr={...Ca,...nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},HU=xP(J.jsx("path",{d:"M7 10l5 5 5-5z"})),GU={entering:{opacity:1},entered:{opacity:1}},Cm=b.forwardRef(function(t,n){const o=Fh(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:r,appear:s=!0,children:l,easing:u,in:d,onEnter:p,onEntered:g,onEntering:m,onExit:C,onExited:w,onExiting:y,style:R,timeout:x=i,TransitionComponent:E=qo,...P}=t,M=b.useRef(null),T=In(M,mc(l),n),k=G=>O=>{if(G){const Y=M.current;O===void 0?G(Y):G(Y,O)}},I=k(m),z=k((G,O)=>{MP(G);const Y=Wd({style:R,timeout:x,easing:u},{mode:"enter"});G.style.webkitTransition=o.transitions.create("opacity",Y),G.style.transition=o.transitions.create("opacity",Y),p&&p(G,O)}),_=k(g),$=k(y),V=k(G=>{const O=Wd({style:R,timeout:x,easing:u},{mode:"exit"});G.style.webkitTransition=o.transitions.create("opacity",O),G.style.transition=o.transitions.create("opacity",O),C&&C(G)}),F=k(w),B=G=>{r&&r(M.current,G)};return J.jsx(E,{appear:s,in:d,nodeRef:M,onEnter:z,onEntered:_,onEntering:I,onExit:V,onExited:F,onExiting:$,addEndListener:B,timeout:x,...P,children:(G,{ownerState:O,...Y})=>b.cloneElement(l,{style:{opacity:0,visibility:G==="exited"&&!d?"hidden":void 0,...GU[G],...R,...l.props.style},ref:T,...Y})})});function VU(e){return tt("MuiBackdrop",e)}nt("MuiBackdrop",["root","invisible"]);const WU=e=>{const{classes:t,invisible:n}=e;return ot({root:["root",n&&"invisible"]},VU,t)},zU=Re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),HP=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiBackdrop"}),{children:i,className:r,component:s="div",invisible:l=!1,open:u,components:d={},componentsProps:p={},slotProps:g={},slots:m={},TransitionComponent:C,transitionDuration:w,...y}=o,R={...o,component:s,invisible:l},x=WU(R),E={transition:C,root:d.Root,...m},P={...p,...g},M={component:s,slots:E,slotProps:P},[T,k]=Bt("root",{elementType:zU,externalForwardedProps:M,className:Ve(x.root,r),ownerState:R}),[I,z]=Bt("transition",{elementType:Cm,externalForwardedProps:M,ownerState:R});return J.jsx(I,{in:u,timeout:w,...y,...z,children:J.jsx(T,{"aria-hidden":!0,...k,ref:n,children:i})})});function _U(e){return tt("MuiButton",e)}const Pr=nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),$U=b.createContext({}),UU=b.createContext(void 0),jU=e=>{const{color:t,disableElevation:n,fullWidth:o,size:i,variant:r,loading:s,loadingPosition:l,classes:u}=e,d={root:["root",s&&"loading",r,`${r}${Me(t)}`,`size${Me(i)}`,`${r}Size${Me(i)}`,`color${Me(t)}`,n&&"disableElevation",o&&"fullWidth",s&&`loadingPosition${Me(l)}`],startIcon:["icon","startIcon",`iconSize${Me(i)}`],endIcon:["icon","endIcon",`iconSize${Me(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=ot(d,_U,u);return{...u,...p}},GP=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],KU=Re(OP,{shouldForwardProp:e=>Ro(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Me(n.color)}`],t[`size${Me(n.size)}`],t[`${n.variant}Size${Me(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(gt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Pr.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Pr.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Pr.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Pr.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Ko()).map(([o])=>({props:{color:o},style:{"--variant-textColor":(e.vars||e).palette[o].main,"--variant-outlinedColor":(e.vars||e).palette[o].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[o].main,.5),"--variant-containedColor":(e.vars||e).palette[o].contrastText,"--variant-containedBg":(e.vars||e).palette[o].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[o].dark,"--variant-textBg":e.alpha((e.vars||e).palette[o].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[o].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[o].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pr.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pr.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Pr.loading}`]:{color:"transparent"}}}]}})),qU=Re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Me(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...GP]})),YU=Re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Me(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...GP]})),QU=Re("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),F0=Re("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),df=b.forwardRef(function(t,n){const o=b.useContext($U),i=b.useContext(UU),r=Hd(o,t),s=ut({props:r,name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:p,disabled:g=!1,disableElevation:m=!1,disableFocusRipple:C=!1,endIcon:w,focusVisibleClassName:y,fullWidth:R=!1,id:x,loading:E=null,loadingIndicator:P,loadingPosition:M="center",size:T="medium",startIcon:k,type:I,variant:z="text",..._}=s,$=fc(x),V=P??J.jsx(NP,{"aria-labelledby":$,color:"inherit",size:16}),F={...s,color:u,component:d,disabled:g,disableElevation:m,disableFocusRipple:C,fullWidth:R,loading:E,loadingIndicator:V,loadingPosition:M,size:T,type:I,variant:z},B=jU(F),G=(k||E&&M==="start")&&J.jsx(qU,{className:B.startIcon,ownerState:F,children:k||J.jsx(F0,{className:B.loadingIconPlaceholder,ownerState:F})}),O=(w||E&&M==="end")&&J.jsx(YU,{className:B.endIcon,ownerState:F,children:w||J.jsx(F0,{className:B.loadingIconPlaceholder,ownerState:F})}),Y=i||"",ne=typeof E=="boolean"?J.jsx("span",{className:B.loadingWrapper,style:{display:"contents"},children:E&&J.jsx(QU,{className:B.loadingIndicator,ownerState:F,children:V})}):null;return J.jsxs(KU,{ownerState:F,className:Ve(o.className,B.root,p,Y),component:d,disabled:g||E,focusRipple:!C,focusVisibleClassName:Ve(B.focusVisible,y),ref:n,type:I,id:E?$:x,..._,classes:B,children:[G,M!=="end"&&ne,l,M==="end"&&ne,O]})});function VP(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function XU(e){const t=yo(e);return t.body===e?yi(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Nl(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function P0(e){return parseFloat(yi(e).getComputedStyle(e).paddingRight)||0}function ZU(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||o}function E0(e,t,n,o,i){const r=[t,n,...o];[].forEach.call(e.children,s=>{const l=!r.includes(s),u=!ZU(s);l&&u&&Nl(s,i)})}function hf(e,t){let n=-1;return e.some((o,i)=>t(o)?(n=i,!0):!1),n}function JU(e,t){const n=[],o=e.container;if(!t.disableScrollLock){if(XU(o)){const s=VP(yi(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${P0(o)+s}px`;const l=yo(o).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${P0(u)+s}px`})}let r;if(o.parentNode instanceof DocumentFragment)r=yo(o).body;else{const s=o.parentElement,l=yi(o);r=s?.nodeName==="HTML"&&l.getComputedStyle(s).overflowY==="scroll"?s:o}n.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{n.forEach(({value:r,el:s,property:l})=>{r?s.style.setProperty(l,r):s.style.removeProperty(l)})}}function e7(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class t7{constructor(){this.modals=[],this.containers=[]}add(t,n){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&Nl(t.modalRef,!1);const i=e7(n);E0(n,t.mount,t.modalRef,i,!0);const r=hf(this.containers,s=>s.container===n);return r!==-1?(this.containers[r].modals.push(t),o):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),o)}mount(t,n){const o=hf(this.containers,r=>r.modals.includes(t)),i=this.containers[o];i.restore||(i.restore=JU(i,n))}remove(t,n=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const i=hf(this.containers,s=>s.modals.includes(t)),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(o,1),r.modals.length===0)r.restore&&r.restore(),t.modalRef&&Nl(t.modalRef,n),E0(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=r.modals[r.modals.length-1];s.modalRef&&Nl(s.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Fl(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const n7=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function o7(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function i7(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function r7(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||i7(e))}function s7(e){const t=[],n=[];return Array.from(e.querySelectorAll(n7)).forEach((o,i)=>{const r=o7(o);r===-1||!r7(o)||(r===0?t.push(o):n.push({documentOrder:i,tabIndex:r,node:o}))}),n.sort((o,i)=>o.tabIndex===i.tabIndex?o.documentOrder-i.documentOrder:o.tabIndex-i.tabIndex).map(o=>o.node).concat(t)}function a7(){return!0}function l7(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:r=s7,isEnabled:s=a7,open:l}=e,u=b.useRef(!1),d=b.useRef(null),p=b.useRef(null),g=b.useRef(null),m=b.useRef(null),C=b.useRef(!1),w=b.useRef(null),y=In(mc(t),w),R=b.useRef(null);b.useEffect(()=>{!l||!w.current||(C.current=!n)},[n,l]),b.useEffect(()=>{if(!l||!w.current)return;const P=yo(w.current),M=Fl(P);return w.current.contains(M)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex","-1"),C.current&&w.current.focus()),()=>{i||(g.current&&g.current.focus&&(u.current=!0,g.current.focus()),g.current=null)}},[l]),b.useEffect(()=>{if(!l||!w.current)return;const P=yo(w.current),M=I=>{if(R.current=I,o||!s()||I.key!=="Tab")return;Fl(P)===w.current&&I.shiftKey&&(u.current=!0,p.current&&p.current.focus())},T=()=>{const I=w.current;if(I===null)return;const z=Fl(P);if(!P.hasFocus()||!s()||u.current){u.current=!1;return}if(I.contains(z)||o&&z!==d.current&&z!==p.current)return;if(z!==m.current)m.current=null;else if(m.current!==null)return;if(!C.current)return;let _=[];if((z===d.current||z===p.current)&&(_=r(w.current)),_.length>0){const $=!!(R.current?.shiftKey&&R.current?.key==="Tab"),V=_[0],F=_[_.length-1];typeof V!="string"&&typeof F!="string"&&($?F.focus():V.focus())}else I.focus()};P.addEventListener("focusin",T),P.addEventListener("keydown",M,!0);const k=setInterval(()=>{const I=Fl(P);I&&I.tagName==="BODY"&&T()},50);return()=>{clearInterval(k),P.removeEventListener("focusin",T),P.removeEventListener("keydown",M,!0)}},[n,o,i,s,l,r]);const x=P=>{g.current===null&&(g.current=P.relatedTarget),C.current=!0,m.current=P.target;const M=t.props.onFocus;M&&M(P)},E=P=>{g.current===null&&(g.current=P.relatedTarget),C.current=!0};return J.jsxs(b.Fragment,{children:[J.jsx("div",{tabIndex:l?0:-1,onFocus:E,ref:d,"data-testid":"sentinelStart"}),b.cloneElement(t,{ref:y,onFocus:x}),J.jsx("div",{tabIndex:l?0:-1,onFocus:E,ref:p,"data-testid":"sentinelEnd"})]})}function c7(e){return typeof e=="function"?e():e}function u7(e){return e?e.props.hasOwnProperty("in"):!1}const D0=()=>{},Vu=new t7;function d7(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,closeAfterTransition:i=!1,onTransitionEnter:r,onTransitionExited:s,children:l,onClose:u,open:d,rootRef:p}=e,g=b.useRef({}),m=b.useRef(null),C=b.useRef(null),w=In(C,p),[y,R]=b.useState(!d),x=u7(l);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const P=()=>yo(m.current),M=()=>(g.current.modalRef=C.current,g.current.mount=m.current,g.current),T=()=>{Vu.mount(M(),{disableScrollLock:o}),C.current&&(C.current.scrollTop=0)},k=_r(()=>{const O=c7(t)||P().body;Vu.add(M(),O),C.current&&T()}),I=()=>Vu.isTopModal(M()),z=_r(O=>{m.current=O,O&&(d&&I()?T():C.current&&Nl(C.current,E))}),_=b.useCallback(()=>{Vu.remove(M(),E)},[E]);b.useEffect(()=>()=>{_()},[_]),b.useEffect(()=>{d?k():(!x||!i)&&_()},[d,_,x,i,k]);const $=O=>Y=>{O.onKeyDown?.(Y),!(Y.key!=="Escape"||Y.which===229||!I())&&(n||(Y.stopPropagation(),u&&u(Y,"escapeKeyDown")))},V=O=>Y=>{O.onClick?.(Y),Y.target===Y.currentTarget&&u&&u(Y,"backdropClick")};return{getRootProps:(O={})=>{const Y=AP(e);delete Y.onTransitionEnter,delete Y.onTransitionExited;const ne={...Y,...O};return{role:"presentation",...ne,onKeyDown:$(ne),ref:w}},getBackdropProps:(O={})=>{const Y=O;return{"aria-hidden":!0,...Y,onClick:V(Y),open:d}},getTransitionProps:()=>{const O=()=>{R(!1),r&&r()},Y=()=>{R(!0),s&&s(),i&&_()};return{onEnter:d0(O,l?.props.onEnter??D0),onExited:d0(Y,l?.props.onExited??D0)}},rootRef:w,portalRef:z,isTopModal:I,exited:y,hasTransition:x}}function h7(e){return tt("MuiModal",e)}nt("MuiModal",["root","hidden","backdrop"]);const p7=e=>{const{open:t,exited:n,classes:o}=e;return ot({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},h7,o)},g7=Re("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(gt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),f7=Re(HP,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),WP=b.forwardRef(function(t,n){const o=ut({name:"MuiModal",props:t}),{BackdropComponent:i=f7,BackdropProps:r,classes:s,className:l,closeAfterTransition:u=!1,children:d,container:p,component:g,components:m={},componentsProps:C={},disableAutoFocus:w=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:R=!1,disablePortal:x=!1,disableRestoreFocus:E=!1,disableScrollLock:P=!1,hideBackdrop:M=!1,keepMounted:T=!1,onClose:k,onTransitionEnter:I,onTransitionExited:z,open:_,slotProps:$={},slots:V={},theme:F,...B}=o,G={...o,closeAfterTransition:u,disableAutoFocus:w,disableEnforceFocus:y,disableEscapeKeyDown:R,disablePortal:x,disableRestoreFocus:E,disableScrollLock:P,hideBackdrop:M,keepMounted:T},{getRootProps:O,getBackdropProps:Y,getTransitionProps:ne,portalRef:j,isTopModal:X,exited:K,hasTransition:L}=d7({...G,rootRef:n}),W={...G,exited:K},ie=p7(W),pe={};if(d.props.tabIndex===void 0&&(pe.tabIndex="-1"),L){const{onEnter:he,onExited:Be}=ne();pe.onEnter=he,pe.onExited=Be}const ye={slots:{root:m.Root,backdrop:m.Backdrop,...V},slotProps:{...C,...$}},[ve,De]=Bt("root",{ref:n,elementType:g7,externalForwardedProps:{...ye,...B,component:g},getSlotProps:O,ownerState:W,className:Ve(l,ie?.root,!W.open&&W.exited&&ie?.hidden)}),[Ie,Pe]=Bt("backdrop",{ref:r?.ref,elementType:i,externalForwardedProps:ye,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:he=>Y({...he,onClick:Be=>{he?.onClick&&he.onClick(Be)}}),className:Ve(r?.className,ie?.backdrop),ownerState:W});return!T&&!_&&(!L||K)?null:J.jsx(DU,{ref:j,container:p,disablePortal:x,children:J.jsxs(ve,{...De,children:[!M&&i?J.jsx(Ie,{...Pe}):null,J.jsx(l7,{disableEnforceFocus:y,disableAutoFocus:w,disableRestoreFocus:E,isEnabled:X,open:_,children:b.cloneElement(d,pe)})]})})});function m7(e){return tt("MuiDialog",e)}const pf=nt("MuiDialog",["root","backdrop","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),zP=b.createContext({}),C7=Re(HP,{name:"MuiDialog",slot:"Backdrop"})({zIndex:-1}),v7=e=>{const{classes:t,scroll:n,maxWidth:o,fullWidth:i,fullScreen:r}=e,s={root:["root"],backdrop:["backdrop"],container:["container",`scroll${Me(n)}`],paper:["paper",`paperScroll${Me(n)}`,`paperWidth${Me(String(o))}`,i&&"paperFullWidth",r&&"paperFullScreen"]};return ot(s,m7,t)},w7=Re(WP,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),y7=Re("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Me(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),S7=Re(Ph,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Me(n.scroll)}`],t[`paperWidth${Me(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(gt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${pf.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${pf.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${pf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),b7=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiDialog"}),i=Fh(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":l,"aria-modal":u=!0,BackdropComponent:d,BackdropProps:p,children:g,className:m,disableEscapeKeyDown:C=!1,fullScreen:w=!1,fullWidth:y=!1,maxWidth:R="sm",onClick:x,onClose:E,open:P,PaperComponent:M=Ph,PaperProps:T={},scroll:k="paper",slots:I={},slotProps:z={},TransitionComponent:_=Cm,transitionDuration:$=r,TransitionProps:V,...F}=o,B={...o,disableEscapeKeyDown:C,fullScreen:w,fullWidth:y,maxWidth:R,scroll:k},G=v7(B),O=b.useRef(),Y=Ue=>{O.current=Ue.target===Ue.currentTarget},ne=Ue=>{x&&x(Ue),O.current&&(O.current=null,E&&E(Ue,"backdropClick"))},j=fc(l),X=b.useMemo(()=>({titleId:j}),[j]),K={transition:_,...I},L={transition:V,paper:T,backdrop:p,...z},W={slots:K,slotProps:L},[ie,pe]=Bt("root",{elementType:w7,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:B,className:Ve(G.root,m),ref:n}),[ye,ve]=Bt("backdrop",{elementType:C7,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:B,className:G.backdrop}),[De,Ie]=Bt("paper",{elementType:S7,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:B,className:Ve(G.paper,T.className)}),[Pe,he]=Bt("container",{elementType:y7,externalForwardedProps:W,ownerState:B,className:G.container}),[Be,Ge]=Bt("transition",{elementType:Cm,externalForwardedProps:W,ownerState:B,additionalProps:{appear:!0,in:P,timeout:$,role:"presentation"}});return J.jsx(ie,{closeAfterTransition:!0,slots:{backdrop:ye},slotProps:{backdrop:{transitionDuration:$,as:d,...ve}},disableEscapeKeyDown:C,onClose:E,open:P,onClick:ne,...pe,...F,children:J.jsx(Be,{...Ge,children:J.jsx(Pe,{onMouseDown:Y,...he,children:J.jsx(De,{as:M,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":j,"aria-modal":u,...Ie,children:J.jsx(zP.Provider,{value:X,children:g})})})})})});function R7(e){return tt("MuiDialogActions",e)}nt("MuiDialogActions",["root","spacing"]);const x7=e=>{const{classes:t,disableSpacing:n}=e;return ot({root:["root",!n&&"spacing"]},R7,t)},F7=Re("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),P7=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:r=!1,...s}=o,l={...o,disableSpacing:r},u=x7(l);return J.jsx(F7,{className:Ve(u.root,i),ownerState:l,ref:n,...s})});function E7(e){return tt("MuiDialogContent",e)}nt("MuiDialogContent",["root","dividers"]);function D7(e){return tt("MuiDialogTitle",e)}const T7=nt("MuiDialogTitle",["root"]),M7=e=>{const{classes:t,dividers:n}=e;return ot({root:["root",n&&"dividers"]},E7,t)},k7=Re("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(gt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${T7.root} + &`]:{paddingTop:0}}}]}))),I7=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiDialogContent"}),{className:i,dividers:r=!1,...s}=o,l={...o,dividers:r},u=M7(l);return J.jsx(k7,{className:Ve(u.root,i),ownerState:l,ref:n,...s})}),A7=e=>{const{classes:t}=e;return ot({root:["root"]},D7,t)},L7=Re(BP,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),O7=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiDialogTitle"}),{className:i,id:r,...s}=o,l=o,u=A7(l),{titleId:d=r}=b.useContext(zP);return J.jsx(L7,{component:"h2",className:Ve(u.root,i),ownerState:l,ref:n,variant:"h6",id:r??d,...s})}),N7=e=>{const{classes:t,disableUnderline:n,startAdornment:o,endAdornment:i,size:r,hiddenLabel:s,multiline:l}=e,u={root:["root",!n&&"underline",o&&"adornedStart",i&&"adornedEnd",r==="small"&&`size${Me(r)}`,s&&"hiddenLabel",l&&"multiline"],input:["input"]},d=ot(u,BU,t);return{...t,...d}},B7=Re(Th,{shouldForwardProp:e=>Ro(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Eh(e,t),!n.disableUnderline&&t.underline]}})(gt(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${Fr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${Fr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fr.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fr.disabled}, .${Fr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Fr.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Ko()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:l})=>s.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),H7=Re(Mh,{name:"MuiFilledInput",slot:"Input",overridesResolver:Dh})(gt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),JC=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:r={},componentsProps:s,fullWidth:l=!1,hiddenLabel:u,inputComponent:d="input",multiline:p=!1,slotProps:g,slots:m={},type:C="text",...w}=o,y={...o,disableUnderline:i,fullWidth:l,inputComponent:d,multiline:p,type:C},R=N7(o),x={root:{ownerState:y},input:{ownerState:y}},E=g??s?cn(x,g??s):x,P=m.root??r.Root??B7,M=m.input??r.Input??H7;return J.jsx(ZC,{slots:{root:P,input:M},slotProps:E,fullWidth:l,inputComponent:d,multiline:p,ref:n,type:C,...w,classes:R})});JC.muiName="Input";function G7(e){return tt("MuiFormControl",e)}nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const V7=e=>{const{classes:t,margin:n,fullWidth:o}=e,i={root:["root",n!=="none"&&`margin${Me(n)}`,o&&"fullWidth"]};return ot(i,G7,t)},W7=Re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Me(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),z7=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiFormControl"}),{children:i,className:r,color:s="primary",component:l="div",disabled:u=!1,error:d=!1,focused:p,fullWidth:g=!1,hiddenLabel:m=!1,margin:C="none",required:w=!1,size:y="medium",variant:R="outlined",...x}=o,E={...o,color:s,component:l,disabled:u,error:d,fullWidth:g,hiddenLabel:m,margin:C,required:w,size:y,variant:R},P=V7(E),[M,T]=b.useState(()=>{let O=!1;return i&&b.Children.forEach(i,Y=>{if(!cf(Y,["Input","Select"]))return;const ne=cf(Y,["Select"])?Y.props.input:Y;ne&&IU(ne.props)&&(O=!0)}),O}),[k,I]=b.useState(()=>{let O=!1;return i&&b.Children.forEach(i,Y=>{cf(Y,["Input","Select"])&&($d(Y.props,!0)||$d(Y.props.inputProps,!0))&&(O=!0)}),O}),[z,_]=b.useState(!1);u&&z&&_(!1);const $=p!==void 0&&!u?p:z;let V;b.useRef(!1);const F=b.useCallback(()=>{I(!0)},[]),B=b.useCallback(()=>{I(!1)},[]),G=b.useMemo(()=>({adornedStart:M,setAdornedStart:T,color:s,disabled:u,error:d,filled:k,focused:$,fullWidth:g,hiddenLabel:m,size:y,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:B,onFilled:F,registerEffect:V,required:w,variant:R}),[M,s,u,d,k,$,g,m,V,B,F,w,y,R]);return J.jsx(XC.Provider,{value:G,children:J.jsx(W7,{as:l,ownerState:E,className:Ve(P.root,r),ref:n,...x,children:i})})});function _7(e){return tt("MuiFormHelperText",e)}const T0=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var M0;const $7=e=>{const{classes:t,contained:n,size:o,disabled:i,error:r,filled:s,focused:l,required:u}=e,d={root:["root",i&&"disabled",r&&"error",o&&`size${Me(o)}`,n&&"contained",l&&"focused",s&&"filled",u&&"required"]};return ot(d,_7,t)},U7=Re("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Me(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(gt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${T0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${T0.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),j7=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiFormHelperText"}),{children:i,className:r,component:s="p",disabled:l,error:u,filled:d,focused:p,margin:g,required:m,variant:C,...w}=o,y=Fa(),R=xa({props:o,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),x={...o,component:s,contained:R.variant==="filled"||R.variant==="outlined",variant:R.variant,size:R.size,disabled:R.disabled,error:R.error,filled:R.filled,focused:R.focused,required:R.required};delete x.ownerState;const E=$7(x);return J.jsx(U7,{as:s,className:Ve(E.root,r),ref:n,...w,ownerState:x,children:i===" "?M0||(M0=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function K7(e){return tt("MuiFormLabel",e)}const Bl=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),q7=e=>{const{classes:t,color:n,focused:o,disabled:i,error:r,filled:s,required:l}=e,u={root:["root",`color${Me(n)}`,i&&"disabled",r&&"error",s&&"filled",o&&"focused",l&&"required"],asterisk:["asterisk",r&&"error"]};return ot(u,K7,t)},Y7=Re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(gt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Ko()).map(([t])=>({props:{color:t},style:{[`&.${Bl.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Bl.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Bl.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),Q7=Re("span",{name:"MuiFormLabel",slot:"Asterisk"})(gt(({theme:e})=>({[`&.${Bl.error}`]:{color:(e.vars||e).palette.error.main}}))),X7=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiFormLabel"}),{children:i,className:r,color:s,component:l="label",disabled:u,error:d,filled:p,focused:g,required:m,...C}=o,w=Fa(),y=xa({props:o,muiFormControl:w,states:["color","required","focused","disabled","error","filled"]}),R={...o,color:y.color||"primary",component:l,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},x=q7(R);return J.jsxs(Y7,{as:l,ownerState:R,className:Ve(x.root,r),ref:n,...C,children:[i,y.required&&J.jsxs(Q7,{ownerState:R,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function vm(e){return`scale(${e}, ${e**2})`}const Z7={entering:{opacity:1,transform:vm(1)},entered:{opacity:1,transform:"none"}},gf=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),wm=b.forwardRef(function(t,n){const{addEndListener:o,appear:i=!0,children:r,easing:s,in:l,onEnter:u,onEntered:d,onEntering:p,onExit:g,onExited:m,onExiting:C,style:w,timeout:y="auto",TransitionComponent:R=qo,...x}=t,E=TP(),P=b.useRef(),M=Fh(),T=b.useRef(null),k=In(T,mc(r),n),I=O=>Y=>{if(O){const ne=T.current;Y===void 0?O(ne):O(ne,Y)}},z=I(p),_=I((O,Y)=>{MP(O);const{duration:ne,delay:j,easing:X}=Wd({style:w,timeout:y,easing:s},{mode:"enter"});let K;y==="auto"?(K=M.transitions.getAutoHeightDuration(O.clientHeight),P.current=K):K=ne,O.style.transition=[M.transitions.create("opacity",{duration:K,delay:j}),M.transitions.create("transform",{duration:gf?K:K*.666,delay:j,easing:X})].join(","),u&&u(O,Y)}),$=I(d),V=I(C),F=I(O=>{const{duration:Y,delay:ne,easing:j}=Wd({style:w,timeout:y,easing:s},{mode:"exit"});let X;y==="auto"?(X=M.transitions.getAutoHeightDuration(O.clientHeight),P.current=X):X=Y,O.style.transition=[M.transitions.create("opacity",{duration:X,delay:ne}),M.transitions.create("transform",{duration:gf?X:X*.666,delay:gf?ne:ne||X*.333,easing:j})].join(","),O.style.opacity=0,O.style.transform=vm(.75),g&&g(O)}),B=I(m),G=O=>{y==="auto"&&E.start(P.current||0,O),o&&o(T.current,O)};return J.jsx(R,{appear:i,in:l,nodeRef:T,onEnter:_,onEntered:$,onEntering:z,onExit:F,onExited:B,onExiting:V,addEndListener:G,timeout:y==="auto"?null:y,...x,children:(O,{ownerState:Y,...ne})=>b.cloneElement(r,{style:{opacity:0,transform:vm(.75),visibility:O==="exited"&&!l?"hidden":void 0,...Z7[O],...w,...r.props.style},ref:k,...ne})})});wm&&(wm.muiSupportAuto=!0);const J7=e=>{const{classes:t,disableUnderline:n}=e,i=ot({root:["root",!n&&"underline"],input:["input"]},OU,t);return{...t,...i}},e9=Re(Th,{shouldForwardProp:e=>Ro(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Eh(e,t),!n.disableUnderline&&t.underline]}})(gt(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:o})=>o.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fl.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fl.disabled}, .${fl.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${fl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Ko()).map(([o])=>({props:{color:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[o].main}`}}}))]}})),t9=Re(Mh,{name:"MuiInput",slot:"Input",overridesResolver:Dh})({}),ev=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:r={},componentsProps:s,fullWidth:l=!1,inputComponent:u="input",multiline:d=!1,slotProps:p,slots:g={},type:m="text",...C}=o,w=J7(o),R={root:{ownerState:{disableUnderline:i}}},x=p??s?cn(p??s,R):R,E=g.root??r.Root??e9,P=g.input??r.Input??t9;return J.jsx(ZC,{slots:{root:E,input:P},slotProps:x,fullWidth:l,inputComponent:u,multiline:d,ref:n,type:m,...C,classes:w})});ev.muiName="Input";function n9(e){return tt("MuiInputLabel",e)}nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const o9=e=>{const{classes:t,formControl:n,size:o,shrink:i,disableAnimation:r,variant:s,required:l}=e,u={root:["root",n&&"formControl",!r&&"animated",i&&"shrink",o&&o!=="medium"&&`size${Me(o)}`,s],asterisk:[l&&"asterisk"]},d=ot(u,n9,t);return{...t,...d}},i9=Re(X7,{shouldForwardProp:e=>Ro(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Bl.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(gt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:o})=>t==="filled"&&n.shrink&&o==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),r9=b.forwardRef(function(t,n){const o=ut({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:r,shrink:s,variant:l,className:u,...d}=o,p=Fa();let g=s;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const m=xa({props:o,muiFormControl:p,states:["size","variant","required","focused"]}),C={...o,disableAnimation:i,formControl:p,shrink:g,size:m.size,variant:m.variant,required:m.required,focused:m.focused},w=o9(C);return J.jsx(i9,{"data-shrink":g,ref:n,className:Ve(w.root,u),...d,ownerState:C,classes:w})}),s9=b.createContext({});function a9(e){return tt("MuiList",e)}nt("MuiList",["root","padding","dense","subheader"]);const l9=e=>{const{classes:t,disablePadding:n,dense:o,subheader:i}=e;return ot({root:["root",!n&&"padding",o&&"dense",i&&"subheader"]},a9,t)},c9=Re("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),u9=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiList"}),{children:i,className:r,component:s="ul",dense:l=!1,disablePadding:u=!1,subheader:d,...p}=o,g=b.useMemo(()=>({dense:l}),[l]),m={...o,component:s,dense:l,disablePadding:u},C=l9(m);return J.jsx(s9.Provider,{value:g,children:J.jsxs(c9,{as:s,className:Ve(C.root,r),ref:n,ownerState:m,...p,children:[d,i]})})});function ff(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function k0(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function _P(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function ml(e,t,n,o,i,r){let s=!1,l=i(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(s)return!1;s=!0}const u=o?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!_P(l,r)||u)l=i(e,l,n);else return l.focus(),!0}return!1}const d9=b.forwardRef(function(t,n){const{actions:o,autoFocus:i=!1,autoFocusItem:r=!1,children:s,className:l,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:p,variant:g="selectedMenu",...m}=t,C=b.useRef(null),w=b.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ts(()=>{i&&C.current.focus()},[i]),b.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(P,{direction:M})=>{const T=!C.current.style.width;if(P.clientHeight<C.current.clientHeight&&T){const k=`${VP(yi(P))}px`;C.current.style[M==="rtl"?"paddingLeft":"paddingRight"]=k,C.current.style.width=`calc(100% + ${k})`}return C.current}}),[]);const y=P=>{const M=C.current,T=P.key;if(P.ctrlKey||P.metaKey||P.altKey){p&&p(P);return}const I=Fl(yo(M));if(T==="ArrowDown")P.preventDefault(),ml(M,I,d,u,ff);else if(T==="ArrowUp")P.preventDefault(),ml(M,I,d,u,k0);else if(T==="Home")P.preventDefault(),ml(M,null,d,u,ff);else if(T==="End")P.preventDefault(),ml(M,null,d,u,k0);else if(T.length===1){const z=w.current,_=T.toLowerCase(),$=performance.now();z.keys.length>0&&($-z.lastTime>500?(z.keys=[],z.repeating=!0,z.previousKeyMatched=!0):z.repeating&&_!==z.keys[0]&&(z.repeating=!1)),z.lastTime=$,z.keys.push(_);const V=I&&!z.repeating&&_P(I,z);z.previousKeyMatched&&(V||ml(M,I,!1,u,ff,z))?P.preventDefault():z.previousKeyMatched=!1}p&&p(P)},R=In(C,n);let x=-1;b.Children.forEach(s,(P,M)=>{if(!b.isValidElement(P)){x===M&&(x+=1,x>=s.length&&(x=-1));return}P.props.disabled||(g==="selectedMenu"&&P.props.selected||x===-1)&&(x=M),x===M&&(P.props.disabled||P.props.muiSkipListHighlight||P.type.muiSkipListHighlight)&&(x+=1,x>=s.length&&(x=-1))});const E=b.Children.map(s,(P,M)=>{if(M===x){const T={};return r&&(T.autoFocus=!0),P.props.tabIndex===void 0&&g==="selectedMenu"&&(T.tabIndex=0),b.cloneElement(P,T)}return P});return J.jsx(u9,{role:"menu",ref:R,className:l,onKeyDown:y,tabIndex:i?0:-1,...m,children:E})});function h9(e){return tt("MuiPopover",e)}nt("MuiPopover",["root","paper"]);function I0(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function A0(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function L0(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Wu(e){return typeof e=="function"?e():e}const p9=e=>{const{classes:t}=e;return ot({root:["root"],paper:["paper"]},h9,t)},g9=Re(WP,{name:"MuiPopover",slot:"Root"})({}),$P=Re(Ph,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),f9=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiPopover"}),{action:i,anchorEl:r,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:d,className:p,container:g,elevation:m=8,marginThreshold:C=16,open:w,PaperProps:y={},slots:R={},slotProps:x={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:P,transitionDuration:M="auto",TransitionProps:T={},disableScrollLock:k=!1,...I}=o,z=b.useRef(),_={...o,anchorOrigin:s,anchorReference:u,elevation:m,marginThreshold:C,transformOrigin:E,TransitionComponent:P,transitionDuration:M,TransitionProps:T},$=p9(_),V=b.useCallback(()=>{if(u==="anchorPosition")return l;const he=Wu(r),Ge=(he&&he.nodeType===1?he:yo(z.current).body).getBoundingClientRect();return{top:Ge.top+I0(Ge,s.vertical),left:Ge.left+A0(Ge,s.horizontal)}},[r,s.horizontal,s.vertical,l,u]),F=b.useCallback(he=>({vertical:I0(he,E.vertical),horizontal:A0(he,E.horizontal)}),[E.horizontal,E.vertical]),B=b.useCallback(he=>{const Be={width:he.offsetWidth,height:he.offsetHeight},Ge=F(Be);if(u==="none")return{top:null,left:null,transformOrigin:L0(Ge)};const Ue=V();let Te=Ue.top-Ge.vertical,We=Ue.left-Ge.horizontal;const bt=Te+Be.height,Fe=We+Be.width,Ne=yi(Wu(r)),je=Ne.innerHeight-C,ze=Ne.innerWidth-C;if(C!==null&&Te<C){const fe=Te-C;Te-=fe,Ge.vertical+=fe}else if(C!==null&&bt>je){const fe=bt-je;Te-=fe,Ge.vertical+=fe}if(C!==null&&We<C){const fe=We-C;We-=fe,Ge.horizontal+=fe}else if(Fe>ze){const fe=Fe-ze;We-=fe,Ge.horizontal+=fe}return{top:`${Math.round(Te)}px`,left:`${Math.round(We)}px`,transformOrigin:L0(Ge)}},[r,u,V,F,C]),[G,O]=b.useState(w),Y=b.useCallback(()=>{const he=z.current;if(!he)return;const Be=B(he);Be.top!==null&&he.style.setProperty("top",Be.top),Be.left!==null&&(he.style.left=Be.left),he.style.transformOrigin=Be.transformOrigin,O(!0)},[B]);b.useEffect(()=>(k&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[r,k,Y]);const ne=()=>{Y()},j=()=>{O(!1)};b.useEffect(()=>{w&&Y()}),b.useImperativeHandle(i,()=>w?{updatePosition:()=>{Y()}}:null,[w,Y]),b.useEffect(()=>{if(!w)return;const he=FP(()=>{Y()}),Be=yi(Wu(r));return Be.addEventListener("resize",he),()=>{he.clear(),Be.removeEventListener("resize",he)}},[r,w,Y]);let X=M;const K={slots:{transition:P,...R},slotProps:{transition:T,paper:y,...x}},[L,W]=Bt("transition",{elementType:wm,externalForwardedProps:K,ownerState:_,getSlotProps:he=>({...he,onEntering:(Be,Ge)=>{he.onEntering?.(Be,Ge),ne()},onExited:Be=>{he.onExited?.(Be),j()}}),additionalProps:{appear:!0,in:w}});M==="auto"&&!L.muiSupportAuto&&(X=void 0);const ie=g||(r?yo(Wu(r)).body:void 0),[pe,{slots:ye,slotProps:ve,...De}]=Bt("root",{ref:n,elementType:g9,externalForwardedProps:{...K,...I},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:R.backdrop},slotProps:{backdrop:T$(typeof x.backdrop=="function"?x.backdrop(_):x.backdrop,{invisible:!0})},container:ie,open:w},ownerState:_,className:Ve($.root,p)}),[Ie,Pe]=Bt("paper",{ref:z,className:$.paper,elementType:$P,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:G?void 0:{opacity:0}},ownerState:_});return J.jsx(pe,{...De,...!zd(pe)&&{slots:ye,slotProps:ve,disableScrollLock:k},children:J.jsx(L,{...W,timeout:X,children:J.jsx(Ie,{...Pe,children:d})})})});function m9(e){return tt("MuiMenu",e)}nt("MuiMenu",["root","paper","list"]);const C9={vertical:"top",horizontal:"right"},v9={vertical:"top",horizontal:"left"},w9=e=>{const{classes:t}=e;return ot({root:["root"],paper:["paper"],list:["list"]},m9,t)},y9=Re(f9,{shouldForwardProp:e=>Ro(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),S9=Re($P,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),b9=Re(d9,{name:"MuiMenu",slot:"List"})({outline:0}),R9=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:r,className:s,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:d,open:p,PaperProps:g={},PopoverClasses:m,transitionDuration:C="auto",TransitionProps:{onEntering:w,...y}={},variant:R="selectedMenu",slots:x={},slotProps:E={},...P}=o,M=k8(),T={...o,autoFocus:i,disableAutoFocusItem:l,MenuListProps:u,onEntering:w,PaperProps:g,transitionDuration:C,TransitionProps:y,variant:R},k=w9(T),I=i&&!l&&p,z=b.useRef(null),_=(X,K)=>{z.current&&z.current.adjustStyleForScrollbar(X,{direction:M?"rtl":"ltr"}),w&&w(X,K)},$=X=>{X.key==="Tab"&&(X.preventDefault(),d&&d(X,"tabKeyDown"))};let V=-1;b.Children.map(r,(X,K)=>{b.isValidElement(X)&&(X.props.disabled||(R==="selectedMenu"&&X.props.selected||V===-1)&&(V=K))});const F={slots:x,slotProps:{list:u,transition:y,paper:g,...E}},B=PU({elementType:x.root,externalSlotProps:E.root,ownerState:T,className:[k.root,s]}),[G,O]=Bt("paper",{className:k.paper,elementType:S9,externalForwardedProps:F,shouldForwardComponentProp:!0,ownerState:T}),[Y,ne]=Bt("list",{className:Ve(k.list,u.className),elementType:b9,shouldForwardComponentProp:!0,externalForwardedProps:F,getSlotProps:X=>({...X,onKeyDown:K=>{$(K),X.onKeyDown?.(K)}}),ownerState:T}),j=typeof F.slotProps.transition=="function"?F.slotProps.transition(T):F.slotProps.transition;return J.jsx(y9,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?C9:v9,slots:{root:x.root,paper:G,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:B,paper:O,backdrop:typeof E.backdrop=="function"?E.backdrop(T):E.backdrop,transition:{...j,onEntering:(...X)=>{_(...X),j?.onEntering?.(...X)}}},open:p,ref:n,transitionDuration:C,ownerState:T,...P,classes:m,children:J.jsx(Y,{actions:z,autoFocus:i&&(V===-1||l),autoFocusItem:I,variant:R,...ne,children:r})})});function x9(e){return tt("MuiNativeSelect",e)}const tv=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),F9=e=>{const{classes:t,variant:n,disabled:o,multiple:i,open:r,error:s}=e,l={select:["select",n,o&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Me(n)}`,r&&"iconOpen",o&&"disabled"]};return ot(l,x9,t)},UP=Re("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${tv.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),P9=Re(UP,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ro,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${tv.multiple}`]:t.multiple}]}})({}),jP=Re("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${tv.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),E9=Re(jP,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Me(n.variant)}`],n.open&&t.iconOpen]}})({}),D9=b.forwardRef(function(t,n){const{className:o,disabled:i,error:r,IconComponent:s,inputRef:l,variant:u="standard",...d}=t,p={...t,disabled:i,variant:u,error:r},g=F9(p);return J.jsxs(b.Fragment,{children:[J.jsx(P9,{ownerState:p,className:Ve(g.select,o),disabled:i,ref:l||n,...d}),t.multiple?null:J.jsx(E9,{as:s,ownerState:p,className:g.icon})]})});var O0;const T9=Re("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ro})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),M9=Re("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ro})(gt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function k9(e){const{children:t,classes:n,className:o,label:i,notched:r,...s}=e,l=i!=null&&i!=="",u={...e,notched:r,withLabel:l};return J.jsx(T9,{"aria-hidden":!0,className:o,ownerState:u,...s,children:J.jsx(M9,{ownerState:u,children:l?J.jsx("span",{children:i}):O0||(O0=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const I9=e=>{const{classes:t}=e,o=ot({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},NU,t);return{...t,...o}},A9=Re(Th,{shouldForwardProp:e=>Ro(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Eh})(gt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ao.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ao.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${Ao.focused} .${Ao.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Ko()).map(([n])=>({props:{color:n},style:{[`&.${Ao.focused} .${Ao.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Ao.error} .${Ao.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ao.disabled} .${Ao.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:o})=>n.multiline&&o==="small",style:{padding:"8.5px 14px"}}]}})),L9=Re(k9,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(gt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),O9=Re(Mh,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Dh})(gt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),nv=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiOutlinedInput"}),{components:i={},fullWidth:r=!1,inputComponent:s="input",label:l,multiline:u=!1,notched:d,slots:p={},slotProps:g={},type:m="text",...C}=o,w=I9(o),y=Fa(),R=xa({props:o,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...o,color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:y,fullWidth:r,hiddenLabel:R.hiddenLabel,multiline:u,size:R.size,type:m},E=p.root??i.Root??A9,P=p.input??i.Input??O9,[M,T]=Bt("notchedOutline",{elementType:L9,className:w.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:p,slotProps:g},additionalProps:{label:l!=null&&l!==""&&R.required?J.jsxs(b.Fragment,{children:[l,"","*"]}):l}});return J.jsx(ZC,{slots:{root:E,input:P},slotProps:g,renderSuffix:k=>J.jsx(M,{...T,notched:typeof d<"u"?d:!!(k.startAdornment||k.filled||k.focused)}),fullWidth:r,inputComponent:s,multiline:u,ref:n,type:m,...C,classes:{...w,notchedOutline:null}})});nv.muiName="Input";function KP(e){return tt("MuiSelect",e)}const Cl=nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var N0;const N9=Re(UP,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Cl.select}`]:t.select},{[`&.${Cl.select}`]:t[n.variant]},{[`&.${Cl.error}`]:t.error},{[`&.${Cl.multiple}`]:t.multiple}]}})({[`&.${Cl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),B9=Re(jP,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Me(n.variant)}`],n.open&&t.iconOpen]}})({}),H9=Re("input",{shouldForwardProp:e=>RP(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function B0(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function G9(e){return e==null||typeof e=="string"&&!e.trim()}const V9=e=>{const{classes:t,variant:n,disabled:o,multiple:i,open:r,error:s}=e,l={select:["select",n,o&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Me(n)}`,r&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return ot(l,KP,t)},W9=b.forwardRef(function(t,n){const{"aria-describedby":o,"aria-label":i,autoFocus:r,autoWidth:s,children:l,className:u,defaultOpen:d,defaultValue:p,disabled:g,displayEmpty:m,error:C=!1,IconComponent:w,inputRef:y,labelId:R,MenuProps:x={},multiple:E,name:P,onBlur:M,onChange:T,onClose:k,onFocus:I,onKeyDown:z,onMouseDown:_,onOpen:$,open:V,readOnly:F,renderValue:B,required:G,SelectDisplayProps:O={},tabIndex:Y,type:ne,value:j,variant:X="standard",...K}=t,[L,W]=p0({controlled:j,default:p,name:"Select"}),[ie,pe]=p0({controlled:V,default:d,name:"Select"}),ye=b.useRef(null),ve=b.useRef(null),[De,Ie]=b.useState(null),{current:Pe}=b.useRef(V!=null),[he,Be]=b.useState(),Ge=In(n,y),Ue=b.useCallback(Ee=>{ve.current=Ee,Ee&&Ie(Ee)},[]),Te=De?.parentNode;b.useImperativeHandle(Ge,()=>({focus:()=>{ve.current.focus()},node:ye.current,value:L}),[L]);const We=De!==null&&ie;b.useEffect(()=>{if(!We||!Te||s||typeof ResizeObserver>"u")return;const Ee=new ResizeObserver(()=>{Be(Te.clientWidth)});return Ee.observe(Te),()=>{Ee.disconnect()}},[We,Te,s]),b.useEffect(()=>{d&&ie&&De&&!Pe&&(Be(s?null:Te.clientWidth),ve.current.focus())},[De,s]),b.useEffect(()=>{r&&ve.current.focus()},[r]),b.useEffect(()=>{if(!R)return;const Ee=yo(ve.current).getElementById(R);if(Ee){const rt=()=>{getSelection().isCollapsed&&ve.current.focus()};return Ee.addEventListener("click",rt),()=>{Ee.removeEventListener("click",rt)}}},[R]);const bt=(Ee,rt)=>{Ee?$&&$(rt):k&&k(rt),Pe||(Be(s?null:Te.clientWidth),pe(Ee))},Fe=Ee=>{_?.(Ee),Ee.button===0&&(Ee.preventDefault(),ve.current.focus(),bt(!0,Ee))},Ne=Ee=>{bt(!1,Ee)},je=b.Children.toArray(l),ze=Ee=>{const rt=je.find(It=>It.props.value===Ee.target.value);rt!==void 0&&(W(rt.props.value),T&&T(Ee,rt))},fe=Ee=>rt=>{let It;if(rt.currentTarget.hasAttribute("tabindex")){if(E){It=Array.isArray(L)?L.slice():[];const xo=L.indexOf(Ee.props.value);xo===-1?It.push(Ee.props.value):It.splice(xo,1)}else It=Ee.props.value;if(Ee.props.onClick&&Ee.props.onClick(rt),L!==It&&(W(It),T)){const xo=rt.nativeEvent||rt,Qo=new xo.constructor(xo.type,xo);Object.defineProperty(Qo,"target",{writable:!0,value:{value:It,name:P}}),T(Qo,Ee)}E||bt(!1,rt)}},ge=Ee=>{F||([" ","ArrowUp","ArrowDown","Enter"].includes(Ee.key)&&(Ee.preventDefault(),bt(!0,Ee)),z?.(Ee))},mt=Ee=>{!We&&M&&(Object.defineProperty(Ee,"target",{writable:!0,value:{value:L,name:P}}),M(Ee))};delete K["aria-invalid"];let Ke,Et;const Qt=[];let Cn=!1;($d({value:L})||m)&&(B?Ke=B(L):Cn=!0);const Ye=je.map(Ee=>{if(!b.isValidElement(Ee))return null;let rt;if(E){if(!Array.isArray(L))throw new Error(vi(2));rt=L.some(It=>B0(It,Ee.props.value)),rt&&Cn&&Qt.push(Ee.props.children)}else rt=B0(L,Ee.props.value),rt&&Cn&&(Et=Ee.props.children);return b.cloneElement(Ee,{"aria-selected":rt?"true":"false",onClick:fe(Ee),onKeyUp:It=>{It.key===" "&&It.preventDefault(),Ee.props.onKeyUp&&Ee.props.onKeyUp(It)},role:"option",selected:rt,value:void 0,"data-value":Ee.props.value})});Cn&&(E?Qt.length===0?Ke=null:Ke=Qt.reduce((Ee,rt,It)=>(Ee.push(rt),It<Qt.length-1&&Ee.push(", "),Ee),[]):Ke=Et);let Rt=he;!s&&Pe&&De&&(Rt=Te.clientWidth);let vn;typeof Y<"u"?vn=Y:vn=g?null:0;const it=O.id||(P?`mui-component-select-${P}`:void 0),io={...t,variant:X,value:L,open:We,error:C},Yo=V9(io),rs={...x.PaperProps,...typeof x.slotProps?.paper=="function"?x.slotProps.paper(io):x.slotProps?.paper},kh={...x.MenuListProps,...typeof x.slotProps?.list=="function"?x.slotProps.list(io):x.slotProps?.list},ss=fc();return J.jsxs(b.Fragment,{children:[J.jsx(N9,{as:"div",ref:Ue,tabIndex:vn,role:"combobox","aria-controls":We?ss:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":We?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[R,it].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":G?"true":void 0,"aria-invalid":C?"true":void 0,onKeyDown:ge,onMouseDown:g||F?null:Fe,onBlur:mt,onFocus:I,...O,ownerState:io,className:Ve(O.className,Yo.select,u),id:it,children:G9(Ke)?N0||(N0=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ke}),J.jsx(H9,{"aria-invalid":C,value:Array.isArray(L)?L.join(","):L,name:P,ref:ye,"aria-hidden":!0,onChange:ze,tabIndex:-1,disabled:g,className:Yo.nativeInput,autoFocus:r,required:G,...K,ownerState:io}),J.jsx(B9,{as:w,className:Yo.icon,ownerState:io}),J.jsx(R9,{id:`menu-${P||""}`,anchorEl:Te,open:We,onClose:Ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":R,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:ss,...kh},paper:{...rs,style:{minWidth:Rt,...rs!=null?rs.style:null}}},children:Ye})]})}),z9=e=>{const{classes:t}=e,o=ot({root:["root"]},KP,t);return{...t,...o}},ov={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Ro(e)&&e!=="variant"},_9=Re(ev,ov)(""),$9=Re(nv,ov)(""),U9=Re(JC,ov)(""),qP=b.forwardRef(function(t,n){const o=ut({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:r,classes:s={},className:l,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:p=HU,id:g,input:m,inputProps:C,label:w,labelId:y,MenuProps:R,multiple:x=!1,native:E=!1,onClose:P,onOpen:M,open:T,renderValue:k,SelectDisplayProps:I,variant:z="outlined",..._}=o,$=E?D9:W9,V=Fa(),F=xa({props:o,muiFormControl:V,states:["variant","error"]}),B=F.variant||z,G={...o,variant:B,classes:s},O=z9(G),{root:Y,...ne}=O,j=m||{standard:J.jsx(_9,{ownerState:G}),outlined:J.jsx($9,{label:w,ownerState:G}),filled:J.jsx(U9,{ownerState:G})}[B],X=In(n,mc(j));return J.jsx(b.Fragment,{children:b.cloneElement(j,{inputComponent:$,inputProps:{children:r,error:F.error,IconComponent:p,variant:B,type:void 0,multiple:x,...E?{id:g}:{autoWidth:i,defaultOpen:u,displayEmpty:d,labelId:y,MenuProps:R,onClose:P,onOpen:M,open:T,renderValue:k,SelectDisplayProps:{id:g,...I}},...C,classes:C?cn(ne,C.classes):ne,...m?m.props.inputProps:{}},...(x&&E||d)&&B==="outlined"?{notched:!0}:{},ref:X,className:Ve(j.props.className,l,O.root),...!m&&{variant:B},..._})})});qP.muiName="Select";function j9(e){return tt("MuiToolbar",e)}nt("MuiToolbar",["root","gutters","regular","dense"]);const K9=e=>{const{classes:t,disableGutters:n,variant:o}=e;return ot({root:["root",!n&&"gutters",o]},j9,t)},q9=Re("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(gt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),Y9=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiToolbar"}),{className:i,component:r="div",disableGutters:s=!1,variant:l="regular",...u}=o,d={...o,component:r,disableGutters:s,variant:l},p=K9(d);return J.jsx(q9,{as:r,className:Ve(p.root,i),ref:n,ownerState:d,...u})});function Q9(e){return tt("MuiTextField",e)}nt("MuiTextField",["root"]);const X9={standard:ev,filled:JC,outlined:nv},Z9=e=>{const{classes:t}=e;return ot({root:["root"]},Q9,t)},J9=Re(z7,{name:"MuiTextField",slot:"Root"})({}),mf=b.forwardRef(function(t,n){const o=ut({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:r=!1,children:s,className:l,color:u="primary",defaultValue:d,disabled:p=!1,error:g=!1,FormHelperTextProps:m,fullWidth:C=!1,helperText:w,id:y,InputLabelProps:R,inputProps:x,InputProps:E,inputRef:P,label:M,maxRows:T,minRows:k,multiline:I=!1,name:z,onBlur:_,onChange:$,onFocus:V,placeholder:F,required:B=!1,rows:G,select:O=!1,SelectProps:Y,slots:ne={},slotProps:j={},type:X,value:K,variant:L="outlined",...W}=o,ie={...o,autoFocus:r,color:u,disabled:p,error:g,fullWidth:C,multiline:I,required:B,select:O,variant:L},pe=Z9(ie),ye=fc(y),ve=w&&ye?`${ye}-helper-text`:void 0,De=M&&ye?`${ye}-label`:void 0,Ie=X9[L],Pe={slots:ne,slotProps:{input:E,inputLabel:R,htmlInput:x,formHelperText:m,select:Y,...j}},he={},Be=Pe.slotProps.inputLabel;L==="outlined"&&(Be&&typeof Be.shrink<"u"&&(he.notched=Be.shrink),he.label=M),O&&((!Y||!Y.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[Ge,Ue]=Bt("root",{elementType:J9,shouldForwardComponentProp:!0,externalForwardedProps:{...Pe,...W},ownerState:ie,className:Ve(pe.root,l),ref:n,additionalProps:{disabled:p,error:g,fullWidth:C,required:B,color:u,variant:L}}),[Te,We]=Bt("input",{elementType:Ie,externalForwardedProps:Pe,additionalProps:he,ownerState:ie}),[bt,Fe]=Bt("inputLabel",{elementType:r9,externalForwardedProps:Pe,ownerState:ie}),[Ne,je]=Bt("htmlInput",{elementType:"input",externalForwardedProps:Pe,ownerState:ie}),[ze,fe]=Bt("formHelperText",{elementType:j7,externalForwardedProps:Pe,ownerState:ie}),[ge,mt]=Bt("select",{elementType:qP,externalForwardedProps:Pe,ownerState:ie}),Ke=J.jsx(Te,{"aria-describedby":ve,autoComplete:i,autoFocus:r,defaultValue:d,fullWidth:C,multiline:I,name:z,rows:G,maxRows:T,minRows:k,type:X,value:K,id:ye,inputRef:P,onBlur:_,onChange:$,onFocus:V,placeholder:F,inputProps:je,slots:{input:ne.htmlInput?Ne:void 0},...We});return J.jsxs(Ge,{...Ue,children:[M!=null&&M!==""&&J.jsx(bt,{htmlFor:ye,id:De,...Fe,children:M}),O?J.jsx(ge,{"aria-describedby":ve,id:ye,labelId:De,value:K,input:Ke,...mt,children:s}):Ke,w&&J.jsx(ze,{id:ve,...fe,children:w})]})});function ej(e){const[t,n]=b.useState(!1),[o,i]=b.useState({description:"",date:"",priority:""}),r=()=>{n(!0)},s=()=>{n(!1)},l=()=>{e.addTodo(o),s()},u=()=>{i({...o,[event.target.name]:event.target.value})};return J.jsxs(J.Fragment,{children:[J.jsx(df,{variant:"outlined",onClick:r,children:"Add Todo"}),J.jsxs(b7,{open:t,children:[J.jsx(O7,{children:"New todo"}),J.jsxs(I7,{children:[J.jsx(mf,{name:"description",value:o.description,onChange:u,margin:"dense",label:"description",fullWidth:!0}),J.jsx(mf,{name:"date",value:o.date,onChange:u,margin:"dense",label:"date",fullWidth:!0}),J.jsx(mf,{name:"priority",value:o.priority,onChange:u,margin:"dense",label:"priority",fullWidth:!0})]}),J.jsxs(P7,{children:[J.jsx(df,{color:"primary",onClick:s,children:"Cancel"}),J.jsx(df,{color:"primary",onClick:l,children:"Save"})]})]})]})}const tj=xP(J.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}));Q1.registerModules([Q_]);function nj(){const[e,t]=b.useState([]),n=[{field:"description",sortable:!0,filter:!0},{field:"date",sortable:!0,filter:!0},{field:"priority",sortable:!0,filter:!0},{headerName:"",field:"id",width:90,cellRenderer:l=>J.jsx(mU,{onClick:()=>s(l.value),size:"small",color:"error",children:J.jsx(tj,{})}),sortable:!0}],o=async()=>{console.log("https://firestore.googleapis.com/v1/projects/todolist-121bd/databases/(default)/documents/todo");try{const u=await(await fetch("https://firestore.googleapis.com/v1/projects/todolist-121bd/databases/(default)/documents/todo")).json();if(!u.documents){t([]);return}const d=u.documents.map(p=>({description:p.fields?.description?.stringValue||"",date:p.fields?.date?.stringValue||"",priority:p.fields?.priority?.stringValue||"",value:r(p.fields?.name||"")}));t(d)}catch(l){console.error(l)}},i=l=>{const d={fields:{description:{stringValue:l.description},priority:{stringValue:l.priority},date:{stringValue:l.date}}};fetch("https://firestore.googleapis.com/v1/projects/todolist-121bd/databases/(default)/documents/todo",{method:"POST",body:JSON.stringify(d)}).then(p=>o()).catch(p=>console.error(p))},r=l=>l.substring(l.lastIndexOf("/")+1,l.length),s=l=>{const u=`https://firestore.googleapis.com/v1/projects/todolist-121bd/databases/(default)/documents/todo/${l}.json`;fetch(u,{method:"DELETE"}).then(d=>o()).catch(d=>console.error(d))};return b.useEffect(()=>{o()},[]),J.jsx(J.Fragment,{children:J.jsxs("div",{className:"App",children:[J.jsx(FU,{position:"static",children:J.jsx(Y9,{children:J.jsx(BP,{variant:"h5",children:"TodoList"})})}),J.jsx(ej,{addTodo:i}),J.jsx("div",{className:"ag-theme-alpine",style:{height:500,width:700,justifyContent:"center"},children:J.jsx(c4,{theme:"legacy",rowData:e,columnDefs:n,pagination:!0,paginationPageSize:10})})]})})}XD.createRoot(document.getElementById("root")).render(J.jsx(b.StrictMode,{children:J.jsx(nj,{})}));
